{"version":3,"sources":["webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.PieChart/index.js","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.PieChart/Viewing.Extension.PieChart.js","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.PieChart/Viewing.Extension.PieChart.scss?e048","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.PieChart/Viewing.Extension.PieChart.scss","webpack:///./src/client/components/ReactPie/ReactPie.scss?99e4","webpack:///./src/client/components/ReactPie/ReactPie.scss","webpack:///./src/client/components/ReactPie/ReactPieSegment.js","webpack:///./src/client/components/ReactPie/ReactPie.js","webpack:///./src/client/components/ReactPie/index.js","webpack:///./src/client/components/Viewer/Extensions/Viewer.MultiModelExtensionBase/index.js","webpack:///./src/client/components/Viewer/Extensions/Viewer.MultiModelExtensionBase/Viewer.MultiModelExtensionBase.js","webpack:///./src/client/components/WidgetContainer/WidgetContainer.js","webpack:///./src/client/components/WidgetContainer/index.js","webpack:///./src/client/components/WidgetContainer/WidgetContainer.scss?a31d","webpack:///./src/client/components/WidgetContainer/WidgetContainer.scss","webpack:///./node_modules/lodash/_baseFlatten.js","webpack:///./node_modules/lodash/_baseForOwn.js","webpack:///./node_modules/lodash/_baseEach.js","webpack:///./node_modules/lodash/_isFlattenable.js","webpack:///./node_modules/lodash/sortBy.js","webpack:///./node_modules/lodash/_baseMap.js","webpack:///./node_modules/lodash/_createBaseEach.js","webpack:///./node_modules/lodash/_baseOrderBy.js","webpack:///./node_modules/lodash/_baseSortBy.js","webpack:///./node_modules/lodash/_compareMultiple.js","webpack:///./node_modules/lodash/_compareAscending.js","webpack:///./node_modules/lodash/_arrayEach.js","webpack:///./node_modules/lodash/transform.js"],"names":["__webpack_require__","r","__webpack_exports__","PieChartExtension","viewer","options","_this","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default","this","_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default","_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default","call","toggleTheming","bind","_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default","onStopResize","renderTitle","render","document","addEventListener","onTabActivated","react","_this2","setState","activeProperty","showLoader","disabled","items","data","then","pushRenderExtension","model","activeModel","loadChart","loadDynamicExtension","buildMenu","menu","map","item","title","toLowerCase","target","Toolkit","isolateFull","fitToView","console","log","getState","theming","_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_7___default","prototype","getData","instanceTree","getLeafNodes","componentIds","chartProperties","getPropertyList","$","parent","find","css","height","Math","min","length","chartPropertiesList","entry","name","setActiveProperty","defaultIndex","getFragIds","fragIds","fragIdToMaterial","fragList","getFragmentList","forEach","fragId","material","getMaterial","_this3","event","_this4","state","group","dbIds","dbId","setMaterial","impl","invalidate","propNameOrObject","disable","propName","propNames","properties","buildPropertyData","guid","_this5","clrStr","clr","parseInt","replace","props","shading","THREE","FlatShading","specular","shininess","emissive","diffuse","color","MeshPhongMaterial","matman","addMaterial","totalValue","minPercent","transform","result","value","key","concat","fullComponentsMap","i","mapComponentsByProp","componentsMap","Object","assign","indexOf","groupedMap","groupMap","keys","colors","d3","scale","linear","domain","range","idx","percent","_this6","label","toFixed","createMaterial","shortLabel","sortBy","_this7","menuItems","react__WEBPACK_IMPORTED_MODULE_19___default","a","createElement","react_bootstrap__WEBPACK_IMPORTED_MODULE_10__","eventKey","onClick","themingClr","className","react_bootstrap__WEBPACK_IMPORTED_MODULE_11__","id","style","_this8","opts","arguments","undefined","showTitle","WidgetContainer__WEBPACK_IMPORTED_MODULE_12__","Loader__WEBPACK_IMPORTED_MODULE_13__","show","ReactPie__WEBPACK_IMPORTED_MODULE_18__","onSegmentClicked","expanded","dataGuid","MultiModelExtensionBase","Autodesk","Viewing","theExtensionManager","registerExtension","ExtensionId","content","module","locals","exports","push","ReactPieSegment","classCallCheck_default","possibleConstructorReturn_default","getPrototypeOf_default","onMouseEnter","assertThisInitialized_default","onMouseLeave","onMouseMove","z","centre","rIn","rOut","start","delta","endRad","startOut","x","cos","y","sin","endOut","startIn","endIn","largeArc","PI","e","onMouseOver","_this$props","fillColor","strokeColor","pathDef","generatePathDef","labelDist","labelRad","labelPos","labelStyle","react_default","stroke","fill","d","React","Component","ReactPie","disableTooltip","size","width","segments","resizeSegments","loadSegments","tooltipActive","tooltip","animate","onUpdate","tween","stepSegments","segment","duration","total","reduce","res","startAcc","index","floor","dir","expandTween","innerRadius","outerRadius","outerRadiusPx","innerRadiusPx","format","Date","getTime","c","random","toString","_ref","easing","stopwatch","Stopwatch","dt","animationStep","getElapsedMs","param","animParam","requestAnimationFrame","onSegmentMouseOver","expandOutIdx","expandInIdx","s","nextExpanded","t","easeOutElastic","offsetRad","offset","expandSegment","ReactPieSegment_ReactPieSegment","stopPropagation","tooltipCls","react_measure_default","bounds","onResize","rect","_ref2","measureRef","ref","data-for","data-tip","dist_default","getContent","effect","fillOpacity","strokeWidth","_Viewer_MultiModelExtensionBase__WEBPACK_IMPORTED_MODULE_0__","defaultOptions","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default","_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default","_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default","serviceContext","onModelCompletedLoad","onObjectTreeCreated","onModelRootLoaded","onExtensionLoaded","onModelActivated","onGeometryLoaded","onToolbarCreated","onModelBeginLoad","onModelUnloaded","onSelection","__onModelRootLoaded","__onModelActivated","__onModelUnloaded","__onModelLoaded","models","modelQueue","getModels","initializeEvents","viewerEvents","removeEventListener","handler","eventSink","off","viewerEvent","OBJECT_TREE_CREATED_EVENT","GEOMETRY_LOADED_EVENT","args","_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default","filter","on","EXTENSION_LOADED_EVENT","MODEL_ROOT_LOADED_EVENT","TOOLBAR_CREATED_EVENT","AGGREGATE_SELECTION_CHANGED_EVENT","eventId","eventTasks","Array","isArray","Promise","resolve","__handler","all","EventsEmitter","Composer","Extension","WidgetContainer","dimensions","Children","children","child","newProps","cloneElement","classNames","toConsumableArray_default","split","join","renderChildren","PropTypes","string","bool","arrayPush","isFlattenable","baseFlatten","array","depth","predicate","isStrict","baseFor","object","iteratee","baseForOwn","baseEach","createBaseEach","Symbol","isArguments","spreadableSymbol","isConcatSpreadable","baseOrderBy","baseRest","isIterateeCall","collection","iteratees","isArrayLike","eachFunc","fromRight","iterable","arrayMap","baseIteratee","baseMap","baseSortBy","baseUnary","compareMultiple","identity","orders","criteria","other","comparer","sort","compareAscending","objCriteria","othCriteria","ordersLength","isSymbol","valIsDefined","valIsNull","valIsReflexive","valIsSymbol","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","arrayEach","baseCreate","getPrototype","isBuffer","isFunction","isObject","isTypedArray","accumulator","isArr","isArrLike","Ctor","constructor"],"mappings":"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","file":"49.js","sourcesContent":["import './Viewing.Extension.PieChart'\n\nexport default 'Viewing.Extension.PieChart'\n","/////////////////////////////////////////////////////////\n// Viewing.Extension.BarChart\n// by Philippe Leefsma, March 2017\n//\n/////////////////////////////////////////////////////////\nimport MultiModelExtensionBase from 'Viewer.MultiModelExtensionBase'\nimport { DropdownButton, MenuItem } from 'react-bootstrap'\nimport WidgetContainer from 'WidgetContainer'\nimport {ReactLoader as Loader} from 'Loader'\nimport './Viewing.Extension.PieChart.scss'\nimport transform from 'lodash/transform'\nimport Toolkit from 'Viewer.Toolkit'\nimport sortBy from 'lodash/sortBy'\nimport PieChart from 'ReactPie'\nimport React from 'react'\nimport d3 from 'd3'\n\nclass PieChartExtension extends MultiModelExtensionBase {\n\n  /////////////////////////////////////////////////////////\n  // Class constructor\n  //\n  /////////////////////////////////////////////////////////\n  constructor (viewer, options) {\n\n    super (viewer, options)\n\n    this.toggleTheming = this.toggleTheming.bind(this)\n\n    this.onStopResize = this.onStopResize.bind(this)\n\n    this.renderTitle = this.renderTitle.bind(this)\n\n    this.render = this.render.bind(this)\n\n    document.addEventListener(\n      'visibilitychange',\n      this.onTabActivated)\n\n    this.react = options.react\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  get className() {\n\n    return 'pie-chart'\n  }\n\n  /////////////////////////////////////////////////////////\n  // Extension Id\n  //\n  /////////////////////////////////////////////////////////\n  static get ExtensionId() {\n\n    return 'Viewing.Extension.PieChart'\n  }\n\n  /////////////////////////////////////////////////////////\n  // Load callback\n  //\n  /////////////////////////////////////////////////////////\n  load () {\n\n    this.react.setState({\n      activeProperty: '',\n      showLoader: true,\n      disabled: true,\n      items: [],\n      data: []\n    }).then (() => {\n\n      this.react.pushRenderExtension(this)\n\n      const model = this.viewer.activeModel ||\n        this.viewer.model\n\n      if (model) {\n\n        this.loadChart (model)\n      }\n    })\n\n    this.viewer.loadDynamicExtension(\n      'Viewing.Extension.ContextMenu', {\n        buildMenu: (menu) => {\n          return menu.map((item) => {\n            const title = item.title.toLowerCase()\n            if (title === 'show all objects') {\n              return {\n                title: 'Show All objects',\n                target: () => {\n                  Toolkit.isolateFull(this.viewer)\n                  this.viewer.fitToView()\n                }\n              }\n            }\n            return item\n          })\n        }\n      })\n\n    console.log('Viewing.Extension.PieChart loaded')\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Unload callback\n  //\n  /////////////////////////////////////////////////////////\n  unload () {\n\n    const state = this.react.getState()\n\n    if (state.theming) {\n\n      this.toggleTheming()\n    }\n\n    console.log('Viewing.Extension.PieChart unloaded')\n\n    super.unload ()\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  async loadChart (model) {\n\n    await this.react.setState({\n      showLoader: true\n    })\n\n    if (!model.getData().instanceTree)\n      return\n\n    this.componentIds = await Toolkit.getLeafNodes(model)\n\n    this.chartProperties =\n      this.options.chartProperties ||\n      await Toolkit.getPropertyList(\n        this.viewer, this.componentIds, model)\n\n    $('#pie-chart-dropdown').parent().find('ul').css({\n      height: Math.min(\n        $('.pie-chart').height() - 42,\n        this.chartProperties.length * 26 + 16)\n    })\n\n    const chartPropertiesList =\n      this.chartProperties.map((entry) => {\n        return (typeof entry === 'string')\n          ? entry : entry.name\n      })\n\n    await this.react.setState({\n      items: chartPropertiesList\n    })\n\n    this.setActiveProperty (\n      this.chartProperties[this.options.defaultIndex || 0])\n\n    const fragIds = await Toolkit.getFragIds(\n      model, this.componentIds)\n\n    this.fragIdToMaterial = {}\n\n    const fragList = this.viewer.model.getFragmentList()\n\n    fragIds.forEach((fragId) => {\n\n      const material = fragList.getMaterial(fragId)\n\n      if (material) {\n\n        this.fragIdToMaterial[fragId] = material\n      }\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onModelActivated (event) {\n\n    // if (event.source !== 'model.loaded') {\n    //\n    //   this.loadChart(event.model)\n    // }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onModelCompletedLoad (event) {\n\n    this.loadChart(event.model)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  toggleTheming () {\n\n    const state = this.react.getState()\n\n    const theming = !state.theming\n\n    this.react.setState({\n      theming\n    })\n\n    if (theming) {\n\n      state.data.forEach((group) => {\n\n        group.dbIds.forEach((dbId) => {\n\n          const model = this.viewer.activeModel ||\n            this.viewer.model\n\n          Toolkit.setMaterial(\n            model, dbId,\n            group.material)\n        })\n      })\n\n    } else {\n\n      for(const fragId in this.fragIdToMaterial) {\n\n        const material = this.fragIdToMaterial[fragId]\n\n        const model = this.viewer.activeModel ||\n          this.viewer.model\n\n        const fragList = model.getFragmentList()\n\n        fragList.setMaterial(fragId, material)\n      }\n    }\n\n    this.viewer.impl.invalidate(\n      true, false, false)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  async setActiveProperty (propNameOrObject, disable) {\n\n    const state = this.react.getState()\n\n    const propName =\n      propNameOrObject.name ||\n      propNameOrObject\n\n    await this.react.setState({\n      activeProperty: disable ? propName : '',\n      disabled: disable,\n      showLoader: true\n    })\n\n    const propNames =\n      propNameOrObject.properties ||\n      [propNameOrObject]\n\n    const data = await this.buildPropertyData (propNames)\n\n    await this.react.setState({\n      activeProperty: propName,\n      showLoader: false,\n      guid: this.guid(),\n      disabled: false,\n      data\n    })\n\n    if (state.theming) {\n\n      data.forEach((group) => {\n\n        group.dbIds.forEach((dbId) => {\n\n          const model = this.viewer.activeModel ||\n            this.viewer.model\n\n          Toolkit.setMaterial(\n            model, dbId,\n            group.material)\n        })\n      })\n\n      this.viewer.impl.invalidate(\n        true, false, false)\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  createMaterial (clrStr) {\n\n    const clr = parseInt(clrStr.replace('#',''), 16)\n\n    const props = {\n      shading: THREE.FlatShading,\n      name: this.guid(),\n      specular: clr,\n      shininess: 0,\n      emissive: 0,\n      diffuse: 0,\n      color: clr\n    }\n\n    const material = new THREE.MeshPhongMaterial(props)\n\n    this.viewer.impl.matman().addMaterial(\n      props.name, material, true)\n\n    return material\n  }\n\n  /////////////////////////////////////////////////////////\n  // Group object map for small values:\n  // If one entry of the map is smaller than minPercent,\n  // this entry will be merged in the \"group\" entry\n  //\n  /////////////////////////////////////////////////////////\n  groupMap (map, group, totalValue, minPercent) {\n\n    return transform (map, (result, value, key) => {\n\n      if (value.length * 100 / totalValue < minPercent) {\n\n        result[group] = (result[group] || []).concat(value)\n\n      } else {\n\n        result[key] = value\n      }\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  async buildPropertyData (propNames) {\n\n    const model = this.viewer.activeModel ||\n      this.viewer.model\n\n    const fullComponentsMap = {}\n\n    for (let i=0; i<propNames.length; ++i) {\n\n      const componentsMap =\n        await Toolkit.mapComponentsByProp(\n          model, propNames[i], this.componentIds)\n\n      Object.assign(fullComponentsMap, componentsMap)\n    }\n\n    console.log(fullComponentsMap)\n\n    for (const key in fullComponentsMap) {\n\n      if (!key.length || key.indexOf('<') > -1) {\n\n        delete fullComponentsMap[key]\n      }\n    }\n\n    const groupedMap = this.groupMap(fullComponentsMap, 'Other',\n      this.componentIds.length, 2.0)\n\n    const keys = Object.keys (groupedMap)\n\n    const colors = d3.scale.linear()\n      .domain([0, keys.length * .33, keys.length * .66, keys.length])\n      .range(['#FCB843', '#C2149F', '#0CC4BD', '#0270E9'])\n\n    const data = keys.map((key, idx) => {\n\n      const dbIds = groupedMap[key]\n\n      const color = colors(idx)\n\n      const percent = 100 * dbIds.length / this.componentIds.length\n\n      return {\n        label: `${key}: ${percent.toFixed(2)}% (${dbIds.length})`,\n        material: this.createMaterial(color),\n        value: dbIds.length,\n        shortLabel: key,\n        percent,\n        dbIds,\n        color,\n        key\n      }\n    })\n\n    return sortBy(data, (entry) => -1 * entry.value)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onStopResize () {\n\n    const state = this.react.getState()\n\n    $('#pie-chart-dropdown').parent().find('ul').css({\n      height: Math.min(\n        $('.pie-chart').height() - 42,\n        state.items.length * 26 + 16)\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  renderTitle () {\n\n    const state = this.react.getState()\n\n    const menuItems = state.items.map((item, idx) => {\n      return (\n        <MenuItem eventKey={idx} key={idx} onClick={() => {\n\n          const entry = this.chartProperties[idx]\n\n          this.setActiveProperty (entry, true)\n        }}>\n          { item }\n        </MenuItem>\n      )\n    })\n\n    const themingClr = {\n      color: state.theming\n        ? '#FF0000'\n        : '#9b9b9b'\n    }\n\n    return (\n      <div className=\"title controls\">\n        <label>\n          {this.options.title || 'Pie Chart'}\n        </label>\n\n        <DropdownButton\n          title={\"Property: \" + state.activeProperty }\n          disabled={state.disabled}\n          key=\"pie-chart-dropdown\"\n          id=\"pie-chart-dropdown\">\n         { menuItems }\n        </DropdownButton>\n\n        <button onClick={this.toggleTheming}\n          disabled={state.disabled}\n          title=\"color theming\">\n          <span className=\"fa fa-paint-brush\" style={themingClr}>\n          </span>\n        </button>\n      </div>\n    )\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  render (opts = {showTitle: true}) {\n\n    const state = this.react.getState()\n\n    return (\n      <WidgetContainer renderTitle={this.renderTitle}\n        showTitle={opts.showTitle}\n        className={this.className}>\n\n        <Loader show={state.showLoader}/>\n\n        <PieChart onSegmentClicked={(data, expanded) => {\n\n            const dbIds = expanded ? [] : data.dbIds\n\n            Toolkit.isolateFull(\n              this.viewer,\n              dbIds)\n\n            if (this.options.fitToView) {\n              this.viewer.fitToView()\n            }\n          }}\n          dataGuid={state.guid}\n          data={state.data}\n        />\n      </WidgetContainer>\n    )\n  }\n}\n\nAutodesk.Viewing.theExtensionManager.registerExtension(\n  PieChartExtension.ExtensionId,\n  PieChartExtension)\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../../node_modules/sass-loader/lib/loader.js!./Viewing.Extension.PieChart.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../../node_modules/sass-loader/lib/loader.js!./Viewing.Extension.PieChart.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../../node_modules/sass-loader/lib/loader.js!./Viewing.Extension.PieChart.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".pie-chart {\\n  background: #fdfdfd; }\\n  .pie-chart .title {\\n    position: relative !important;\\n    overflow: visible;\\n    float: left; }\\n  .pie-chart .title > label {\\n    white-space: nowrap;\\n    font-weight: normal;\\n    -webkit-user-select: none;\\n       -moz-user-select: none;\\n        -ms-user-select: none;\\n            user-select: none;\\n    margin-left: 27px;\\n    select: none;\\n    width: 85px; }\\n  .pie-chart .title > .dropdown {\\n    position: relative;\\n    top: -1px; }\\n  .pie-chart .title > button {\\n    margin-left: 4px;\\n    height: 26px; }\\n  .pie-chart .title > .dropdown > button {\\n    padding: 2px 12px;\\n    height: 26px; }\\n  .pie-chart .title .dropdown-menu {\\n    overflow: scroll; }\\n  .pie-chart .loader-background {\\n    background: #fdfdfd; }\\n  .pie-chart .loader, .pie-chart .loader:before, .pie-chart .loader:after {\\n    top: 35%; }\\n  .pie-chart .loader:before, .pie-chart .loader:after {\\n    margin: -9px auto; }\\n\", \"\"]);\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./ReactPie.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./ReactPie.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./ReactPie.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".react-pie {\\n  height: 100%;\\n  width: 100%; }\\n  .react-pie .react-pie-inner {\\n    height: 100%;\\n    width: 100%; }\\n    .react-pie .react-pie-inner svg {\\n      height: 100%;\\n      width: 100%; }\\n      .react-pie .react-pie-inner svg .react-pie-segment {\\n        cursor: pointer; }\\n        .react-pie .react-pie-inner svg .react-pie-segment path {\\n          transition-property: fill-opacity;\\n          transition-timing-function: ease;\\n          transition-duration: 0.5s;\\n          transition-delay: 0.0s;\\n          fill-opacity: 0.95;\\n          stroke-width: 1.0; }\\n          .react-pie .react-pie-inner svg .react-pie-segment path:hover {\\n            fill-opacity: 0.7;\\n            stroke-width: 2.0; }\\n        .react-pie .react-pie-inner svg .react-pie-segment text {\\n          pointer-events: none;\\n          font-size: 10px;\\n          fill: white; }\\n  .react-pie .react-pie-tooltip-container {\\n    transition-property: opacity;\\n    transition-timing-function: ease;\\n    transition-duration: 1.0s;\\n    transition-delay: 0.0s;\\n    pointer-events: none;\\n    position: absolute;\\n    opacity: 0;\\n    height: 100%;\\n    width: 100%;\\n    left: 0;\\n    top: 0; }\\n    .react-pie .react-pie-tooltip-container.active {\\n      opacity: 1; }\\n    .react-pie .react-pie-tooltip-container .react-pie-tooltip {\\n      background-color: #ededed !important;\\n      border: 1px solid grey;\\n      color: grey !important;\\n      padding: 4px; }\\n\", \"\"]);\n","import React from 'react'\n\nexport default class ReactPieSegment extends React.Component {\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  constructor (props) {\n\n    super (props)\n\n    this.onMouseEnter = this.onMouseEnter.bind(this)\n    this.onMouseLeave = this.onMouseLeave.bind(this)\n    this.onMouseMove = this.onMouseMove.bind(this)\n    this.onClick = this.onClick.bind(this)\n\n    this.state = {\n      z: 0\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  generatePathDef(centre, rIn, rOut, start, delta) {\n\n    const endRad = start + delta\n\n    const startOut = {\n      x: centre.x + rOut * Math.cos(start),\n      y: centre.y + rOut * Math.sin(start)\n    }\n\n    const endOut = {\n      x: centre.x + rOut * Math.cos(endRad),\n      y: centre.y + rOut * Math.sin(endRad)\n    }\n\n    const startIn = {\n      x: centre.x + rIn * Math.cos(endRad),\n      y: centre.y + rIn * Math.sin(endRad)\n    };\n\n    var endIn = {\n      x: centre.x + rIn * Math.cos(start),\n      y: centre.y + rIn * Math.sin(start)\n    }\n\n    const largeArc = delta > Math.PI ? 1 : 0\n\n    return (\n      `M${startOut.x},${startOut.y}` +\n      ` A${rOut},${rOut} 0 ` +\n      `${largeArc},1 ${endOut.x},${endOut.y}` +\n      ` L${startIn.x},${startIn.y}` +\n      ` A${rIn},${rIn} 0 ` +\n      `${largeArc},0 ${endIn.x},${endIn.y}` +\n      ` L${startOut.x},${startOut.y} Z`\n    )\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onMouseEnter (e) {\n\n    this.setState({\n      z: 2.0\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onMouseLeave (e) {\n\n    this.setState({\n      z: 1.0\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onMouseMove (e) {\n\n    this.props.onMouseOver(e)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onClick (e) {\n\n    this.props.onClick(e)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  render () {\n\n    const {\n      fillColor, strokeColor,\n      start, delta,\n      rIn, rOut,\n      centre\n    } = this.props\n\n    const pathDef = this.generatePathDef(\n      centre, rIn, rOut, start, delta)\n\n    const labelDist = rIn + 0.5 * (rOut-rIn)\n\n    const labelRad = start + 0.5 * delta\n\n    const labelPos = {\n      x: centre.x + labelDist * Math.cos (labelRad) - 5,\n      y: centre.y + labelDist * Math.sin (labelRad) + 5\n    }\n\n    const labelStyle = {\n      transform: `translate(${labelPos.x}px, ${labelPos.y}px)`\n    }\n\n    return (\n      <g className='react-pie-segment' z={this.state.z}>\n        <path\n          onMouseEnter={this.onMouseEnter}\n          onMouseLeave={this.onMouseLeave}\n          onMouseMove={this.onMouseMove}\n          onClick={this.onClick}\n          stroke={strokeColor}\n          fill={fillColor}\n          d={pathDef}\n        />\n        <text style={labelStyle}>\n          {this.props.label}\n        </text>\n      </g>\n    )\n  }\n}\n\n\n\n","/////////////////////////////////////////////////////////\n// ReactPie: a responsive PieChart in pure React + SVG\n// by Philippe Leefsma, Jan 2017\n//\n/////////////////////////////////////////////////////////\nimport PieSegment from './ReactPieSegment'\nimport ReactTooltip from 'react-tooltip'\nimport Measure from 'react-measure'\nimport Stopwatch from 'Stopwatch'\nimport easing from 'easing-js'\nimport React from 'react'\nimport './ReactPie.scss'\n\nexport default class ReactPie extends React.Component {\n\n  /////////////////////////////////////////////////////////\n  // Defines a few default properties\n  //\n  /////////////////////////////////////////////////////////\n  static defaultProps = {\n    innerRadius: 0.35,\n    outerRadius: 0.90,\n    fillOpacity: 0.95,\n    strokeWidth: 1.0,\n    data: []\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  constructor (props) {\n\n    super (props)\n\n    this.disableTooltip = this.disableTooltip.bind(this)\n\n    const size = { width:0, height:0 }\n\n    const segments = this.resizeSegments(\n      this.loadSegments(props.data),\n      size)\n\n    this.state = {\n      tooltipActive: false,\n      tooltip: '',\n      segments,\n      size\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  // Upon properties change, reload the pie only if\n  // dataGuid has changed. This is controlled by the\n  // parent component\n  //\n  /////////////////////////////////////////////////////////\n  componentWillReceiveProps (props) {\n\n    if (props.dataGuid !== this.props.dataGuid) {\n\n      const segments = this.resizeSegments(\n        this.loadSegments(props.data),\n        this.state.size)\n\n      this.animate ({\n        onUpdate: (tween) => {\n\n          const stepSegments = segments.map((segment) => {\n            return Object.assign({}, segment, {\n              delta: segment.delta * tween\n            })\n          })\n\n          this.setState(Object.assign({},\n            this.state, {\n              segments: stepSegments\n            }))\n        },\n        duration: 850\n      })\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  // Loads pie segments\n  //\n  /////////////////////////////////////////////////////////\n  loadSegments (data) {\n\n    const total = data.reduce((res, entry) => {\n      return entry.value + res\n    }, 0)\n\n    let startAcc = 0.0\n\n    return data.map((entry, index) => {\n\n      const delta = (2 * Math.PI * entry.value/total)\n\n      const label = Math.floor(100 * entry.value/total) + '%'\n\n      const strokeColor = entry.strokeColor ||\n        this.props.strokeColor ||\n        entry.color\n\n      const key = entry.key || this.guid()\n\n      const start = startAcc\n\n      startAcc += delta\n\n      const dir = {\n        x: Math.cos(start + 0.5 * delta),\n        y: Math.sin(start + 0.5 * delta)\n      }\n\n      return {\n        delta: delta - 0.25 * Math.PI/180,\n        fillColor: entry.color,\n        value: entry.value,\n        color: entry.color,\n        expandTween: 0.0,\n        expanded: false,\n        strokeColor,\n        label,\n        index,\n        start,\n        dir,\n        key\n      }\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  // Resize pie segments after parent container\n  // has been resized for example\n  //\n  /////////////////////////////////////////////////////////\n  resizeSegments (segments, size) {\n\n    const { innerRadius, outerRadius } = this.props\n\n    const { width, height } = size\n\n    const outerRadiusPx =\n      0.5 * outerRadius * Math.min(\n        width, height)\n\n    const innerRadiusPx =\n      0.5 * innerRadius * Math.min(\n        width, height)\n\n    const centre = {\n      y: height * 0.5,\n      x: width * 0.5\n    }\n\n    return segments.map((segment) => {\n\n      return Object.assign({}, segment, {\n        rOut: outerRadiusPx,\n        rIn: innerRadiusPx,\n        centre\n      })\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  // Generates a guid\n  //\n  /////////////////////////////////////////////////////////\n  guid (format = 'xxx-xxx-xxx') {\n\n    var d = new Date().getTime()\n\n    const guid = format.replace(\n      /[xy]/g,\n      function (c) {\n        var r = (d + Math.random() * 16) % 16 | 0\n        d = Math.floor(d / 16)\n        return (c == 'x' ? r : (r & 0x7 | 0x8)).toString(16)\n      })\n\n    return guid\n  }\n\n  /////////////////////////////////////////////////////////\n  // Animation: {\n  //  onUpdate,\n  //  duration,\n  //  easing\n  // }\n  //\n  /////////////////////////////////////////////////////////\n  animate ({onUpdate, duration, easing}) {\n\n    const stopwatch = new Stopwatch()\n\n    let dt = 0.0\n\n    const animationStep = () => {\n\n      dt += stopwatch.getElapsedMs()\n\n      if (dt > duration) {\n\n        onUpdate(1.0)\n\n      } else {\n\n        const param = dt/duration\n\n        const animParam = easing\n          ? easing(param, duration/1000)\n          : param\n\n        onUpdate(animParam)\n      }\n\n      if (dt < duration) {\n\n        requestAnimationFrame(animationStep)\n      }\n    }\n\n    animationStep()\n  }\n\n  /////////////////////////////////////////////////////////\n  // Mouse over segment handler\n  //\n  /////////////////////////////////////////////////////////\n  onSegmentMouseOver (e, segment) {\n\n    const entry = this.props.data[segment.index]\n\n    this.setState(Object.assign({},\n      this.state, {\n        tooltipActive: true,\n        tooltip: entry.label\n      }))\n\n    if (this.props.onSegmentMouseOver) {\n\n      this.props.onSegmentMouseOver(entry)\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  // Segment clicked handler\n  //\n  /////////////////////////////////////////////////////////\n  onSegmentClicked (e, segment) {\n\n    let expandOutIdx = -1\n    let expandInIdx = -1\n\n    const segments = this.state.segments.map((s, idx) => {\n\n      const nextExpanded = (s.key === segment.key && !segment.expanded)\n\n      if (s.expanded !== nextExpanded) {\n\n        nextExpanded\n          ? expandOutIdx = idx\n          : expandInIdx = idx\n      }\n\n      return(Object.assign({}, s, {\n        expanded: nextExpanded\n      }))\n    })\n\n    this.animate({\n      onUpdate: (tween) => {\n\n        if (expandInIdx > -1) {\n          segments[expandInIdx].expandTween = 1.0 - tween\n        }\n\n        if (expandOutIdx > -1) {\n          segments[expandOutIdx].expandTween = tween\n        }\n\n        this.setState(Object.assign({},\n          this.state, {\n            segments\n          }))\n      },\n      easing: (t, duration) => {\n        return easing.easeOutElastic(\n          t, 0, 1, duration)\n      },\n      duration: 750\n    })\n\n    if (this.props.onSegmentClicked) {\n\n      const entry = this.props.data[segment.index]\n\n      this.props.onSegmentClicked(\n        entry, segment.expanded)\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  // Expands a segment\n  //\n  /////////////////////////////////////////////////////////\n  expandSegment (segment) {\n\n    const offsetRad = Math.PI/180 * 1.2 * segment.expandTween\n\n    const offset = segment.rOut * 0.05 * segment.expandTween\n\n    const centre = {\n      x: segment.centre.x + segment.dir.x * offset,\n      y: segment.centre.y + segment.dir.y * offset\n    }\n\n    return Object.assign({}, segment, {\n      delta: segment.delta - 2 * offsetRad,\n      start: segment.start + offsetRad,\n      rOut: segment.rOut + offset,\n      rIn: segment.rIn + offset,\n      centre: centre\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  // Disable tooltip\n  //\n  /////////////////////////////////////////////////////////\n  disableTooltip () {\n\n    this.setState(Object.assign({},\n      this.state, {\n        tooltipActive: false\n      }))\n  }\n\n  /////////////////////////////////////////////////////////\n  // React render\n  //\n  /////////////////////////////////////////////////////////\n  render () {\n\n    const segments = this.state.segments.map((segment) => {\n\n      const onSegmentMouseOver = (e) => {\n        this.onSegmentMouseOver(e, segment)\n        e.stopPropagation()\n      }\n\n      const onSegmentClicked = (e) => {\n        this.onSegmentClicked(e, segment)\n      }\n\n      segment = segment.expandTween\n        ? this.expandSegment(segment)\n        : segment\n\n      return (\n        <PieSegment\n          strokeColor={segment.strokeColor}\n          onMouseOver={onSegmentMouseOver}\n          fillColor={segment.fillColor}\n          onClick={onSegmentClicked}\n          centre={segment.centre}\n          delta={segment.delta}\n          start={segment.start}\n          label={segment.label}\n          rOut={segment.rOut}\n          rIn={segment.rIn}\n          key={segment.key}\n        />\n      )\n    })\n\n    const tooltipCls = this.state.tooltipActive\n      ? 'react-pie-tooltip-container active'\n      : 'react-pie-tooltip-container'\n\n    return (\n      <Measure bounds onResize={(rect) => {\n\n          const size = {\n            height: rect.bounds.height,\n            width: rect.bounds.width\n          }\n\n          const segments = this.resizeSegments(\n            this.state.segments, size)\n\n          this.setState(Object.assign({},\n            this.state, {\n              segments,\n              size\n            }))\n        }}>\n        {\n          ({ measureRef }) =>\n            <div ref={measureRef} className=\"react-pie\">\n              <div className=\"react-pie-inner\"\n                onMouseMove={this.disableTooltip}\n                data-for=\"react-pie-tooltip\"\n                data-tip=''>\n                <svg>\n                  {segments}\n                </svg>\n              </div>\n              <div className={tooltipCls}>\n                <ReactTooltip\n                  getContent={[() => <div>{this.state.tooltip}</div>]}\n                  className=\"react-pie-tooltip\"\n                  id=\"react-pie-tooltip\"\n                  effect=\"float\"\n                />\n              </div>\n            </div>\n        }\n      </Measure>\n    )\n  }\n}\n\n\n","import ReactPie from './ReactPie'\n\nexport default ReactPie\n","import MultiModelExtensionBase from './Viewer.MultiModelExtensionBase'\n\nexport default MultiModelExtensionBase\n","import EventsEmitter from 'EventsEmitter'\n\nexport default class MultiModelExtensionBase extends\n  EventsEmitter.Composer (Autodesk.Viewing.Extension) {\n\n  /////////////////////////////////////////////////////////\n  // Class constructor\n  //\n  /////////////////////////////////////////////////////////\n  constructor (viewer, options = {}, defaultOptions = {}) {\n\n    super (viewer)\n    // bindings\n    Object.assign(this, options.serviceContext)\n\n    this.onModelCompletedLoad = this.onModelCompletedLoad.bind(this)\n    this.onObjectTreeCreated  = this.onObjectTreeCreated.bind(this)\n    this.onModelRootLoaded    = this.onModelRootLoaded.bind(this)\n    this.onExtensionLoaded    = this.onExtensionLoaded.bind(this)\n    this.onModelActivated     = this.onModelActivated.bind(this)\n    this.onGeometryLoaded     = this.onGeometryLoaded.bind(this)\n    this.onToolbarCreated     = this.onToolbarCreated.bind(this)\n    this.onModelBeginLoad     = this.onModelBeginLoad.bind(this)\n    this.onModelUnloaded      = this.onModelUnloaded.bind(this)\n    this.onSelection          = this.onSelection.bind(this)\n\n    this.__onModelRootLoaded  = this.__onModelRootLoaded.bind(this)\n    this.__onModelActivated   = this.__onModelActivated.bind(this)\n    this.__onModelUnloaded    = this.__onModelUnloaded.bind(this)\n    this.__onModelLoaded      = this.__onModelLoaded.bind(this)\n\n    this.defaultOptions = defaultOptions\n\n    this.options = Object.assign({},\n      defaultOptions,\n      options)\n\n    this.viewer = viewer\n\n    // read the modelQueue to detect currently loaded models\n    // when the extension gets loaded\n    const models = viewer.impl.modelQueue().getModels()\n\n    this.models = models.map((model) => {\n\n      model.guid = model.guid || this.guid()\n\n      return model\n    })\n\n    this.initializeEvents ()\n  }\n\n  /////////////////////////////////////////////////////////\n  // Extension Id\n  //\n  /////////////////////////////////////////////////////////\n  static get ExtensionId() {\n\n    return 'Viewing.Extension.MultiModelExtensionBase'\n  }\n\n  /////////////////////////////////////////////////////////\n  // Load callback\n  //\n  /////////////////////////////////////////////////////////\n  load () {\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Unload callback\n  //\n  /////////////////////////////////////////////////////////\n  unload () {\n\n    this.viewerEvents.forEach((event) => {\n\n      this.viewer.removeEventListener(\n        event.id, this[event.handler])\n    })\n\n    if (this.eventSink) {\n\n      this.eventSink.off('model.activated',\n        this.__onModelActivated)\n\n      this.eventSink.off('model.unloaded',\n        this.__onModelUnloaded)\n\n      this.eventSink.off('model.loaded',\n        this.__onModelLoaded)\n    }\n\n    this.off()\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Reload callback, in case the extension is re-loaded\n  // more than once\n  //\n  /////////////////////////////////////////////////////////\n  reload (options = {}) {\n\n    this.options = Object.assign({},\n      this.defaultOptions,\n      this.options,\n      options)\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when extension gets loaded\n  //\n  /////////////////////////////////////////////////////////\n  onExtensionLoaded (event) {\n\n    //console.log('MultiModelExtensionBase.onExtensionLoaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when the model starts to load\n  // The geometry and instanceTree may not be available\n  // at this time\n  //\n  /////////////////////////////////////////////////////////\n  onModelBeginLoad (event) {\n\n    //console.log('MultiModelExtensionBase.onModelBeginLoad')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Triggered by ModelLoader extension when a model is\n  // selected in a multi-model environment\n  //\n  /////////////////////////////////////////////////////////\n  onModelActivated (event) {\n\n    //console.log('MultiModelExtensionBase.onModelActivated')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when model root node has been loaded\n  // Extensions that do require access to full\n  // model geometry or component tree may use that\n  // event to know a new model has been loaded\n  //\n  /////////////////////////////////////////////////////////\n  __onModelRootLoaded (event) {\n\n    this.viewerEvent([\n\n      Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,\n      Autodesk.Viewing.GEOMETRY_LOADED_EVENT\n\n    ]).then((args) => {\n\n      this.onModelCompletedLoad (args[0])\n    })\n  }\n\n  onModelRootLoaded (event) {\n\n    //console.log('MultiModelExtensionBase.onModelRootLoaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when object tree is fully loaded.\n  // Extensions that are interested in using the\n  // instanceTree need to use that event to make sure\n  // it is available\n  //\n  ////////////////////////////////////////////////////////\n  onObjectTreeCreated (event) {\n\n    //console.log('MultiModelExtensionBase.onObjectTreeCreated')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when geometry is fully loaded\n  //\n  /////////////////////////////////////////////////////////\n  onGeometryLoaded (event) {\n\n    //console.log('MultiModelExtensionBase.onGeometryLoaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked after onObjectTreeCreated and onGeometryLoaded\n  // have both been fired\n  //\n  /////////////////////////////////////////////////////////\n  onModelCompletedLoad (event) {\n\n    //console.log('MultiModelExtensionBase.onModelCompletedLoad')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked once the viewer toolbar has been created\n  //\n  /////////////////////////////////////////////////////////\n  onToolbarCreated (event) {\n\n    //console.log('MultiModelExtensionBase.onToolbarCreated')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Triggered by ModelLoader extension when a model has\n  // been unloaded as per user request\n  //\n  /////////////////////////////////////////////////////////\n  onModelUnloaded (event) {\n\n    //console.log('MultiModelExtensionBase.onModelUnloaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when a model is being selected\n  //\n  /////////////////////////////////////////////////////////\n  onSelection (event) {\n\n    //console.log('MultiModelExtensionBase.onSelection')\n  }\n\n  /////////////////////////////////////////////////////////\n  //Sink Events\n  //\n  /////////////////////////////////////////////////////////\n  __onModelLoaded (event) {\n\n    this.models = [...this.models, event.model]\n\n    this.onModelBeginLoad (event)\n  }\n\n  __onModelActivated (event) {\n\n    this.onModelActivated (event)\n  }\n\n  __onModelUnloaded (event) {\n\n    this.models = this.models.filter((model) => {\n\n      return model.guid !== event.model.guid\n    })\n\n    this.onModelUnloaded(event)\n  }\n\n  /////////////////////////////////////////////////////////\n  // Initialize all events for the extension\n  // Each event will invoke a predefined handler\n  // implemented or not by the derived extension\n  //\n  /////////////////////////////////////////////////////////\n  initializeEvents () {\n\n    if (this.options.eventSink) {\n\n      // event object passed in options\n      this.eventSink = this.options.eventSink\n\n      this.eventSink.on('model.loaded',\n        this.__onModelLoaded)\n\n      this.eventSink.on('model.activated',\n        this.__onModelActivated)\n\n      this.eventSink.on('model.unloaded',\n        this.__onModelUnloaded)\n    }\n\n    this.viewerEvents = [\n      {\n        id: Autodesk.Viewing.EXTENSION_LOADED_EVENT,\n        handler: 'onExtensionLoaded'\n      },\n      {\n        id: Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,\n        handler: 'onObjectTreeCreated'\n      },\n      {\n        id: Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,\n        handler: '__onModelRootLoaded'\n      },\n      {\n        id: Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,\n        handler: 'onModelRootLoaded'\n      },\n      {\n        id: Autodesk.Viewing.GEOMETRY_LOADED_EVENT,\n        handler: 'onGeometryLoaded'\n      },\n      {\n        id: Autodesk.Viewing.TOOLBAR_CREATED_EVENT,\n        handler: 'onToolbarCreated'\n      },\n      {\n        id: Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT,\n        handler: 'onSelection'\n      }\n    ]\n\n    this.viewerEvents.forEach((event) => {\n\n      this.viewerEvent(event.id, this[event.handler])\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  // Async viewer event\n  //\n  /////////////////////////////////////////////////////////\n  viewerEvent (eventId, handler) {\n\n    if (handler) {\n\n      this.viewer.addEventListener (eventId, handler)\n      return\n    }\n\n    const eventIdArray = Array.isArray(eventId)\n      ? eventId : [eventId]\n\n    const eventTasks = eventIdArray.map((id) => {\n      return new Promise ((resolve) => {\n        const __handler = (args) => {\n          this.viewer.removeEventListener (id, __handler)\n          resolve (args)\n        }\n        this.viewer.addEventListener (id, __handler)\n      })\n    })\n\n    return Promise.all (eventTasks)\n  }\n}\n","import PropTypes from 'prop-types'\nimport ReactDOM from 'react-dom'\nimport './WidgetContainer.scss'\nimport React from 'react'\n\nclass WidgetContainer extends React.Component {\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static propTypes = {\n    className: PropTypes.string,\n    showTitle: PropTypes.bool\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static defaultProps = {\n    showTitle: true,\n    className: ''\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  renderTitle () {\n\n    if (!this.props.showTitle) {\n\n      return <div/>\n    }\n\n    if (this.props.renderTitle) {\n\n      return this.props.renderTitle()\n    }\n\n    return (\n      <div className=\"title\">\n        <label>\n          { this.props.title }\n        </label>\n      </div>\n    )\n  }\n\n  ///////////////////////////////////////////////////////////////////\n  //\n  //\n  ///////////////////////////////////////////////////////////////////\n  renderChildren() {\n\n    if (this.props.dimensions) {\n\n      return React.Children.map(this.props.children, (child) => {\n\n        const newProps = Object.assign({},\n          child.props, {\n            dimensions: this.props.dimensions\n          })\n\n        return React.cloneElement(child, newProps)\n      })\n    }\n\n    return this.props.children\n  }\n\n  ///////////////////////////////////////////////////////////////////\n  //\n  //\n  ///////////////////////////////////////////////////////////////////\n  render() {\n\n    const classNames = [\n      'widget-container',\n      ...this.props.className.split(' ')\n    ]\n\n    const height = this.props.showTitle\n      ? 'calc(100% - 40px)'\n      : '100%'\n\n    return (\n      <div className={classNames.join(' ')} style={this.props.style}>\n         { this.renderTitle() }\n        <div className=\"content\" style={{height}}>\n          {this.renderChildren()}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default WidgetContainer\n","import WidgetContainer from './WidgetContainer'\n\nexport default WidgetContainer\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./WidgetContainer.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./WidgetContainer.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./WidgetContainer.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".widget-container {\\n  position: relative;\\n  height: 100%;\\n  width: 100%; }\\n\\n.widget-container > .title {\\n  border-bottom: 1px solid #cdcdcd;\\n  background-color: #f5f5f5;\\n  padding-right: 10px;\\n  color: black;\\n  position: relative;\\n  overflow: hidden;\\n  text-align: left;\\n  height: 40px;\\n  width: 100%; }\\n\\n.widget-container > .title > label {\\n  white-space: nowrap;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  margin-left: 27px;\\n  margin-top: 10px; }\\n\\n.widget-container > .content {\\n  position: relative;\\n  overflow: hidden;\\n  height: 100%;\\n  width: 100%; }\\n\", \"\"]);\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","var baseFlatten = require('./_baseFlatten'),\n    baseOrderBy = require('./_baseOrderBy'),\n    baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates an array of elements, sorted in ascending order by the results of\n * running each element in a collection thru each iteratee. This method\n * performs a stable sort, that is, it preserves the original sort order of\n * equal elements. The iteratees are invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {...(Function|Function[])} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 36 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 34 }\n * ];\n *\n * _.sortBy(users, [function(o) { return o.user; }]);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n *\n * _.sortBy(users, ['user', 'age']);\n * // => objects for [['barney', 34], ['barney', 36], ['fred', 40], ['fred', 48]]\n */\nvar sortBy = baseRest(function(collection, iteratees) {\n  if (collection == null) {\n    return [];\n  }\n  var length = iteratees.length;\n  if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n    iteratees = [];\n  } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n    iteratees = [iteratees[0]];\n  }\n  return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n});\n\nmodule.exports = sortBy;\n","var baseEach = require('./_baseEach'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nmodule.exports = baseMap;\n","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    baseSortBy = require('./_baseSortBy'),\n    baseUnary = require('./_baseUnary'),\n    compareMultiple = require('./_compareMultiple'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `_.orderBy` without param guards.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n * @param {string[]} orders The sort orders of `iteratees`.\n * @returns {Array} Returns the new sorted array.\n */\nfunction baseOrderBy(collection, iteratees, orders) {\n  var index = -1;\n  iteratees = arrayMap(iteratees.length ? iteratees : [identity], baseUnary(baseIteratee));\n\n  var result = baseMap(collection, function(value, key, collection) {\n    var criteria = arrayMap(iteratees, function(iteratee) {\n      return iteratee(value);\n    });\n    return { 'criteria': criteria, 'index': ++index, 'value': value };\n  });\n\n  return baseSortBy(result, function(object, other) {\n    return compareMultiple(object, other, orders);\n  });\n}\n\nmodule.exports = baseOrderBy;\n","/**\n * The base implementation of `_.sortBy` which uses `comparer` to define the\n * sort order of `array` and replaces criteria objects with their corresponding\n * values.\n *\n * @private\n * @param {Array} array The array to sort.\n * @param {Function} comparer The function to define sort order.\n * @returns {Array} Returns `array`.\n */\nfunction baseSortBy(array, comparer) {\n  var length = array.length;\n\n  array.sort(comparer);\n  while (length--) {\n    array[length] = array[length].value;\n  }\n  return array;\n}\n\nmodule.exports = baseSortBy;\n","var compareAscending = require('./_compareAscending');\n\n/**\n * Used by `_.orderBy` to compare multiple properties of a value to another\n * and stable sort them.\n *\n * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n * of corresponding values.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {boolean[]|string[]} orders The order to sort by for each property.\n * @returns {number} Returns the sort order indicator for `object`.\n */\nfunction compareMultiple(object, other, orders) {\n  var index = -1,\n      objCriteria = object.criteria,\n      othCriteria = other.criteria,\n      length = objCriteria.length,\n      ordersLength = orders.length;\n\n  while (++index < length) {\n    var result = compareAscending(objCriteria[index], othCriteria[index]);\n    if (result) {\n      if (index >= ordersLength) {\n        return result;\n      }\n      var order = orders[index];\n      return result * (order == 'desc' ? -1 : 1);\n    }\n  }\n  // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n  // that causes it, under certain circumstances, to provide the same value for\n  // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n  // for more details.\n  //\n  // This also ensures a stable sort in V8 and other engines.\n  // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n  return object.index - other.index;\n}\n\nmodule.exports = compareMultiple;\n","var isSymbol = require('./isSymbol');\n\n/**\n * Compares values to sort them in ascending order.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {number} Returns the sort order indicator for `value`.\n */\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined,\n        valIsNull = value === null,\n        valIsReflexive = value === value,\n        valIsSymbol = isSymbol(value);\n\n    var othIsDefined = other !== undefined,\n        othIsNull = other === null,\n        othIsReflexive = other === other,\n        othIsSymbol = isSymbol(other);\n\n    if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n        (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n        (valIsNull && othIsDefined && othIsReflexive) ||\n        (!valIsDefined && othIsReflexive) ||\n        !valIsReflexive) {\n      return 1;\n    }\n    if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n        (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n        (othIsNull && valIsDefined && valIsReflexive) ||\n        (!othIsDefined && valIsReflexive) ||\n        !othIsReflexive) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\nmodule.exports = compareAscending;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n","var arrayEach = require('./_arrayEach'),\n    baseCreate = require('./_baseCreate'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee'),\n    getPrototype = require('./_getPrototype'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isFunction = require('./isFunction'),\n    isObject = require('./isObject'),\n    isTypedArray = require('./isTypedArray');\n\n/**\n * An alternative to `_.reduce`; this method transforms `object` to a new\n * `accumulator` object which is the result of running each of its own\n * enumerable string keyed properties thru `iteratee`, with each invocation\n * potentially mutating the `accumulator` object. If `accumulator` is not\n * provided, a new object with the same `[[Prototype]]` will be used. The\n * iteratee is invoked with four arguments: (accumulator, value, key, object).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @static\n * @memberOf _\n * @since 1.3.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @param {*} [accumulator] The custom accumulator value.\n * @returns {*} Returns the accumulated value.\n * @example\n *\n * _.transform([2, 3, 4], function(result, n) {\n *   result.push(n *= n);\n *   return n % 2 == 0;\n * }, []);\n * // => [4, 9]\n *\n * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n *   (result[value] || (result[value] = [])).push(key);\n * }, {});\n * // => { '1': ['a', 'c'], '2': ['b'] }\n */\nfunction transform(object, iteratee, accumulator) {\n  var isArr = isArray(object),\n      isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n  iteratee = baseIteratee(iteratee, 4);\n  if (accumulator == null) {\n    var Ctor = object && object.constructor;\n    if (isArrLike) {\n      accumulator = isArr ? new Ctor : [];\n    }\n    else if (isObject(object)) {\n      accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n    }\n    else {\n      accumulator = {};\n    }\n  }\n  (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n    return iteratee(accumulator, value, index, object);\n  });\n  return accumulator;\n}\n\nmodule.exports = transform;\n"],"sourceRoot":""}