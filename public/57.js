(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{1100:function(e,t,n){"use strict";n.r(t);n(1101);t.default="Viewing.Extension.CameraTween"},1101:function(e,t,n){"use strict";(function(e){var t=n(30),i=n.n(t),a=n(43),o=n.n(a),r=n(2),s=n.n(r),u=n(3),l=n.n(u),c=n(5),d=n.n(c),h=n(50),p=n.n(h),f=n(4),m=n.n(f),v=n(460),g=n.n(v),w=n(6),_=n.n(w),E=n(17),y=n.n(E),T=n(458),b=n(455),x=n.n(b),O=n(78),C=n.n(O),k=n(491),M=n.n(k),S=n(461),I=(n(1102),n(1104)),N=n.n(I),L=(n(466),n(122)),A=n(0),D=n.n(A),R=n(464),j=function(t){function n(e,t){var i;return s()(this,n),(i=d()(this,m()(n).call(this,e,t))).runAnimation=i.runAnimation.bind(p()(i)),i.react=t.react,i}return _()(n,t),l()(n,[{key:"load",value:function(){return this.loadConfigManager(),this.navigation=this.viewer.navigation,this.camera=this.navigation.getCamera(),console.log("Viewing.Extension.CameraTween loaded"),!0}},{key:"sleep",value:function(t){return new e(function(e){setTimeout(function(){e()},t)})}},{key:"loadConfigManager",value:function(){var t=this;this.react.setState({targetTweenDuration:2500,posTweenDuration:2500,upTweenDuration:2500,targetTweenEasing:{id:N.a.Easing.Linear.None,name:"Linear"},posTweenEasing:{id:N.a.Easing.Linear.None,name:"Linear"},upTweenEasing:{id:N.a.Easing.Linear.None,name:"Linear"},configManager:null,showLoader:!0}).then(o()(i.a.mark(function n(){var a,o;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a={pushRenderExtension:function(){return e.resolve()},popRenderExtension:function(){return e.resolve()}},n.next=3,t.viewer.loadDynamicExtension("Viewing.Extension.ConfigManager",{react:a,restoreFilter:{renderOptions:!0,cameraTween:!0,objectSet:!0,viewport:!1},playPeriod:2500});case 3:return o=n.sent,n.next=6,t.react.setState({showLoader:!1,configManager:o});case 6:return n.next=8,t.react.pushRenderExtension(t);case 8:case"end":return n.stop()}},n)})))}},{key:"unload",value:function(){return console.log("Viewing.Extension.CameraTween unloaded"),g()(m()(n.prototype),"unload",this).call(this),!0}},{key:"onModelRootLoaded",value:function(){this.options.loader.show(!1)}},{key:"createTween",value:function(t){return new e(function(e){new N.a.Tween(t.object).to(t.to,t.duration).onComplete(function(){return e()}).onUpdate(t.onUpdate).easing(t.easing).start()})}},{key:"tweenCameraTo",value:function(t,n){var i=this,a=this.react.getState(),o=a.targetTweenDuration,r=a.posTweenDuration,s=a.upTweenDuration,u=a.targetTweenEasing,l=a.posTweenEasing,c=a.upTweenEasing,d=new THREE.Vector3(t.viewport.target[0],t.viewport.target[1],t.viewport.target[2]),h=new THREE.Vector3(t.viewport.eye[0],t.viewport.eye[1],t.viewport.eye[2]),p=new THREE.Vector3(t.viewport.up[0],t.viewport.up[1],t.viewport.up[2]),f=this.navigation,m=(new THREE.Vector3).copy(f.getTarget()),v=(new THREE.Vector3).copy(f.getPosition()),g=(new THREE.Vector3).copy(f.getCameraUpVector()),w=this.createTween({easing:u.id,onUpdate:function(e){f.setTarget(e)},duration:n?0:o,object:m,to:d}),_=this.createTween({easing:l.id,onUpdate:function(e){f.setPosition(e)},duration:n?0:r,object:v,to:h}),E=this.createTween({easing:c.id,onUpdate:function(e){f.setCameraUpVector(e)},duration:n?0:s,object:g,to:p});e.all([w,_,E]).then(function(){i.animate=!1}),this.runAnimation(!0)}},{key:"runAnimation",value:function(e){(e||this.animate)&&(this.animId=window.requestAnimationFrame(this.runAnimation),N.a.update())}},{key:"getState",value:function(e){var t=Object.assign({},e.viewport,{});e.cameraTween={viewport:t}}},{key:"restoreState",value:function(e,t){e.cameraTween&&this.tweenCameraTo(e.cameraTween,t)}},{key:"renderTitle",value:function(){return D.a.createElement("div",{className:"title"},D.a.createElement("label",null,"Camera Tween"))}},{key:"onInputChanged",value:function(e,t){var n=this.react.getState();n[t]=e.target.value,n.configManager.playPeriod=Math.max(Math.max(parseFloat(n.targetTweenDuration||2500),parseFloat(n.posTweenDuration||2500),parseFloat(n.upTweenDuration||2500),200)),this.react.setState(n)}},{key:"onKeyDownNumeric",value:function(e){[8,13,37,39,46,188,190].indexOf(e.keyCode)>-1||e.keyCode>47&&e.keyCode<58||(e.stopPropagation(),e.preventDefault())}},{key:"renderEasing",value:function(e){var t=this,i=this.react.getState()["".concat(e,"TweenEasing")],a=n.EASINGS.map(function(n){var i=e+n.id;return D.a.createElement(C.a,{eventKey:i,key:i,onClick:function(){t.react.setState(y()({},"".concat(e,"TweenEasing"),n))}},n.name)});return D.a.createElement(x.a,{title:"Easing: "+i.name,key:"".concat(e,"-easing-dropdown"),id:"".concat(e,"-easing-dropdown")},a)}},{key:"renderContent",value:function(){var e=this,t=this.react.getState(),n=t.configManager,i=t.showLoader,a=t.targetTweenDuration,o=t.posTweenDuration,r=t.upTweenDuration;return D.a.createElement("div",{className:"content"},D.a.createElement(L.b,{show:i}),D.a.createElement("div",{className:"tween"},D.a.createElement("div",{className:"row"},D.a.createElement(R.a,{text:"Tween Parameters:"})),D.a.createElement("div",{className:"row"},D.a.createElement(R.a,{className:"name",text:"Up Vector:"}),D.a.createElement(R.a,{className:"separator",text:"| "}),D.a.createElement(R.a,{className:"field",text:"Duration (ms): "}),D.a.createElement(M.a,{onChange:function(t){return e.onInputChanged(t,"upTweenDuration")},onKeyDown:function(t){return e.onKeyDownNumeric(t)},className:"input-duration",html:r+"","data-placeholder":"2500 ms"}),this.renderEasing("up")),D.a.createElement("div",{className:"row"},D.a.createElement(R.a,{className:"name",text:"Position:"}),D.a.createElement(R.a,{className:"separator",text:"| "}),D.a.createElement(R.a,{className:"field",text:"Duration (ms): "}),D.a.createElement(M.a,{onChange:function(t){return e.onInputChanged(t,"posTweenDuration")},onKeyDown:function(t){return e.onKeyDownNumeric(t)},className:"input-duration",html:o+"","data-placeholder":"2500 ms"}),this.renderEasing("pos")),D.a.createElement("div",{className:"row"},D.a.createElement(R.a,{className:"name",text:"Target:"}),D.a.createElement(R.a,{className:"separator",text:"| "}),D.a.createElement(R.a,{className:"field",text:"Duration (ms): "}),D.a.createElement(M.a,{onChange:function(t){return e.onInputChanged(t,"targetTweenDuration")},onKeyDown:function(t){return e.onKeyDownNumeric(t)},className:"input-duration",html:a+"","data-placeholder":"2500 ms"}),this.renderEasing("target"))),D.a.createElement("div",{className:"config-manager-container"},n&&n.render({showTitle:!1})))}},{key:"render",value:function(e){var t=this;return D.a.createElement(S.a,{renderTitle:function(){return t.renderTitle(e.docked)},showTitle:e.showTitle,className:this.className},this.renderContent())}},{key:"className",get:function(){return"camera-tween"}}],[{key:"ExtensionId",get:function(){return"Viewing.Extension.CameraTween"}}]),n}(T.a);y()(j,"EASINGS",[{id:N.a.Easing.Linear.None,name:"Linear"},{id:N.a.Easing.Quadratic.In,name:"Quadratic.In"},{id:N.a.Easing.Quadratic.Out,name:"Quadratic.Out"},{id:N.a.Easing.Quadratic.InOut,name:"Quadratic.InOut"},{id:N.a.Easing.Cubic.In,name:"Cubic.In"},{id:N.a.Easing.Cubic.Out,name:"Cubic.Out"},{id:N.a.Easing.Cubic.InOut,name:"Cubic.InOut"},{id:N.a.Easing.Quartic.In,name:"Quartic.In"},{id:N.a.Easing.Quartic.Out,name:"Quartic.Out"},{id:N.a.Easing.Quartic.InOut,name:"Quartic.InOut"},{id:N.a.Easing.Quintic.In,name:"Quintic.In"},{id:N.a.Easing.Quintic.Out,name:"Quintic.Out"},{id:N.a.Easing.Quintic.InOut,name:"Quintic.InOut"},{id:N.a.Easing.Exponential.In,name:"Exponential.In"},{id:N.a.Easing.Exponential.Out,name:"Exponential.Out"},{id:N.a.Easing.Exponential.InOut,name:"Exponential.InOut"}]),Autodesk.Viewing.theExtensionManager.registerExtension(j.ExtensionId,j)}).call(this,n(31))},1102:function(e,t,n){var i=n(1103);"string"==typeof i&&(i=[[e.i,i,""]]);n(27)(i,{});i.locals&&(e.exports=i.locals)},1103:function(e,t,n){(e.exports=n(26)(!1)).push([e.i,".camera-tween .title {\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n  float: left; }\n\n.camera-tween .title > label {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  white-space: nowrap;\n  font-weight: normal;\n  user-select: none;\n  margin-left: 27px;\n  margin-top: 10px;\n  select: none;\n  width: 144px;\n  float: left; }\n\n.camera-tween .content {\n  height: 100%; }\n  .camera-tween .content .tween {\n    border: 1px solid #d5d5d5;\n    margin: 6px 6px 0px 5px;\n    padding: 8px 0 4px 10px; }\n    .camera-tween .content .tween .row {\n      width: 100%;\n      margin: 0; }\n      .camera-tween .content .tween .row .label-container p {\n        margin: 2px 0 10px; }\n      .camera-tween .content .tween .row .name {\n        width: 70px; }\n      .camera-tween .content .tween .row .separator {\n        width: 12px; }\n      .camera-tween .content .tween .row .input-duration {\n        border: 1px solid #dedede;\n        padding: 2px 0 0 4px;\n        background: #eaeaea;\n        border-radius: 4px;\n        margin: 0 0 6px 5px;\n        overflow: hidden;\n        text-align: left;\n        color: #000000;\n        height: 26px;\n        float: left;\n        width: 56px; }\n      .camera-tween .content .tween .row .dropdown {\n        width: calc(100% - 252px);\n        margin-left: 8px;\n        float: left; }\n        .camera-tween .content .tween .row .dropdown .dropdown-menu {\n          max-height: 150px;\n          overflow: scroll;\n          width: 100%; }\n        .camera-tween .content .tween .row .dropdown .btn {\n          padding: 2px 2px;\n          overflow: hidden;\n          width: 100%; }\n  .camera-tween .content .config-manager-container {\n    height: calc(100% - 152px); }\n",""])},1104:function(e,t,n){(function(n){var i,a=function(){this._tweens={},this._tweensAddedDuringUpdate={}};a.prototype={getAll:function(){return Object.keys(this._tweens).map(function(e){return this._tweens[e]}.bind(this))},removeAll:function(){this._tweens={}},add:function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},remove:function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},update:function(e,t){var n=Object.keys(this._tweens);if(0===n.length)return!1;for(e=void 0!==e?e:r.now();n.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<n.length;i++){var a=this._tweens[n[i]];a&&!1===a.update(e)&&(a._isPlaying=!1,t||delete this._tweens[n[i]])}n=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var o,r=new a;r.Group=a,r._nextId=0,r.nextId=function(){return r._nextId++},"undefined"==typeof window&&void 0!==n?r.now=function(){var e=n.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?r.now=window.performance.now.bind(window.performance):void 0!==Date.now?r.now=Date.now:r.now=function(){return(new Date).getTime()},r.Tween=function(e,t){this._object=e,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=r.Easing.Linear.None,this._interpolationFunction=r.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=t||r,this._id=r.nextId()},r.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(e,t){return this._valuesEnd=e,void 0!==t&&(this._duration=t),this},start:function(e){for(var t in this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==e?"string"==typeof e?r.now()+parseFloat(e):e:r.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[t]instanceof Array){if(0===this._valuesEnd[t].length)continue;this._valuesEnd[t]=[this._object[t]].concat(this._valuesEnd[t])}void 0!==this._object[t]&&(this._valuesStart[t]=this._object[t],this._valuesStart[t]instanceof Array==!1&&(this._valuesStart[t]*=1),this._valuesStartRepeat[t]=this._valuesStart[t]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(this._startTime+this._duration),this},stopChainedTweens:function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop()},delay:function(e){return this._delayTime=e,this},repeat:function(e){return this._repeat=e,this},repeatDelay:function(e){return this._repeatDelayTime=e,this},yoyo:function(e){return this._yoyo=e,this},easing:function(e){return this._easingFunction=e,this},interpolation:function(e){return this._interpolationFunction=e,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(e){return this._onStartCallback=e,this},onUpdate:function(e){return this._onUpdateCallback=e,this},onComplete:function(e){return this._onCompleteCallback=e,this},onStop:function(e){return this._onStopCallback=e,this},update:function(e){var t,n,i;if(e<this._startTime)return!0;for(t in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),n=(n=(e-this._startTime)/this._duration)>1?1:n,i=this._easingFunction(n),this._valuesEnd)if(void 0!==this._valuesStart[t]){var a=this._valuesStart[t]||0,o=this._valuesEnd[t];o instanceof Array?this._object[t]=this._interpolationFunction(o,i):("string"==typeof o&&(o="+"===o.charAt(0)||"-"===o.charAt(0)?a+parseFloat(o):parseFloat(o)),"number"==typeof o&&(this._object[t]=a+(o-a)*i))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object),1===n){if(this._repeat>0){for(t in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){if("string"==typeof this._valuesEnd[t]&&(this._valuesStartRepeat[t]=this._valuesStartRepeat[t]+parseFloat(this._valuesEnd[t])),this._yoyo){var r=this._valuesStartRepeat[t];this._valuesStartRepeat[t]=this._valuesEnd[t],this._valuesEnd[t]=r}this._valuesStart[t]=this._valuesStartRepeat[t]}return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var s=0,u=this._chainedTweens.length;s<u;s++)this._chainedTweens[s].start(this._startTime+this._duration);return!1}return!0}},r.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-r.Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*r.Easing.Bounce.In(2*e):.5*r.Easing.Bounce.Out(2*e-1)+.5}}},r.Interpolation={Linear:function(e,t){var n=e.length-1,i=n*t,a=Math.floor(i),o=r.Interpolation.Utils.Linear;return t<0?o(e[0],e[1],i):t>1?o(e[n],e[n-1],n-i):o(e[a],e[a+1>n?n:a+1],i-a)},Bezier:function(e,t){for(var n=0,i=e.length-1,a=Math.pow,o=r.Interpolation.Utils.Bernstein,s=0;s<=i;s++)n+=a(1-t,i-s)*a(t,s)*e[s]*o(i,s);return n},CatmullRom:function(e,t){var n=e.length-1,i=n*t,a=Math.floor(i),o=r.Interpolation.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(a=Math.floor(i=n*(1+t))),o(e[(a-1+n)%n],e[a],e[(a+1)%n],e[(a+2)%n],i-a)):t<0?e[0]-(o(e[0],e[0],e[1],e[1],-i)-e[0]):t>1?e[n]-(o(e[n],e[n],e[n-1],e[n-1],i-n)-e[n]):o(e[a?a-1:0],e[a],e[n<a+1?n:a+1],e[n<a+2?n:a+2],i-a)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=r.Interpolation.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:(o=[1],function(e){var t=1;if(o[e])return o[e];for(var n=e;n>1;n--)t*=n;return o[e]=t,t}),CatmullRom:function(e,t,n,i,a){var o=.5*(n-e),r=.5*(i-t),s=a*a;return(2*t-2*n+o+r)*(a*s)+(-3*t+3*n-2*o-r)*s+o*a+t}}},void 0===(i=function(){return r}.apply(t,[]))||(e.exports=i)}).call(this,n(79))},455:function(e,t,n){"use strict";var i=n(9);t.__esModule=!0,t.default=void 0;var a=i(n(14)),o=i(n(13)),r=i(n(11)),s=i(n(0)),u=i(n(1)),l=i(n(208)),c=i(n(210)),d=(0,r.default)({},l.default.propTypes,{bsStyle:u.default.string,bsSize:u.default.string,title:u.default.node.isRequired,noCaret:u.default.bool,children:u.default.node}),h=function(e){function t(){return e.apply(this,arguments)||this}return(0,o.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.bsSize,n=e.bsStyle,i=e.title,o=e.children,u=(0,a.default)(e,["bsSize","bsStyle","title","children"]),d=(0,c.default)(u,l.default.ControlledComponent),h=d[0],p=d[1];return s.default.createElement(l.default,(0,r.default)({},h,{bsSize:t,bsStyle:n}),s.default.createElement(l.default.Toggle,(0,r.default)({},p,{bsSize:t,bsStyle:n}),i),s.default.createElement(l.default.Menu,null,o))},t}(s.default.Component);h.propTypes=d;var p=h;t.default=p,e.exports=t.default},458:function(e,t,n){"use strict";var i=n(459);t.a=i.a},459:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return g});var i=n(120),a=n.n(i),o=n(2),r=n.n(o),s=n(3),u=n.n(s),l=n(5),c=n.n(l),d=n(4),h=n.n(d),p=n(50),f=n.n(p),m=n(6),v=n.n(m),g=function(t){function n(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r()(this,n),t=c()(this,h()(n).call(this,e)),Object.assign(f()(t),i.serviceContext),t.onModelCompletedLoad=t.onModelCompletedLoad.bind(f()(t)),t.onObjectTreeCreated=t.onObjectTreeCreated.bind(f()(t)),t.onModelRootLoaded=t.onModelRootLoaded.bind(f()(t)),t.onExtensionLoaded=t.onExtensionLoaded.bind(f()(t)),t.onModelActivated=t.onModelActivated.bind(f()(t)),t.onGeometryLoaded=t.onGeometryLoaded.bind(f()(t)),t.onToolbarCreated=t.onToolbarCreated.bind(f()(t)),t.onModelBeginLoad=t.onModelBeginLoad.bind(f()(t)),t.onModelUnloaded=t.onModelUnloaded.bind(f()(t)),t.onSelection=t.onSelection.bind(f()(t)),t.__onModelRootLoaded=t.__onModelRootLoaded.bind(f()(t)),t.__onModelActivated=t.__onModelActivated.bind(f()(t)),t.__onModelUnloaded=t.__onModelUnloaded.bind(f()(t)),t.__onModelLoaded=t.__onModelLoaded.bind(f()(t)),t.defaultOptions=a,t.options=Object.assign({},a,i),t.viewer=e;var o=e.impl.modelQueue().getModels();return t.models=o.map(function(e){return e.guid=e.guid||t.guid(),e}),t.initializeEvents(),t}return v()(n,t),u()(n,[{key:"load",value:function(){return!0}},{key:"unload",value:function(){var e=this;return this.viewerEvents.forEach(function(t){e.viewer.removeEventListener(t.id,e[t.handler])}),this.eventSink&&(this.eventSink.off("model.activated",this.__onModelActivated),this.eventSink.off("model.unloaded",this.__onModelUnloaded),this.eventSink.off("model.loaded",this.__onModelLoaded)),this.off(),!0}},{key:"reload",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.options=Object.assign({},this.defaultOptions,this.options,e),!0}},{key:"onExtensionLoaded",value:function(e){}},{key:"onModelBeginLoad",value:function(e){}},{key:"onModelActivated",value:function(e){}},{key:"__onModelRootLoaded",value:function(e){var t=this;this.viewerEvent([Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,Autodesk.Viewing.GEOMETRY_LOADED_EVENT]).then(function(e){t.onModelCompletedLoad(e[0])})}},{key:"onModelRootLoaded",value:function(e){}},{key:"onObjectTreeCreated",value:function(e){}},{key:"onGeometryLoaded",value:function(e){}},{key:"onModelCompletedLoad",value:function(e){}},{key:"onToolbarCreated",value:function(e){}},{key:"onModelUnloaded",value:function(e){}},{key:"onSelection",value:function(e){}},{key:"__onModelLoaded",value:function(e){this.models=[].concat(a()(this.models),[e.model]),this.onModelBeginLoad(e)}},{key:"__onModelActivated",value:function(e){this.onModelActivated(e)}},{key:"__onModelUnloaded",value:function(e){this.models=this.models.filter(function(t){return t.guid!==e.model.guid}),this.onModelUnloaded(e)}},{key:"initializeEvents",value:function(){var e=this;this.options.eventSink&&(this.eventSink=this.options.eventSink,this.eventSink.on("model.loaded",this.__onModelLoaded),this.eventSink.on("model.activated",this.__onModelActivated),this.eventSink.on("model.unloaded",this.__onModelUnloaded)),this.viewerEvents=[{id:Autodesk.Viewing.EXTENSION_LOADED_EVENT,handler:"onExtensionLoaded"},{id:Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,handler:"onObjectTreeCreated"},{id:Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,handler:"__onModelRootLoaded"},{id:Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,handler:"onModelRootLoaded"},{id:Autodesk.Viewing.GEOMETRY_LOADED_EVENT,handler:"onGeometryLoaded"},{id:Autodesk.Viewing.TOOLBAR_CREATED_EVENT,handler:"onToolbarCreated"},{id:Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT,handler:"onSelection"}],this.viewerEvents.forEach(function(t){e.viewerEvent(t.id,e[t.handler])})}},{key:"viewerEvent",value:function(t,n){var i=this;if(!n){var a=(Array.isArray(t)?t:[t]).map(function(t){return new e(function(e){i.viewer.addEventListener(t,function n(a){i.viewer.removeEventListener(t,n),e(a)})})});return e.all(a)}this.viewer.addEventListener(t,n)}}],[{key:"ExtensionId",get:function(){return"Viewing.Extension.MultiModelExtensionBase"}}]),n}(n(121).a.Composer(Autodesk.Viewing.Extension))}).call(this,n(31))},460:function(e,t,n){var i=n(465);function a(t,n,o){return"undefined"!=typeof Reflect&&Reflect.get?e.exports=a=Reflect.get:e.exports=a=function(e,t,n){var a=i(e,t);if(a){var o=Object.getOwnPropertyDescriptor(a,t);return o.get?o.get.call(n):o.value}},a(t,n,o||t)}e.exports=a},461:function(e,t,n){"use strict";var i=n(120),a=n.n(i),o=n(2),r=n.n(o),s=n(3),u=n.n(s),l=n(5),c=n.n(l),d=n(4),h=n.n(d),p=n(6),f=n.n(p),m=n(17),v=n.n(m),g=n(1),w=n.n(g),_=(n(29),n(462),n(0)),E=n.n(_),y=function(e){function t(){return r()(this,t),c()(this,h()(t).apply(this,arguments))}return f()(t,e),u()(t,[{key:"renderTitle",value:function(){return this.props.showTitle?this.props.renderTitle?this.props.renderTitle():E.a.createElement("div",{className:"title"},E.a.createElement("label",null,this.props.title)):E.a.createElement("div",null)}},{key:"renderChildren",value:function(){var e=this;return this.props.dimensions?E.a.Children.map(this.props.children,function(t){var n=Object.assign({},t.props,{dimensions:e.props.dimensions});return E.a.cloneElement(t,n)}):this.props.children}},{key:"render",value:function(){var e=["widget-container"].concat(a()(this.props.className.split(" "))),t=this.props.showTitle?"calc(100% - 40px)":"100%";return E.a.createElement("div",{className:e.join(" "),style:this.props.style},this.renderTitle(),E.a.createElement("div",{className:"content",style:{height:t}},this.renderChildren()))}}]),t}(E.a.Component);v()(y,"propTypes",{className:w.a.string,showTitle:w.a.bool}),v()(y,"defaultProps",{showTitle:!0,className:""});var T=y;t.a=T},462:function(e,t,n){var i=n(463);"string"==typeof i&&(i=[[e.i,i,""]]);n(27)(i,{});i.locals&&(e.exports=i.locals)},463:function(e,t,n){(e.exports=n(26)(!1)).push([e.i,".widget-container {\n  position: relative;\n  height: 100%;\n  width: 100%; }\n\n.widget-container > .title {\n  border-bottom: 1px solid #cdcdcd;\n  background-color: #f5f5f5;\n  padding-right: 10px;\n  color: black;\n  position: relative;\n  overflow: hidden;\n  text-align: left;\n  height: 40px;\n  width: 100%; }\n\n.widget-container > .title > label {\n  white-space: nowrap;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  margin-left: 27px;\n  margin-top: 10px; }\n\n.widget-container > .content {\n  position: relative;\n  overflow: hidden;\n  height: 100%;\n  width: 100%; }\n",""])},464:function(e,t,n){"use strict";var i=n(120),a=n.n(i),o=n(2),r=n.n(o),s=n(3),u=n.n(s),l=n(5),c=n.n(l),d=n(4),h=n.n(d),p=n(6),f=n.n(p),m=n(17),v=n.n(m),g=n(1),w=n.n(g),_=n(486),E=n.n(_),y=(n(29),n(0)),T=n.n(y),b=(n(470),function(e){function t(e){return r()(this,t),c()(this,h()(t).call(this,e))}return f()(t,e),u()(t,[{key:"render",value:function(){var e=["label-container"].concat(a()(this.props.className.split(" "))),t={width:"center"===this.props.textAlign?"100%":"",textAlign:this.props.textAlign};return T.a.createElement("div",{className:e.join(" "),style:t},T.a.createElement("p",null,E.a.sanitize(this.props.text)))}}]),t}(T.a.Component));v()(b,"propTypes",{textAlign:w.a.string,className:w.a.string,text:w.a.string}),v()(b,"defaultProps",{textAlign:"left",className:"",text:""});t.a=b},465:function(e,t,n){var i=n(4);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}},470:function(e,t,n){var i=n(471);"string"==typeof i&&(i=[[e.i,i,""]]);n(27)(i,{});i.locals&&(e.exports=i.locals)},471:function(e,t,n){(e.exports=n(26)(!1)).push([e.i,".label-container {\n  position: relative;\n  overflow: hidden;\n  font-size: 100%;\n  color: #343434;\n  height: 100%;\n  float: left; }\n",""])},491:function(e,t,n){"use strict";var i,a=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},r=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(0)),c=u(n(497)),d=s(n(1));function h(e){return e&&e.replace(/&nbsp;|\u202F|\u00A0/g," ")}function p(e){var t=function e(t){if(t.nodeType===Node.TEXT_NODE)return t;for(var n=t.childNodes,i=n.length-1;i>=0;i--){var a=e(n[i]);if(null!==a)return a}return null}(e),n=document.activeElement===e;if(null!==t&&null!==t.nodeValue&&n){var i=window.getSelection();if(null!==i){var a=document.createRange();a.setStart(t,t.nodeValue.length),a.collapse(!0),i.removeAllRanges(),i.addRange(a)}e instanceof HTMLElement&&e.focus()}}var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastHtml=t.props.html,t.el="function"==typeof t.props.innerRef?{current:null}:l.createRef(),t.getEl=function(){return(t.props.innerRef&&"function"!=typeof t.props.innerRef?t.props.innerRef:t.el).current},t.emitChange=function(e){var n=t.getEl();if(n){var i=n.innerHTML;if(t.props.onChange&&i!==t.lastHtml){var a=Object.assign({},e,{target:{value:i}});t.props.onChange(a)}t.lastHtml=i}},t}return a(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.tagName,i=t.html,a=t.innerRef,s=r(t,["tagName","html","innerRef"]);return l.createElement(n||"div",o({},s,{ref:"function"==typeof a?function(t){a(t),e.el.current=t}:a||this.el,onInput:this.emitChange,onBlur:this.props.onBlur||this.emitChange,onKeyUp:this.props.onKeyUp||this.emitChange,onKeyDown:this.props.onKeyDown||this.emitChange,contentEditable:!this.props.disabled,dangerouslySetInnerHTML:{__html:i}}),this.props.children)},t.prototype.shouldComponentUpdate=function(e){var t=this.props,n=this.getEl();return!n||(h(e.html)!==h(n.innerHTML)||(t.disabled!==e.disabled||t.tagName!==e.tagName||t.className!==e.className||t.innerRef!==e.innerRef||!c.default(t.style,e.style)))},t.prototype.componentDidUpdate=function(){var e=this.getEl();e&&(this.props.html!==e.innerHTML&&(e.innerHTML=this.lastHtml=this.props.html),p(e))},t.propTypes={html:d.string.isRequired,onChange:d.func,disabled:d.bool,tagName:d.string,className:d.string,style:d.object,innerRef:d.oneOfType([d.object,d.func])},t}(l.Component);t.default=f},497:function(e,t,n){"use strict";var i=Array.isArray,a=Object.keys,o=Object.prototype.hasOwnProperty;e.exports=function e(t,n){if(t===n)return!0;var r,s,u,l=i(t),c=i(n);if(l&&c){if((s=t.length)!=n.length)return!1;for(r=0;r<s;r++)if(!e(t[r],n[r]))return!1;return!0}if(l!=c)return!1;var d=t instanceof Date,h=n instanceof Date;if(d!=h)return!1;if(d&&h)return t.getTime()==n.getTime();var p=t instanceof RegExp,f=n instanceof RegExp;if(p!=f)return!1;if(p&&f)return t.toString()==n.toString();if(t instanceof Object&&n instanceof Object){var m=a(t);if((s=m.length)!==a(n).length)return!1;for(r=0;r<s;r++)if(!o.call(n,m[r]))return!1;for(r=0;r<s;r++)if(!e(t[u=m[r]],n[u]))return!1;return!0}return!1}}}]);
//# sourceMappingURL=57.js.map