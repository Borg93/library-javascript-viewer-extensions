(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{1192:function(e,n,t){var o=t(1193);"string"==typeof o&&(o=[[e.i,o,""]]);t(27)(o,{});o.locals&&(e.exports=o.locals)},1193:function(e,n,t){(e.exports=t(26)(!1)).push([e.i,".level-filter .title {\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n  float: left; }\n\n.level-filter .title > label {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  white-space: nowrap;\n  font-weight: normal;\n  user-select: none;\n  margin-left: 27px;\n  margin-top: 10px;\n  width: 144px;\n  float: left; }\n\n.level-filter .ui-controls {\n  height: calc(100% - 6px);\n  width: calc(100% - 12px);\n  margin: 6px 0 0 6px;\n  text-align: left; }\n  .level-filter .ui-controls .levels {\n    overflow: scroll;\n    height: 100%; }\n    .level-filter .ui-controls .levels .level {\n      transition-timing-function: ease;\n      transition-property: background;\n      transition-duration: 1.0s;\n      transition-delay: 0.0s;\n      border: 1px solid #b7b7b7;\n      background: whitesmoke;\n      margin: 0 0 4px 0;\n      cursor: pointer;\n      height: 34px;\n      width: 100%; }\n      .level-filter .ui-controls .levels .level.active {\n        background: rgba(0, 105, 245, 0.1);\n        border: 1px solid #1bb1f4; }\n      .level-filter .ui-controls .levels .level:hover {\n        background: rgba(0, 105, 245, 0.1);\n        border: 1px solid #1bb1f4; }\n      .level-filter .ui-controls .levels .level .color {\n        pointer-events: none;\n        position: relative;\n        border-radius: 50%;\n        height: 28px;\n        margin: 2px;\n        width: 28px;\n        float: left; }\n      .level-filter .ui-controls .levels .level .label-container {\n        pointer-events: none;\n        margin: 5px 0 0 4px; }\n\n.filter-controls {\n  margin: auto 0 auto calc(100% - 140px);\n  position: relative;\n  float: left; }\n\n.filter-controls > button {\n  border: 1px solid #c6c6c6;\n  background-color: #e1e1e1;\n  border-radius: 6px;\n  position: relative;\n  overflow: hidden;\n  outline: none;\n  height: 24px;\n  width: 26px; }\n\n.filter-controls > button:hover {\n  border: 1px solid #878787;\n  background-color: #f5f5f5; }\n\n.filter-controls > button > label {\n  position: relative;\n  font-size: 20px;\n  color: #f0fcff;\n  top: -8px; }\n\n.filter-controls > button > span {\n  pointer-events: none;\n  color: #9b9b9b; }\n",""])},1422:function(e,n,t){"use strict";t.r(n);var o=t(30),i=t.n(o),r=t(43),l=t.n(r),a=t(2),s=t.n(a),d=t(3),c=t.n(d),u=t(5),v=t.n(u),f=t(4),h=t.n(f),p=t(460),g=t.n(p),m=t(6),x=t.n(m),E=t(458),b=t(461),w=(t(1192),t(37),t(122)),k=t(466),y=t(488),_=t.n(y),L=(t(29),t(464)),M=t(0),T=t.n(M),A=t(518),C=t.n(A),N=function(e){function n(e,t){var o;return s()(this,n),(o=v()(this,h()(n).call(this,e,t))).react=t.react,o}var t,o;return x()(n,e),c()(n,[{key:"load",value:function(){var e=this;return this.react.setState({activeLevelId:-1,levels:[]}).then(function(){e.react.pushRenderExtension(e)}),console.log("Viewing.Extension.LevelFilter loaded"),!0}},{key:"unload",value:function(){return console.log("Viewing.Extension.LevelFilter unloaded"),this.react.popViewerPanel(this),g()(h()(n.prototype),"unload",this).call(this),!0}},{key:"getModelBoundingBox",value:(o=l()(i.a.mark(function e(n){var t,o,r,l,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.getData().instanceTree,o=t.getRootId(),e.next=4,k.a.getFragIds(n,o);case 4:return r=e.sent,l=n.getFragmentList(),a=this.getModifiedWorldBoundingBox(r,l),e.abrupt("return",a);case 8:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"onModelCompletedLoad",value:(t=l()(i.a.mark(function e(n){var t,o,r,l,a,s,d,c,u,v=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.viewer.model,e.next=3,this.getModelBoundingBox(t);case 3:return o=e.sent,e.next=6,this.getComponentsByParentName("Floors",this.viewer.model);case 6:for(r=e.sent,l=r.map(function(e){return v.getComponentBoundingBox(e)}),a=this.mergeBoxes(_()(l,function(e){return e.min.z})),s=[],d=a.length,c=C.a.scale.linear().domain([0,.33*d,.66*d,d]).range(["#FCB843","#C2149F","#0CC4BD","#0270E9"]),s.push({min:a[a.length-1].max,color:c(a.length-1),max:o.max}),u=a.length-2;u>=0;--u)s.push({max:a[u+1].min,min:a[u].max,color:c(u)});this.react.setState({levels:s});case 15:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"getComponentsByParentName",value:function(e,n){var t=n.getData().instanceTree,o=t.getRootId(),i=0;return t.enumNodeChildren(o,function(n){t.getNodeName(n).indexOf(e)>-1&&(i=n)}),i>0?k.a.getLeafNodes(n,i):[]}},{key:"getModifiedWorldBoundingBox",value:function(e,n){var t=new THREE.Box3,o=new THREE.Box3;return e.forEach(function(e){n.getWorldBounds(e,t),o.union(t)}),o}},{key:"getComponentBoundingBox",value:function(e){var n=this.viewer.model,t=k.a.getLeafFragIds(n,e),o=n.getFragmentList();return this.getModifiedWorldBoundingBox(t,o)}},{key:"mergeBoxes",value:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,t=[],o=-Number.MAX_VALUE,i=0;i<e.length;++i){var r=e[i],l=r.max.z-o;if(l>n)o=r.max.z,t.push(r);else{var a=t[t.length-1];a.max.x=Math.max(a.max.x,r.max.x),a.max.y=Math.max(a.max.y,r.max.y),a.min.x=Math.min(a.min.x,r.min.x),a.min.y=Math.min(a.min.y,r.min.y)}}return t}},{key:"onLevelClick",value:function(e,n){if(e===this.react.getState().activeLevelId)this.viewer.setCutPlanes([]),this.react.setState({activeLevelId:-1});else{var t=new THREE.Vector4(0,0,-1,n.min.z),o=new THREE.Vector4(0,0,1,-n.max.z);this.viewer.setCutPlanes([t,o]),this.react.setState({activeLevelId:e})}}},{key:"renderTitle",value:function(){return T.a.createElement("div",{className:"title"},T.a.createElement("label",null,"Level Filter"))}},{key:"hexToRgbA",value:function(e,n){if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)){var t=e.substring(1).split("");return 3==t.length&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),t="0x"+t.join(""),"rgba(".concat(t>>16&255,",").concat(t>>8&255,",").concat(255&t,",").concat(n,")")}throw new Error("Bad Hex Number: "+e)}},{key:"renderControls",value:function(){var e=this,n=this.react.getState(),t=n.activeLevelId,o=n.levels,i=o.map(function(n,i){var r=t===i?" active":"",l={backgroundColor:e.hexToRgbA(n.color,.3),border:"2px solid ".concat(n.color)};return T.a.createElement("div",{key:"level-".concat(i),className:"level".concat(r),onClick:function(){return e.onLevelClick(i,n)}},T.a.createElement("div",{className:"color",style:l}),T.a.createElement(L.a,{text:"Level ".concat(o.length-i)}))});return T.a.createElement("div",{className:"ui-controls"},T.a.createElement(w.b,{show:!o.length}),T.a.createElement("div",{className:"levels"},i))}},{key:"render",value:function(e){var n=this;return T.a.createElement(b.a,{renderTitle:function(){return n.renderTitle()},showTitle:e.showTitle,className:this.className},this.renderControls())}},{key:"className",get:function(){return"level-filter"}}],[{key:"ExtensionId",get:function(){return"Viewing.Extension.LevelFilter"}}]),n}(E.a);Autodesk.Viewing.theExtensionManager.registerExtension(N.ExtensionId,N);n.default="Viewing.Extension.LevelFilter"},458:function(e,n,t){"use strict";var o=t(459);n.a=o.a},459:function(e,n,t){"use strict";(function(e){t.d(n,"a",function(){return m});var o=t(120),i=t.n(o),r=t(2),l=t.n(r),a=t(3),s=t.n(a),d=t(5),c=t.n(d),u=t(4),v=t.n(u),f=t(50),h=t.n(f),p=t(6),g=t.n(p),m=function(n){function t(e){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};l()(this,t),n=c()(this,v()(t).call(this,e)),Object.assign(h()(n),o.serviceContext),n.onModelCompletedLoad=n.onModelCompletedLoad.bind(h()(n)),n.onObjectTreeCreated=n.onObjectTreeCreated.bind(h()(n)),n.onModelRootLoaded=n.onModelRootLoaded.bind(h()(n)),n.onExtensionLoaded=n.onExtensionLoaded.bind(h()(n)),n.onModelActivated=n.onModelActivated.bind(h()(n)),n.onGeometryLoaded=n.onGeometryLoaded.bind(h()(n)),n.onToolbarCreated=n.onToolbarCreated.bind(h()(n)),n.onModelBeginLoad=n.onModelBeginLoad.bind(h()(n)),n.onModelUnloaded=n.onModelUnloaded.bind(h()(n)),n.onSelection=n.onSelection.bind(h()(n)),n.__onModelRootLoaded=n.__onModelRootLoaded.bind(h()(n)),n.__onModelActivated=n.__onModelActivated.bind(h()(n)),n.__onModelUnloaded=n.__onModelUnloaded.bind(h()(n)),n.__onModelLoaded=n.__onModelLoaded.bind(h()(n)),n.defaultOptions=i,n.options=Object.assign({},i,o),n.viewer=e;var r=e.impl.modelQueue().getModels();return n.models=r.map(function(e){return e.guid=e.guid||n.guid(),e}),n.initializeEvents(),n}return g()(t,n),s()(t,[{key:"load",value:function(){return!0}},{key:"unload",value:function(){var e=this;return this.viewerEvents.forEach(function(n){e.viewer.removeEventListener(n.id,e[n.handler])}),this.eventSink&&(this.eventSink.off("model.activated",this.__onModelActivated),this.eventSink.off("model.unloaded",this.__onModelUnloaded),this.eventSink.off("model.loaded",this.__onModelLoaded)),this.off(),!0}},{key:"reload",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.options=Object.assign({},this.defaultOptions,this.options,e),!0}},{key:"onExtensionLoaded",value:function(e){}},{key:"onModelBeginLoad",value:function(e){}},{key:"onModelActivated",value:function(e){}},{key:"__onModelRootLoaded",value:function(e){var n=this;this.viewerEvent([Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,Autodesk.Viewing.GEOMETRY_LOADED_EVENT]).then(function(e){n.onModelCompletedLoad(e[0])})}},{key:"onModelRootLoaded",value:function(e){}},{key:"onObjectTreeCreated",value:function(e){}},{key:"onGeometryLoaded",value:function(e){}},{key:"onModelCompletedLoad",value:function(e){}},{key:"onToolbarCreated",value:function(e){}},{key:"onModelUnloaded",value:function(e){}},{key:"onSelection",value:function(e){}},{key:"__onModelLoaded",value:function(e){this.models=[].concat(i()(this.models),[e.model]),this.onModelBeginLoad(e)}},{key:"__onModelActivated",value:function(e){this.onModelActivated(e)}},{key:"__onModelUnloaded",value:function(e){this.models=this.models.filter(function(n){return n.guid!==e.model.guid}),this.onModelUnloaded(e)}},{key:"initializeEvents",value:function(){var e=this;this.options.eventSink&&(this.eventSink=this.options.eventSink,this.eventSink.on("model.loaded",this.__onModelLoaded),this.eventSink.on("model.activated",this.__onModelActivated),this.eventSink.on("model.unloaded",this.__onModelUnloaded)),this.viewerEvents=[{id:Autodesk.Viewing.EXTENSION_LOADED_EVENT,handler:"onExtensionLoaded"},{id:Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,handler:"onObjectTreeCreated"},{id:Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,handler:"__onModelRootLoaded"},{id:Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,handler:"onModelRootLoaded"},{id:Autodesk.Viewing.GEOMETRY_LOADED_EVENT,handler:"onGeometryLoaded"},{id:Autodesk.Viewing.TOOLBAR_CREATED_EVENT,handler:"onToolbarCreated"},{id:Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT,handler:"onSelection"}],this.viewerEvents.forEach(function(n){e.viewerEvent(n.id,e[n.handler])})}},{key:"viewerEvent",value:function(n,t){var o=this;if(!t){var i=(Array.isArray(n)?n:[n]).map(function(n){return new e(function(e){o.viewer.addEventListener(n,function t(i){o.viewer.removeEventListener(n,t),e(i)})})});return e.all(i)}this.viewer.addEventListener(n,t)}}],[{key:"ExtensionId",get:function(){return"Viewing.Extension.MultiModelExtensionBase"}}]),t}(t(121).a.Composer(Autodesk.Viewing.Extension))}).call(this,t(31))},461:function(e,n,t){"use strict";var o=t(120),i=t.n(o),r=t(2),l=t.n(r),a=t(3),s=t.n(a),d=t(5),c=t.n(d),u=t(4),v=t.n(u),f=t(6),h=t.n(f),p=t(17),g=t.n(p),m=t(1),x=t.n(m),E=(t(29),t(462),t(0)),b=t.n(E),w=function(e){function n(){return l()(this,n),c()(this,v()(n).apply(this,arguments))}return h()(n,e),s()(n,[{key:"renderTitle",value:function(){return this.props.showTitle?this.props.renderTitle?this.props.renderTitle():b.a.createElement("div",{className:"title"},b.a.createElement("label",null,this.props.title)):b.a.createElement("div",null)}},{key:"renderChildren",value:function(){var e=this;return this.props.dimensions?b.a.Children.map(this.props.children,function(n){var t=Object.assign({},n.props,{dimensions:e.props.dimensions});return b.a.cloneElement(n,t)}):this.props.children}},{key:"render",value:function(){var e=["widget-container"].concat(i()(this.props.className.split(" "))),n=this.props.showTitle?"calc(100% - 40px)":"100%";return b.a.createElement("div",{className:e.join(" "),style:this.props.style},this.renderTitle(),b.a.createElement("div",{className:"content",style:{height:n}},this.renderChildren()))}}]),n}(b.a.Component);g()(w,"propTypes",{className:x.a.string,showTitle:x.a.bool}),g()(w,"defaultProps",{showTitle:!0,className:""});var k=w;n.a=k},462:function(e,n,t){var o=t(463);"string"==typeof o&&(o=[[e.i,o,""]]);t(27)(o,{});o.locals&&(e.exports=o.locals)},463:function(e,n,t){(e.exports=t(26)(!1)).push([e.i,".widget-container {\n  position: relative;\n  height: 100%;\n  width: 100%; }\n\n.widget-container > .title {\n  border-bottom: 1px solid #cdcdcd;\n  background-color: #f5f5f5;\n  padding-right: 10px;\n  color: black;\n  position: relative;\n  overflow: hidden;\n  text-align: left;\n  height: 40px;\n  width: 100%; }\n\n.widget-container > .title > label {\n  white-space: nowrap;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  margin-left: 27px;\n  margin-top: 10px; }\n\n.widget-container > .content {\n  position: relative;\n  overflow: hidden;\n  height: 100%;\n  width: 100%; }\n",""])},464:function(e,n,t){"use strict";var o=t(120),i=t.n(o),r=t(2),l=t.n(r),a=t(3),s=t.n(a),d=t(5),c=t.n(d),u=t(4),v=t.n(u),f=t(6),h=t.n(f),p=t(17),g=t.n(p),m=t(1),x=t.n(m),E=t(486),b=t.n(E),w=(t(29),t(0)),k=t.n(w),y=(t(470),function(e){function n(e){return l()(this,n),c()(this,v()(n).call(this,e))}return h()(n,e),s()(n,[{key:"render",value:function(){var e=["label-container"].concat(i()(this.props.className.split(" "))),n={width:"center"===this.props.textAlign?"100%":"",textAlign:this.props.textAlign};return k.a.createElement("div",{className:e.join(" "),style:n},k.a.createElement("p",null,b.a.sanitize(this.props.text)))}}]),n}(k.a.Component));g()(y,"propTypes",{textAlign:x.a.string,className:x.a.string,text:x.a.string}),g()(y,"defaultProps",{textAlign:"left",className:"",text:""});n.a=y},470:function(e,n,t){var o=t(471);"string"==typeof o&&(o=[[e.i,o,""]]);t(27)(o,{});o.locals&&(e.exports=o.locals)},471:function(e,n,t){(e.exports=t(26)(!1)).push([e.i,".label-container {\n  position: relative;\n  overflow: hidden;\n  font-size: 100%;\n  color: #343434;\n  height: 100%;\n  float: left; }\n",""])},474:function(e,n,t){var o=t(505),i=t(487);e.exports=function e(n,t,r,l,a){var s=-1,d=n.length;for(r||(r=i),a||(a=[]);++s<d;){var c=n[s];t>0&&r(c)?t>1?e(c,t-1,r,l,a):o(a,c):l||(a[a.length]=c)}return a}},478:function(e,n,t){var o=t(201),i=t(498);e.exports=function(e,n){return e&&o(e,n,i)}},481:function(e,n,t){var o=t(478),i=t(490)(o);e.exports=i},487:function(e,n,t){var o=t(125),i=t(126),r=t(123),l=o?o.isConcatSpreadable:void 0;e.exports=function(e){return r(e)||i(e)||!!(l&&e&&e[l])}},488:function(e,n,t){var o=t(474),i=t(492),r=t(202),l=t(203),a=r(function(e,n){if(null==e)return[];var t=n.length;return t>1&&l(e,n[0],n[1])?n=[]:t>2&&l(n[0],n[1],n[2])&&(n=[n[0]]),i(e,o(n,1),[])});e.exports=a},489:function(e,n,t){var o=t(481),i=t(92);e.exports=function(e,n){var t=-1,r=i(e)?Array(e.length):[];return o(e,function(e,o,i){r[++t]=n(e,o,i)}),r}},490:function(e,n,t){var o=t(92);e.exports=function(e,n){return function(t,i){if(null==t)return t;if(!o(t))return e(t,i);for(var r=t.length,l=n?r:-1,a=Object(t);(n?l--:++l<r)&&!1!==i(a[l],l,a););return t}}},492:function(e,n,t){var o=t(513),i=t(501),r=t(489),l=t(493),a=t(200),s=t(494),d=t(127);e.exports=function(e,n,t){var c=-1;n=o(n.length?n:[d],a(i));var u=r(e,function(e,t,i){return{criteria:o(n,function(n){return n(e)}),index:++c,value:e}});return l(u,function(e,n){return s(e,n,t)})}},493:function(e,n){e.exports=function(e,n){var t=e.length;for(e.sort(n);t--;)e[t]=e[t].value;return e}},494:function(e,n,t){var o=t(495);e.exports=function(e,n,t){for(var i=-1,r=e.criteria,l=n.criteria,a=r.length,s=t.length;++i<a;){var d=o(r[i],l[i]);if(d)return i>=s?d:d*("desc"==t[i]?-1:1)}return e.index-n.index}},495:function(e,n,t){var o=t(510);e.exports=function(e,n){if(e!==n){var t=void 0!==e,i=null===e,r=e==e,l=o(e),a=void 0!==n,s=null===n,d=n==n,c=o(n);if(!s&&!c&&!l&&e>n||l&&a&&d&&!s&&!c||i&&a&&d||!t&&d||!r)return 1;if(!i&&!l&&!c&&e<n||c&&t&&r&&!i&&!l||s&&t&&r||!a&&r||!d)return-1}return 0}}}]);
//# sourceMappingURL=52.js.map