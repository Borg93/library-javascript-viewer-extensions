{"version":3,"sources":["webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.PlantFactory/Viewing.Extension.PlantFactory.scss?2839","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.PlantFactory/Viewing.Extension.PlantFactory.scss","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.PlantFactory/PropertyBarChart.js","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.PlantFactory/PropertyPieChart.js","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.PlantFactory/PropertyList.js","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.PlantFactory/Viewing.Extension.PlantFactory.js","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.PlantFactory/index.js","webpack:///./src/client/components/Viewer/Extensions/Viewer.MultiModelExtensionBase/index.js","webpack:///./src/client/components/Viewer/Extensions/Viewer.MultiModelExtensionBase/Viewer.MultiModelExtensionBase.js","webpack:///./src/client/components/WidgetContainer/WidgetContainer.js","webpack:///./src/client/components/WidgetContainer/index.js","webpack:///./src/client/components/WidgetContainer/WidgetContainer.scss?a31d","webpack:///./src/client/components/WidgetContainer/WidgetContainer.scss","webpack:///./src/client/components/BarChart/index.js","webpack:///./src/client/components/BarChart/BarChart.js","webpack:///./src/client/components/BarChart/BarChart.scss?7897","webpack:///./src/client/components/BarChart/BarChart.scss","webpack:///./src/client/components/PieChart/index.js","webpack:///./src/client/components/PieChart/PieChart.js","webpack:///./src/client/components/PieChart/PieChart.scss?63ff","webpack:///./src/client/components/PieChart/PieChart.scss"],"names":["content","__webpack_require__","module","i","locals","exports","push","PropertyBarChart","classCallCheck_default","this","possibleConstructorReturn_default","getPrototypeOf_default","call","_this$props","props","guid","title","data","viewer","react_default","a","createElement","className","BarChart","onGroupClicked","e","dbIds","Toolkit","isolateFull","fitToView","React","Component","PropertyPieChart","style","PieChart","onSegmentClicked","expanded","dataGuid","PropertyList","_this","percentFormatter","cell","row","concat","toFixed","onRowClick","bind","assertThisInitialized_default","lastClickedIndex","index","_React$createElement","_this2","lib","striped","hover","options","headerAlign","dataAlign","dataField","isKey","defineProperty_default","width","dataFormat","stateInit","viewport","eye","target","up","worldUpVector","pivotPoint","distanceToOrbit","aspectRatio","projection","isOrthographic","fieldOfView","PlantFactoryExtension","onStopResize","render","react","setProgressiveRendering","window","addEventListener","setState","showLoader","projectAreaData","projectDisciplineData","pipingSystemData","pipingPriorityData","pipingFabricationStatusData","pipingMaterialStatusData","pipingProgressData","pipingIWPData","foundationStatusData","foundationIWPData","structureStatusData","structureProgressData","equipmentTagData","equipmentROSData","instrumentationTagData","electricalStatusData","scheduleActivitiesData","then","pushRenderExtension","loadDynamicExtension","buildMenu","menu","map","item","toLowerCase","console","log","removeEventListener","get_default","prototype","loader","show","restoreState","getLeafNodes","model","componentIds","buildPropertyData","_this3","projectAreaGuid","projectDisciplineGuid","pipingSystemGuid","pipingPriorityGuid","pipingFabricationStatusGuid","pipingMaterialStatusGuid","pipingProgressGuid","pipingIWPGuid","foundationStatusGuid","foundationIWPGuid","structureStatusGuid","structureProgressGuid","equipmentTagGuid","equipmentROSGuid","instrumentationTagGuid","electricalStatusGuid","scheduleActivitiesGuid","clrStr","clr","parseInt","replace","shading","THREE","FlatShading","name","specular","shininess","emissive","diffuse","color","material","MeshPhongMaterial","impl","matman","addMaterial","group","totalValue","minPercent","transform","result","value","key","length","propName","mapComponentsByProp","componentsMap","indexOf","groupedMap","groupMap","keys","Object","colors","d3","scale","linear","domain","range","percent","_this4","label","createMaterial","shortLabel","state","getState","overflow","height","Loader","WidgetContainer","Viewing_Extension_PlantFactory_PropertyPieChart","float","Viewing_Extension_PlantFactory_PropertyList","position","left","Viewing_Extension_PlantFactory_PropertyBarChart","MultiModelExtensionBase","Autodesk","Viewing","theExtensionManager","registerExtension","ExtensionId","__webpack_exports__","_Viewer_MultiModelExtensionBase__WEBPACK_IMPORTED_MODULE_0__","arguments","undefined","defaultOptions","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default","_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default","_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default","assign","_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default","serviceContext","onModelCompletedLoad","onObjectTreeCreated","onModelRootLoaded","onExtensionLoaded","onModelActivated","onGeometryLoaded","onToolbarCreated","onModelBeginLoad","onModelUnloaded","onSelection","__onModelRootLoaded","__onModelActivated","__onModelUnloaded","__onModelLoaded","models","modelQueue","getModels","initializeEvents","viewerEvents","forEach","event","id","handler","eventSink","off","viewerEvent","OBJECT_TREE_CREATED_EVENT","GEOMETRY_LOADED_EVENT","args","_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default","filter","on","EXTENSION_LOADED_EVENT","MODEL_ROOT_LOADED_EVENT","TOOLBAR_CREATED_EVENT","AGGREGATE_SELECTION_CHANGED_EVENT","eventId","_this5","eventTasks","Array","isArray","Promise","resolve","__handler","all","EventsEmitter","Composer","Extension","showTitle","renderTitle","dimensions","Children","children","child","newProps","cloneElement","classNames","toConsumableArray_default","split","join","renderChildren","PropTypes","string","bool","_BarChart__WEBPACK_IMPORTED_MODULE_0__","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default","_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default","_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default","draw","nextProps","$","container","empty","margin","Math","min","max","x","ordinal","rangeRoundBands","y","xAxis","svg","axis","orient","yAxis","ticks","select","append","attr","d","selectAll","text","tooltip","tempcolor","enter","rangeBand","transition","offset","pageX","pageY","top","html","fill","react__WEBPACK_IMPORTED_MODULE_5___default","ref","div","_PieChart__WEBPACK_IMPORTED_MODULE_0__","effects","load","effect","opts","size","offsetHeight","offsetWidth","canvasHeight","canvasWidth","pieInnerRadius","pieOuterRadius","tooltips","enabled","type","placeholderParser","replacements","unit","styles","fadeInSpeed","backgroundColor","backgroundOpacity","borderRadius","font","fontSize","padding","zIndex","labels","outer","format","hideWhenLessThanPercentage","pieDistance","inner","callbacks","onClickSegment","misc","gradient","percentage","pie","d3pie","applyCustomProps","find","css","setTimeout","stroke-width"],"mappings":"+EAGA,IAAAA,EAAcC,EAAQ,MACtB,iBAAAD,MAAA,EAA4CE,EAAAC,EAASH,EAAA,MAExCC,EAAQ,GAARA,CAAsED,EAAA,IACnFA,EAAAI,SAAAF,EAAAG,QAAAL,EAAAI,+BCPAF,EAAAG,QAA2BJ,EAAQ,GAARA,EAA0E,IAErGK,KAAA,CAAcJ,EAAAC,EAAS,owCAAkwC,mTC+C1wCI,cAvCb,SAAAA,IAAe,OAAAC,IAAAC,KAAAF,GAAAG,IAAAD,KAAAE,IAAAJ,GAAAK,KAAAH,6DASL,IAAAI,EAE8BJ,KAAKK,MAAnCC,EAFAF,EAEAE,KAAMC,EAFNH,EAEMG,MAAOC,EAFbJ,EAEaI,KAAMC,EAFnBL,EAEmBK,OAE3B,OACEC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACbH,EAAAC,EAAAC,cAAA,aACIL,IAING,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAUC,eAAgB,SAACC,GAEvB,IAAMC,EAAQD,EAAEC,MAEhBC,IAAQC,YACNV,EAAQQ,GAEVR,EAAOW,aAETd,KAAMA,EACNE,KAAMA,YArCea,IAAMC,oBC8CtBC,cAxCb,SAAAA,IAAe,OAAAxB,IAAAC,KAAAuB,GAAAtB,IAAAD,KAAAE,IAAAqB,GAAApB,KAAAH,6DASL,IAAAI,EAEqCJ,KAAKK,MAA1CC,EAFAF,EAEAE,KAAMC,EAFNH,EAEMG,MAAOC,EAFbJ,EAEaI,KAAMC,EAFnBL,EAEmBK,OAAQe,EAF3BpB,EAE2BoB,MAEnC,OACEd,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBAAqBW,MAAOA,GACzCd,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACbH,EAAAC,EAAAC,cAAA,aACIL,IAING,EAAAC,EAAAC,cAACa,EAAA,EAAD,CAAUC,iBAAkB,SAAClB,EAAMmB,GAE/B,IAAMV,EAAQU,EAAW,GAAKnB,EAAKS,MAEnCC,IAAQC,YACNV,EACAQ,GAEFR,EAAOW,aAETQ,SAAUtB,EACVE,KAAMA,YAtCea,IAAMC,qCC0FtBO,cApFb,SAAAA,IAAe,IAAAC,EAAA,OAAA/B,IAAAC,KAAA6B,IAEbC,EAAA7B,IAAAD,KAAAE,IAAA2B,GAAA1B,KAAAH,QAEK+B,iBAAmB,SAACC,EAAMC,GAC7B,SAAAC,OACKF,EAAKG,QAAQ,GADlB,aAKFL,EAAKM,WAAaN,EAAKM,WAAWC,KAAhBC,IAAAR,IAElBA,EAAKS,kBAAoB,EAZZT,0DAmBHG,EAAKxB,GAEf,GAAIT,KAAKuC,mBAAqBN,EAAIO,MAAO,CAEvC,IAAMvB,EAAQgB,EAAIhB,MAElBC,IAAQC,YAAYV,EAAQQ,GAE5BR,EAAOW,iBAIPF,IAAQC,YAAYV,GAEpBA,EAAOW,YAGTpB,KAAKuC,iBAAmBN,EAAIO,uCAOpB,IAAAC,EAAAC,EAAA1C,KAAAI,EAE+BJ,KAAKK,MAApCE,EAFAH,EAEAG,MAAOC,EAFPJ,EAEOI,KAAMC,EAFbL,EAEaK,OAAQe,EAFrBpB,EAEqBoB,MAE7B,OACEd,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAgBW,MAAOA,GACpCd,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACbH,EAAAC,EAAAC,cAAA,aACIL,IAING,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACbH,EAAAC,EAAAC,cAAC+B,EAAA,eAAD,CAAgBnC,KAAMA,EAAMoC,SAAS,EAAMC,OAAO,EAChDC,QAAS,CACPV,WAAY,SAACH,GAAD,OAASS,EAAKN,WAAWH,EAAKxB,MAE5CC,EAAAC,EAAAC,cAAC+B,EAAA,mBAADF,EAAA,CACEM,YAAY,OACZC,UAAU,OACVC,UAAU,aACVC,OAAO,GAJTC,IAAAV,EAAA,YAKY,UALZU,IAAAV,EAAA,YAMY,GANZA,GAAA,SASA/B,EAAAC,EAAAC,cAAC+B,EAAA,kBAAD,CACES,MAAM,MACNL,YAAY,OACZC,UAAU,OACVC,UAAU,UACVI,WAAYrD,KAAK+B,kBALnB,0BA3EeV,IAAMC,WCc3BgC,EAAY,CAChBC,SAAY,CACVC,IAAM,EAAE,mBAAmB,kBAAkB,oBAC7CC,OAAS,EAAE,kBAAkB,mBAAmB,oBAChDC,GAAK,CAAC,kBAAmB,iBAAkB,kBAC3CC,cAAgB,CAAC,EAAE,EAAE,GACrBC,WAAa,EAAE,kBAAkB,mBAAmB,oBACpDC,gBAAkB,mBAClBC,YAAc,mBACdC,WAAa,cACbC,gBAAiB,EACjBC,YAAc,qBAIZC,cAMJ,SAAAA,EAAazD,EAAQqC,GAAS,IAAAhB,EAAA,OAAA/B,IAAAC,KAAAkE,IAE5BpC,EAAA7B,IAAAD,KAAAE,IAAAgE,GAAA/D,KAAAH,KAAOS,EAAQqC,KAEVqB,aAAerC,EAAKqC,aAAa9B,KAAlBC,IAAAR,IAEpBA,EAAKsC,OAAStC,EAAKsC,OAAO/B,KAAZC,IAAAR,IAEdA,EAAKuC,MAAQvB,EAAQuB,MAROvC,8DAiCtB,IAAAY,EAAA1C,KAsEN,OApEAA,KAAKS,OAAO6D,yBAAwB,GAEpCC,OAAOC,iBACL,SAAUxE,KAAKmE,cAEjBnE,KAAKqE,MAAMI,SAAS,CAElBC,YAAY,EAGZC,gBAAiB,GACjBC,sBAAuB,GAGvBC,iBAAkB,GAClBC,mBAAoB,GACpBC,4BAA6B,GAC7BC,yBAA0B,GAC1BC,mBAAoB,GACpBC,cAAe,GAGfC,qBAAsB,GACtBC,kBAAmB,GAGnBC,oBAAqB,GACrBC,sBAAuB,GAGvBC,iBAAkB,GAClBC,iBAAkB,GAGlBC,uBAAwB,GAGxBC,qBAAsB,GAGtBC,uBAAwB,KAEvBC,KAAM,WAEPlD,EAAK2B,MAAMwB,oBAAoBnD,KAGjC1C,KAAKS,OAAOqF,qBACV,gCAAiC,CAC/BC,UAAW,SAACC,GACV,OAAOA,EAAKC,IAAI,SAACC,GAEf,MAAc,qBADAA,EAAK3F,MAAM4F,cAEhB,CACL5F,MAAO,mBACPkD,OAAQ,WACNvC,IAAQC,YAAYuB,EAAKjC,QACzBiC,EAAKjC,OAAOW,cAIX8E,OAKfE,QAAQC,IAAI,0CAEL,mCAgBP,OAPAD,QAAQC,IAAI,2CAEZ9B,OAAO+B,oBACL,SAAUtG,KAAKmE,cAEjBoC,IAAArG,IAAAgE,EAAAsC,WAAA,SAAAxG,MAAAG,KAAAH,OAEO,8CASPA,KAAK8C,QAAQ2D,OAAOC,MAAK,8CASzB1G,KAAKS,OAAOkG,aAAarD,+JASCpC,IAAQ0F,aAChC5G,KAAKS,OAAOoG,cADd7G,KAAK8G,oBAaL9G,KAAK+G,kBAAmB,aAAanB,KACnC,SAACjB,GAECqC,EAAK3C,MAAMI,SAAS,CAClBwC,gBAAiBD,EAAK1G,OACtBqE,sBAKN3E,KAAK+G,kBAAmB,mBAAmBnB,KACzC,SAAChB,GAECoC,EAAK3C,MAAMI,SAAS,CAClByC,sBAAuBF,EAAK1G,OAC5BsE,4BASN5E,KAAK+G,kBAAmB,cAAcnB,KAClC,SAACf,GAECmC,EAAK3C,MAAMI,SAAS,CAClB0C,iBAAkBH,EAAK1G,OACvBuE,uBAKR7E,KAAK+G,kBAAmB,gBAAgBnB,KACtC,SAACd,GAECkC,EAAK3C,MAAMI,SAAS,CAClB2C,mBAAoBJ,EAAK1G,OACzBwE,yBAKN9E,KAAK+G,kBAAmB,cAAcnB,KACpC,SAACb,GAECiC,EAAK3C,MAAMI,SAAS,CAClB4C,4BAA6BL,EAAK1G,OAClCyE,kCAKN/E,KAAK+G,kBAAmB,iBAAiBnB,KACvC,SAACZ,GAECgC,EAAK3C,MAAMI,SAAS,CAClB6C,yBAA0BN,EAAK1G,OAC/B0E,+BAKNhF,KAAK+G,kBAAmB,oBAAoBnB,KAC1C,SAACX,GAEC+B,EAAK3C,MAAMI,SAAS,CAClB8C,mBAAoBP,EAAK1G,OACzB2E,yBAKNjF,KAAK+G,kBAAmB,gBAAgBnB,KACtC,SAACV,GAEC8B,EAAK3C,MAAMI,SAAS,CAClB+C,cAAeR,EAAK1G,OACpB4E,oBASNlF,KAAK+G,kBAAmB,qBAAqBnB,KAC3C,SAACT,GAEC6B,EAAK3C,MAAMI,SAAS,CAClBgD,qBAAsBT,EAAK1G,OAC3B6E,2BAKNnF,KAAK+G,kBAAmB,kBAAkBnB,KACxC,SAACR,GAEC4B,EAAK3C,MAAMI,SAAS,CAClBiD,kBAAmBV,EAAK1G,OACxB8E,wBASNpF,KAAK+G,kBAAmB,0BAA0BnB,KAChD,SAACP,GAEC2B,EAAK3C,MAAMI,SAAS,CAClBkD,oBAAqBX,EAAK1G,OAC1B+E,0BAKNrF,KAAK+G,kBAAmB,sBAAsBnB,KAC5C,SAACN,GAEC0B,EAAK3C,MAAMI,SAAS,CAClBmD,sBAAuBZ,EAAK1G,OAC5BgF,4BASNtF,KAAK+G,kBAAmB,cAAcnB,KACpC,SAACL,GAECyB,EAAK3C,MAAMI,SAAS,CAClBoD,iBAAkBb,EAAK1G,OACvBiF,uBAKNvF,KAAK+G,kBAAmB,iBAAiBnB,KACvC,SAACJ,GAECwB,EAAK3C,MAAMI,SAAS,CAClBqD,iBAAkBd,EAAK1G,OACvBkF,uBASNxF,KAAK+G,kBAAmB,cAAcnB,KACpC,SAACH,GAECuB,EAAK3C,MAAMI,SAAS,CAClBsD,uBAAwBf,EAAK1G,OAC7BmF,6BASNzF,KAAK+G,kBAAmB,cAAcnB,KACpC,SAACF,GAECsB,EAAK3C,MAAMI,SAAS,CAClBuD,qBAAsBhB,EAAK1G,OAC3BoF,2BASN1F,KAAK+G,kBAAmB,iBAAiBnB,KACvC,SAACD,GAECqB,EAAK3C,MAAMI,SAAS,CAClBwD,uBAAwBjB,EAAK1G,OAC7BqF,6BAIN3F,KAAKqE,MAAMI,SAAS,CAClBC,YAAY,qIAQAwD,GAEd,IAAMC,EAAMC,SAASF,EAAOG,QAAQ,IAAI,IAAK,IAEvChI,EAAQ,CACZiI,QAASC,MAAMC,YACfC,KAAMzI,KAAKM,OACXoI,SAAUP,EACVQ,UAAW,EACXC,SAAU,EACVC,QAAS,EACTC,MAAOX,GAGHY,EAAW,IAAIR,MAAMS,kBAAkB3I,GAK7C,OAHAL,KAAKS,OAAOwI,KAAKC,SAASC,YACxB9I,EAAMoI,KAAMM,GAAU,GAEjBA,mCASC9C,EAAKmD,EAAOC,EAAYC,GAEhC,OAAOC,IAAWtD,EAAK,SAACuD,EAAQC,EAAOC,GAElB,IAAfD,EAAME,OAAeN,EAAaC,EAEpCE,EAAOJ,IAAUI,EAAOJ,IAAU,IAAIlH,OAAOuH,GAI7CD,EAAOE,GAAOD,gEASKG,0GAEG1I,IAAQ2I,oBAChC7J,KAAKS,OAAOoG,MAAO+C,EACnB5J,KAAK8G,qBAEP,IAAW4C,KAJPI,WAMGJ,EAAIC,QAAUD,EAAIK,QAAQ,MAAQ,WAE9BD,EAAcJ,UAIrBM,EAAahK,KAAKiK,SAASH,EAAe,QAC5C9J,KAAK8G,aAAa6C,OAAQ,GAExBO,EAAOC,OAAOD,KAAMF,GAEpBI,EAASC,IAAGC,MAAMC,SACnBC,OAAO,CAAC,EAAiB,IAAdN,EAAKP,OAA4B,IAAdO,EAAKP,OAAcO,EAAKP,SACtDc,MAAM,CAAC,UAAW,UAAW,UAAW,YAErCjK,EAAO0J,EAAKjE,IAAI,SAACyD,EAAKlH,GAE1B,IAAIvB,EAAQ+I,EAAWN,GAEnBZ,EAAQsB,EAAO5H,GAEbkI,EAAU,IAAMzJ,EAAM0I,OAASgB,EAAK7D,aAAa6C,OAEvD,MAAO,CACLiB,MAAK,GAAA1I,OAAKwH,EAAL,MAAAxH,OAAawI,EAAQvI,QAAQ,GAA7B,OAAAD,OAAqCjB,EAAM0I,OAA3C,KACLZ,SAAU4B,EAAKE,eAAe/B,GAC9BW,MAAOxI,EAAM0I,OACbmB,WAAYpB,EACZgB,UACAzJ,QACA6H,QACAtG,6BAIGhC,oIASPR,KAAKqE,MAAMI,SAAS,CAGlBwC,gBAAiBjH,KAAKM,OACtB4G,sBAAuBlH,KAAKM,OAG5B6G,iBAAkBnH,KAAKM,OACvB8G,mBAAoBpH,KAAKM,OACzB+G,4BAA6BrH,KAAKM,OAClCgH,yBAA0BtH,KAAKM,OAC/BiH,mBAAoBvH,KAAKM,OACzBkH,cAAexH,KAAKM,OAGpBmH,qBAAsBzH,KAAKM,OAC3BoH,kBAAmB1H,KAAKM,OAGxBqH,oBAAqB3H,KAAKM,OAC1BsH,sBAAuB5H,KAAKM,OAG5BuH,iBAAkB7H,KAAKM,OACvBwH,iBAAkB9H,KAAKM,OAGvByH,uBAAwB/H,KAAKM,OAG7B0H,qBAAsBhI,KAAKM,OAG3B2H,uBAAwBjI,KAAKM,0CAU/B,IAAMyK,EAAQ/K,KAAKqE,MAAM2G,WAEnBxJ,EAAQuJ,EAAMrG,WAAa,CAC7BuG,SAAU,SACVC,OAAQ,QACP,GAEL,OACExK,EAAAC,EAAAC,cAAA,OAAKC,UAAWb,KAAKa,UAAWW,MAAOA,GAErCd,EAAAC,EAAAC,cAACuK,EAAA,EAAD,CAAQzE,KAAMqE,EAAMrG,aAEpBhE,EAAAC,EAAAC,cAACwK,EAAA,EAAD,CAAiB7K,MAAM,WACrBG,EAAAC,EAAAC,cAACyK,EAAD,CAAkB9K,MAAM,OACtBiB,MAAO,CAAC8J,MAAM,OAAQlI,MAAO,OAC7B9C,KAAMyK,EAAM9D,gBACZzG,KAAMuK,EAAMpG,gBACZlE,OAAQT,KAAKS,SAEfC,EAAAC,EAAAC,cAACyK,EAAD,CAAkB9K,MAAM,aACtBiB,MAAO,CAAC8J,MAAM,OAAQlI,MAAO,OAC7B9C,KAAMyK,EAAM7D,sBACZ1G,KAAMuK,EAAMnG,sBACZnE,OAAQT,KAAKS,UAIjBC,EAAAC,EAAAC,cAACwK,EAAA,EAAD,CAAiB7K,MAAM,UACrBG,EAAAC,EAAAC,cAACyK,EAAD,CAAkB9K,MAAM,SACtBiB,MAAO,CAAC8J,MAAM,OAAQlI,MAAO,OAC7B9C,KAAMyK,EAAM5D,iBACZ3G,KAAMuK,EAAMlG,iBACZpE,OAAQT,KAAKS,SAEfC,EAAAC,EAAAC,cAACyK,EAAD,CAAkB9K,MAAM,WACtBiB,MAAO,CAAC8J,MAAM,OAAQlI,MAAO,OAC7B9C,KAAMyK,EAAM3D,mBACZ5G,KAAMuK,EAAMjG,mBACZrE,OAAQT,KAAKS,SAEfC,EAAAC,EAAAC,cAACyK,EAAD,CAAkB9K,MAAM,qBACtBiB,MAAO,CAAC8J,MAAM,OAAQlI,MAAO,OAC7B9C,KAAMyK,EAAM1D,4BACZ7G,KAAMuK,EAAMhG,4BACZtE,OAAQT,KAAKS,SAEfC,EAAAC,EAAAC,cAACyK,EAAD,CAAkB9K,MAAM,kBACtBiB,MAAO,CAAC8J,MAAM,OAAQlI,MAAO,OAC7B9C,KAAMyK,EAAMzD,yBACZ9G,KAAMuK,EAAM/F,yBACZvE,OAAQT,KAAKS,SAEfC,EAAAC,EAAAC,cAACyK,EAAD,CAAkB9K,MAAM,WACtBiB,MAAO,CAAC8J,MAAM,OAAQlI,MAAO,OAC7B9C,KAAMyK,EAAMxD,mBACZ/G,KAAMuK,EAAM9F,mBACZxE,OAAQT,KAAKS,SAEfC,EAAAC,EAAAC,cAAC2K,EAAD,CAAchL,MAAM,MAClBiB,MAAO,CACL4B,MAAO,kBACPoI,SAAU,WACVF,MAAM,OACNG,KAAK,SAEPnL,KAAMyK,EAAMvD,cACZhH,KAAMuK,EAAM7F,cACZzE,OAAQT,KAAKS,UAIjBC,EAAAC,EAAAC,cAACwK,EAAA,EAAD,CAAiB7K,MAAM,cACrBG,EAAAC,EAAAC,cAACyK,EAAD,CAAkB9K,MAAM,SACtBiB,MAAO,CAAC8J,MAAM,OAAQlI,MAAO,OAC7B9C,KAAMyK,EAAMtD,qBACZjH,KAAMuK,EAAM5F,qBACZ1E,OAAQT,KAAKS,SAEfC,EAAAC,EAAAC,cAAC2K,EAAD,CAAchL,MAAM,MAClBiB,MAAO,CACL4B,MAAO,kBACPoI,SAAU,WACVF,MAAM,OACNG,KAAK,SAEPnL,KAAMyK,EAAMrD,kBACZlH,KAAMuK,EAAM3F,kBACZ3E,OAAQT,KAAKS,UAIjBC,EAAAC,EAAAC,cAACwK,EAAA,EAAD,CAAiB7K,MAAM,aACrBG,EAAAC,EAAAC,cAACyK,EAAD,CAAkB9K,MAAM,SACtBiB,MAAO,CAAC8J,MAAM,OAAQlI,MAAO,OAC7B9C,KAAMyK,EAAMpD,oBACZnH,KAAMuK,EAAM1F,oBACZ5E,OAAQT,KAAKS,SAEfC,EAAAC,EAAAC,cAACyK,EAAD,CAAkB9K,MAAM,WACtBiB,MAAO,CAAC8J,MAAM,OAAQlI,MAAO,OAC7B9C,KAAMyK,EAAMnD,sBACZpH,KAAMuK,EAAMzF,sBACZ7E,OAAQT,KAAKS,UAIjBC,EAAAC,EAAAC,cAACwK,EAAA,EAAD,CAAiB7K,MAAM,aACrBG,EAAAC,EAAAC,cAAC2K,EAAD,CAAchL,MAAM,MAClBiB,MAAO,CACL4B,MAAO,oBACPoI,SAAU,WACVF,MAAM,OACNG,KAAK,QAEPnL,KAAMyK,EAAMlD,iBACZrH,KAAMuK,EAAMxF,iBACZ9E,OAAQT,KAAKS,SAEfC,EAAAC,EAAAC,cAAC8K,EAAD,CAAkBnL,MAAM,MACtBiB,MAAO,CAAC8J,MAAM,OAAQlI,MAAO,QAC7B9C,KAAMyK,EAAMjD,iBACZtH,KAAMuK,EAAMvF,iBACZ/E,OAAQT,KAAKS,UAIjBC,EAAAC,EAAAC,cAACwK,EAAA,EAAD,CAAiB7K,MAAM,kBACrBiB,MAAO,CACL8J,MAAM,OACNlI,MAAO,QAET1C,EAAAC,EAAAC,cAACyK,EAAD,CAAkB9K,MAAM,MACtBD,KAAMyK,EAAMhD,uBACZvH,KAAMuK,EAAMtF,uBACZhF,OAAQT,KAAKS,UAIjBC,EAAAC,EAAAC,cAACwK,EAAA,EAAD,CAAiB7K,MAAM,aACrBiB,MAAO,CACL8J,MAAM,OACNlI,MAAO,QAET1C,EAAAC,EAAAC,cAACyK,EAAD,CAAkB9K,MAAM,SACtBD,KAAMyK,EAAM/C,qBACZxH,KAAMuK,EAAMrF,qBACZjF,OAAQT,KAAKS,UAIjBC,EAAAC,EAAAC,cAACwK,EAAA,EAAD,CAAiB7K,MAAM,YACrBG,EAAAC,EAAAC,cAAC2K,EAAD,CAAchL,MAAM,aAClBiB,MAAO,CACL4B,MAAO,oBACPoI,SAAU,WACVF,MAAM,OACNG,KAAM,QAERnL,KAAMyK,EAAM9C,uBACZzH,KAAMuK,EAAMpF,uBACZlF,OAAQT,KAAKS,6CA1oBrB,MAAO,sDASP,MAAO,wCAhCyBkL,KAwqBpCC,SAASC,QAAQC,oBAAoBC,kBACnC7H,EAAsB8H,YACtB9H,GCzsBa+H,EAAA,2ECFf,IAAAC,EAAA1M,EAAA,KAEemM,MAAf,wMCAqBA,cAOnB,SAAAA,EAAalL,GAA2C,IAAAqB,EAAnCgB,EAAmCqJ,UAAAxC,OAAA,QAAAyC,IAAAD,UAAA,GAAAA,UAAA,GAAzB,GAAIE,EAAqBF,UAAAxC,OAAA,QAAAyC,IAAAD,UAAA,GAAAA,UAAA,GAAJ,GAAIG,IAAAtM,KAAA2L,GAEtD7J,EAAAyK,IAAAvM,KAAAwM,IAAAb,GAAAxL,KAAAH,KAAOS,IAEP0J,OAAOsC,OAAPC,IAAA5K,GAAoBgB,EAAQ6J,gBAE5B7K,EAAK8K,qBAAuB9K,EAAK8K,qBAAqBvK,KAA1BqK,IAAA5K,IAC5BA,EAAK+K,oBAAuB/K,EAAK+K,oBAAoBxK,KAAzBqK,IAAA5K,IAC5BA,EAAKgL,kBAAuBhL,EAAKgL,kBAAkBzK,KAAvBqK,IAAA5K,IAC5BA,EAAKiL,kBAAuBjL,EAAKiL,kBAAkB1K,KAAvBqK,IAAA5K,IAC5BA,EAAKkL,iBAAuBlL,EAAKkL,iBAAiB3K,KAAtBqK,IAAA5K,IAC5BA,EAAKmL,iBAAuBnL,EAAKmL,iBAAiB5K,KAAtBqK,IAAA5K,IAC5BA,EAAKoL,iBAAuBpL,EAAKoL,iBAAiB7K,KAAtBqK,IAAA5K,IAC5BA,EAAKqL,iBAAuBrL,EAAKqL,iBAAiB9K,KAAtBqK,IAAA5K,IAC5BA,EAAKsL,gBAAuBtL,EAAKsL,gBAAgB/K,KAArBqK,IAAA5K,IAC5BA,EAAKuL,YAAuBvL,EAAKuL,YAAYhL,KAAjBqK,IAAA5K,IAE5BA,EAAKwL,oBAAuBxL,EAAKwL,oBAAoBjL,KAAzBqK,IAAA5K,IAC5BA,EAAKyL,mBAAuBzL,EAAKyL,mBAAmBlL,KAAxBqK,IAAA5K,IAC5BA,EAAK0L,kBAAuB1L,EAAK0L,kBAAkBnL,KAAvBqK,IAAA5K,IAC5BA,EAAK2L,gBAAuB3L,EAAK2L,gBAAgBpL,KAArBqK,IAAA5K,IAE5BA,EAAKuK,eAAiBA,EAEtBvK,EAAKgB,QAAUqH,OAAOsC,OAAO,GAC3BJ,EACAvJ,GAEFhB,EAAKrB,OAASA,EAId,IAAMiN,EAASjN,EAAOwI,KAAK0E,aAAaC,YAhCc,OAkCtD9L,EAAK4L,OAASA,EAAOzH,IAAI,SAACY,GAIxB,OAFAA,EAAMvG,KAAOuG,EAAMvG,MAAQwB,EAAKxB,OAEzBuG,IAGT/E,EAAK+L,mBAzCiD/L,sDA2DtD,OAAO,mCAOC,IAAAY,EAAA1C,KAsBR,OApBAA,KAAK8N,aAAaC,QAAQ,SAACC,GAEzBtL,EAAKjC,OAAO6F,oBACV0H,EAAMC,GAAIvL,EAAKsL,EAAME,YAGrBlO,KAAKmO,YAEPnO,KAAKmO,UAAUC,IAAI,kBACjBpO,KAAKuN,oBAEPvN,KAAKmO,UAAUC,IAAI,iBACjBpO,KAAKwN,mBAEPxN,KAAKmO,UAAUC,IAAI,eACjBpO,KAAKyN,kBAGTzN,KAAKoO,OAEE,mCAQa,IAAdtL,EAAcqJ,UAAAxC,OAAA,QAAAyC,IAAAD,UAAA,GAAAA,UAAA,GAAJ,GAOhB,OALAnM,KAAK8C,QAAUqH,OAAOsC,OAAO,GAC3BzM,KAAKqM,eACLrM,KAAK8C,QACLA,IAEK,4CAOUkL,6CAWDA,6CAUAA,gDAYGA,GAAO,IAAAhH,EAAAhH,KAE1BA,KAAKqO,YAAY,CAEfzC,SAASC,QAAQyC,0BACjB1C,SAASC,QAAQ0C,wBAEhB3I,KAAK,SAAC4I,GAEPxH,EAAK4F,qBAAsB4B,EAAK,gDAIjBR,gDAYEA,6CASHA,iDAUIA,6CASJA,4CAUDA,wCASJA,4CASIA,GAEfhO,KAAK0N,OAAL,GAAAxL,OAAAuM,IAAkBzO,KAAK0N,QAAvB,CAA+BM,EAAMnH,QAErC7G,KAAKmN,iBAAkBa,8CAGLA,GAElBhO,KAAKgN,iBAAkBgB,6CAGNA,GAEjBhO,KAAK0N,OAAS1N,KAAK0N,OAAOgB,OAAO,SAAC7H,GAEhC,OAAOA,EAAMvG,OAAS0N,EAAMnH,MAAMvG,OAGpCN,KAAKoN,gBAAgBY,8CASH,IAAArD,EAAA3K,KAEdA,KAAK8C,QAAQqL,YAGfnO,KAAKmO,UAAYnO,KAAK8C,QAAQqL,UAE9BnO,KAAKmO,UAAUQ,GAAG,eAChB3O,KAAKyN,iBAEPzN,KAAKmO,UAAUQ,GAAG,kBAChB3O,KAAKuN,oBAEPvN,KAAKmO,UAAUQ,GAAG,iBAChB3O,KAAKwN,oBAGTxN,KAAK8N,aAAe,CAClB,CACEG,GAAIrC,SAASC,QAAQ+C,uBACrBV,QAAS,qBAEX,CACED,GAAIrC,SAASC,QAAQyC,0BACrBJ,QAAS,uBAEX,CACED,GAAIrC,SAASC,QAAQgD,wBACrBX,QAAS,uBAEX,CACED,GAAIrC,SAASC,QAAQgD,wBACrBX,QAAS,qBAEX,CACED,GAAIrC,SAASC,QAAQ0C,sBACrBL,QAAS,oBAEX,CACED,GAAIrC,SAASC,QAAQiD,sBACrBZ,QAAS,oBAEX,CACED,GAAIrC,SAASC,QAAQkD,kCACrBb,QAAS,gBAIblO,KAAK8N,aAAaC,QAAQ,SAACC,GAEzBrD,EAAK0D,YAAYL,EAAMC,GAAItD,EAAKqD,EAAME,gDAQ7Bc,EAASd,GAAS,IAAAe,EAAAjP,KAE7B,IAAIkO,EAAJ,CAMA,IAGMgB,GAHeC,MAAMC,QAAQJ,GAC/BA,EAAU,CAACA,IAEiB/I,IAAI,SAACgI,GACnC,OAAO,IAAIoB,EAAS,SAACC,GAKnBL,EAAKxO,OAAO+D,iBAAkByJ,EAJZ,SAAZsB,EAAaf,GACjBS,EAAKxO,OAAO6F,oBAAqB2H,EAAIsB,GACrCD,EAASd,SAMf,OAAOa,EAAQG,IAAKN,GAjBlBlP,KAAKS,OAAO+D,iBAAkBwK,EAASd,yCAxQzC,MAAO,0DAxDTuB,EAAcC,SAAU9D,SAASC,QAAQ8D,uOCErCvE,gJA0BF,OAAKpL,KAAKK,MAAMuP,UAKZ5P,KAAKK,MAAMwP,YAEN7P,KAAKK,MAAMwP,cAIlBnP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACbH,EAAAC,EAAAC,cAAA,aACIZ,KAAKK,MAAME,QAXVG,EAAAC,EAAAC,cAAA,qDAqBM,IAAAkB,EAAA9B,KAEf,OAAIA,KAAKK,MAAMyP,WAENzO,IAAM0O,SAAS9J,IAAIjG,KAAKK,MAAM2P,SAAU,SAACC,GAE9C,IAAMC,EAAW/F,OAAOsC,OAAO,GAC7BwD,EAAM5P,MAAO,CACXyP,WAAYhO,EAAKzB,MAAMyP,aAG3B,OAAOzO,IAAM8O,aAAaF,EAAOC,KAI9BlQ,KAAKK,MAAM2P,0CASlB,IAAMI,EAAU,CACd,oBADclO,OAAAmO,IAEXrQ,KAAKK,MAAMQ,UAAUyP,MAAM,OAG1BpF,EAASlL,KAAKK,MAAMuP,UACtB,oBACA,OAEJ,OACElP,EAAAC,EAAAC,cAAA,OAAKC,UAAWuP,EAAWG,KAAK,KAAM/O,MAAOxB,KAAKK,MAAMmB,OACnDxB,KAAK6P,cACRnP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UAAUW,MAAO,CAAC0J,WAC9BlL,KAAKwQ,0BAtFcnP,IAAMC,eAA9B8J,cAMe,CACjBvK,UAAW4P,IAAUC,OACrBd,UAAWa,IAAUE,WARnBvF,iBAekB,CACpBwE,WAAW,EACX/O,UAAW,KA4EAuK,QChGAA,2BCCf,IAAA7L,EAAcC,EAAQ,KACtB,iBAAAD,MAAA,EAA4CE,EAAAC,EAASH,EAAA,MAExCC,EAAQ,GAARA,CAA6DD,EAAA,IAC1EA,EAAAI,SAAAF,EAAAG,QAAAL,EAAAI,8BCPAF,EAAAG,QAA2BJ,EAAQ,GAARA,EAAiE,IAE5FK,KAAA,CAAcJ,EAAAC,EAAS,wpBAAspB,uCCF7qB,IAAAkR,EAAApR,EAAA,KAEesB,MAAf,gLCOMA,cAMJ,SAAAA,EAAaT,GAAO,OAAAwQ,IAAA7Q,KAAAc,GAAAgQ,IAAA9Q,KAAA+Q,IAAAjQ,GAAAX,KAAAH,KAEXK,qEASPL,KAAKgR,KAAKhR,KAAKK,MAAMG,oDAOAyQ,GAErB,OAAIA,EAAU3Q,OAASN,KAAKK,MAAMC,kDAclC4Q,EAAElR,KAAKmR,WAAWC,QAElBpR,KAAKgR,KAAKhR,KAAKK,MAAMG,mCAOjBA,GAAM,IAAAsB,EAAA9B,KAEV,GAAKQ,GAASA,EAAKmJ,OAAnB,CAKA,IAAMwH,EAAYnR,KAAKmR,UAEjBE,EACI,GADJA,EAEG,GAFHA,EAGE,GAHFA,EAIC,GAGHjO,EAAQkO,KAAKC,IACfD,KAAKE,IAAIN,EAAEC,GAAW/N,QAAU,GAC9B,GAAK5C,EAAKmJ,QACZ,IAAMnJ,EAAKmJ,QAAU,GAEnBuB,EAASgG,EAAEC,GAAWjG,SAAW,GAEjCuG,EAAIpH,IAAGC,MAAMoH,UAAUC,gBAAgB,CAAC,EAAGvO,GAAQ,IAEnDwO,EAAIvH,IAAGC,MAAMC,SACdE,MAAM,CAACS,EAAQ,IAEd2G,EAAQxH,IAAGyH,IAAIC,OAChBzH,MAAMmH,GACNO,OAAO,UAENC,EAAQ5H,IAAGyH,IAAIC,OAChBzH,MAAMsH,GACNI,OAAO,QACPE,MAAM,GAAI,KAITJ,EAFczH,IAAG8H,OAAOhB,GAENiB,OAAO,OAC1BC,KAAK,QAASjP,EAAQiO,EAAcA,GACpCgB,KAAK,SAAUnH,EAASmG,EAAaA,GACrCe,OAAO,KACPC,KAAK,YAJE,aAAAnQ,OAIwBmP,EAJxB,MAAAnP,OAIwCmP,EAJxC,MAMVI,EAAEjH,OAAOhK,EAAKyF,IAAI,SAASqM,GAAK,OAAOA,EAAExH,cAEzC8G,EAAEpH,OAAO,CAAC,EAAGH,IAAGmH,IAAIhR,EAAM,SAAS8R,GACjC,OAAOA,EAAE7I,MAAQ,QAGnBqI,EAAIM,OAAO,KACRC,KAAK,QAAS,UACdA,KAAK,YAFR,gBAAAnQ,OAEqCgJ,EAFrC,MAGG/K,KAAK0R,GACLU,UAAU,QACV/Q,MAAM,cAAe,OACrB6Q,KAAK,KAAM,SACXA,KAAK,KAAM,SACXA,KAAK,YAAa,SAASC,GAC1B,MAAO,gBAGXR,EAAIM,OAAO,KACRC,KAAK,QAAS,UACdlS,KAAK8R,GACLG,OAAO,QACPC,KAAK,YAAa,sBAClBA,KAAK,IAAK,GACVA,KAAK,KAAM,SACX7Q,MAAM,cAAe,OACrBgR,KAAK,wBAER,IAAIC,EAAUpI,IAAG8H,OAAOnS,KAAKmR,WAC1BiB,OAAO,OACP5Q,MAAM,aAAa,WACnBA,MAAM,WAAW,YACjBA,MAAM,gBAAgB,OACtBA,MAAM,UAAU,UAChBA,MAAM,UAAW,QACjBA,MAAM,SAAU,QAChBA,MAAM,UAAW,IAEhBkR,EAAY,KAEhBZ,EAAIS,UAAU,aACX/R,KAAKA,GACLmS,QAAQP,OAAO,QACfC,KAAK,QAAS,YACdA,KAAK,IAAK,SAASC,GAClB,OAAOb,EAAEa,EAAExH,cAEZuH,KAAK,QAASZ,EAAEmB,aAChBP,KAAK,IAAK,SAASC,GAClB,OAAOV,EAAEU,EAAE7I,MAAQ,OAEpB4I,KAAK,SAAU,SAASC,GACvB,OAAOpH,EAAS0G,EAAEU,EAAE7I,MAAQ,OAE7BjI,MAAM,OAAO,SAAS8Q,EAAG5S,GACxB,OAAOc,EAAKd,GAAGoJ,QAEhB6F,GAAG,QAAS,SAACzI,GACRpE,EAAKzB,MAAMU,gBACbe,EAAKzB,MAAMU,eAAgBmF,KAG9ByI,GAAG,YAAa,SAAStO,GAExBoS,EAAQI,aACLrR,MAAM,UAAW,IAEpB,IAAIsR,EAAS5B,EAAEC,GAAW2B,SAEtBrB,EAAIpH,IAAG2D,MAAM+E,MAAQD,EAAOrH,KAC5BmG,EAAIvH,IAAG2D,MAAMgF,MAAQF,EAAOG,IAEhCR,EAAQS,KAAK7S,EAAMuK,OAChBpJ,MAAM,OAAQiQ,EAAI,EAAI,MACtBjQ,MAAM,MAAOoQ,EAAI,GAAK,MACtBpQ,MAAM,UAAW,SAEpBkR,EAAY1S,KAAKwB,MAAM2R,KAEvB9I,IAAG8H,OAAOnS,MACPwB,MAAM,OAAO,WACbA,MAAM,UAAU,MAEpBmN,GAAG,YAAa,SAAS3N,GAExB,IAAI8R,EAAS5B,EAAEC,GAAW2B,SAEtBrB,EAAIpH,IAAG2D,MAAM+E,MAAQD,EAAOrH,KAC5BmG,EAAIvH,IAAG2D,MAAMgF,MAAQF,EAAOG,IAEhCR,EAAQjR,MAAM,OAAQiQ,EAAI,EAAI,MAC3BjQ,MAAM,MAAOoQ,EAAI,GAAK,MACtBpQ,MAAM,UAAW,SAEpB6I,IAAG8H,OAAOnS,MACPwB,MAAM,OAAO,WACbA,MAAM,UAAW,MAErBmN,GAAG,WAAY,SAAS2D,GAEvBjI,IAAG8H,OAAOnS,MACPwB,MAAM,OAAOkR,GACblR,MAAM,UAAW,GAEpBiR,EAAQjR,MAAM,UAAW,4CAQrB,IAAAkB,EAAA1C,KAER,OACEoT,EAAAzS,EAAAC,cAAA,OAAKC,UAAU,YACbwS,IAAM,SAACC,GAAD,OAAS5Q,EAAKyO,UAAYmC,YAlNjBjS,IAAMC,WAwNdR,8CC9Nf,IAAAvB,EAAcC,EAAQ,KACtB,iBAAAD,MAAA,EAA4CE,EAAAC,EAASH,EAAA,MAExCC,EAAQ,GAARA,CAA6DD,EAAA,IAC1EA,EAAAI,SAAAF,EAAAG,QAAAL,EAAAI,8BCPAF,EAAAG,QAA2BJ,EAAQ,GAARA,EAAiE,IAE5FK,KAAA,CAAcJ,EAAAC,EAAS,unBAAqnB,uCCF5oB,IAAA6T,EAAA/T,EAAA,KAEeiC,MAAf,uKCQMA,6BAMJ,SAAAA,EAAapB,GAAO,OAAAwQ,IAAA7Q,KAAAyB,GAAAqP,IAAA9Q,KAAA+Q,IAAAtP,GAAAtB,KAAAH,KAEXK,qEASPL,KAAKgR,KAAKhR,KAAKK,MAAMG,oDAOAyQ,GAErB,OAAIA,EAAUrP,WAAa5B,KAAKK,MAAMuB,sDActCsP,EAAElR,KAAKmR,WAAWC,QAElBpR,KAAKgR,KAAKhR,KAAKK,MAAMG,KAAM,CACzBgT,QAAS,CACPC,KAAM,CACJC,OAAQ,wCAUVlT,GAAgB,IAAAsB,EAAA9B,KAAV2T,EAAUxH,UAAAxC,OAAA,QAAAyC,IAAAD,UAAA,GAAAA,UAAA,GAAJ,GAEhB,GAAK3L,GAASA,EAAKmJ,OAAnB,CAKA,IAAMiK,EAAOtC,KAAKC,IAChBvR,KAAKmR,UAAU0C,aACf7T,KAAKmR,UAAU2C,aAEXhR,EAAWqH,OAAOsC,OAAO,GAAI,CAEjCmH,KAAM,CACJG,aAAcH,EACdI,YAAaJ,EACbK,eAAgB,MAChBC,eAAgB,OAGlB1T,KAAM,CACJjB,QAASiB,GAGX2T,SAAU,CACRC,SAAS,EACTC,KAAM,cACNC,kBAAmB,SAAC9R,EAAO+R,GACzBpK,OAAOsC,OAAO8H,EAAc,CAC1BC,KAAMhU,EAAKgC,GAAOgS,QAGtB9D,OAAQ,UACR+D,OAAQ,CACNC,YAAa,IACbC,gBAAiB,UACjBC,kBAAmB,IACnB9L,MAAO,MACP+L,aAAc,EACdC,KAAM,yBACNC,SAAU,GACVC,QAAS,EACTC,OAAQ,MAIZC,OAAQ,CACNC,MAAO,CACLC,OAAQ,OACRC,2BAA4B,EAC5BC,YAAa,IAEfC,MAAO,CACLF,2BAA4B,IAIhCG,UAAW,CACTC,eAAgB,SAACzH,GAEXlM,EAAKzB,MAAMqB,kBAEbI,EAAKzB,MAAMqB,iBACTsM,EAAMxN,KAAMwN,EAAMrM,YAK1B+T,KAAM,CACJC,SAAU,CACRvB,SAAS,EACTwB,WAAY,OAGfjC,GAEH3T,KAAK6V,IAAM,IAAIC,IAAM9V,KAAKmR,UAAWrO,GAErC9C,KAAK+V,+DAOa,IAAArT,EAAA1C,KAElBkR,EAAElR,KAAKmR,WAAW6E,KAAK,OAAOC,IAAI,CAChC1M,UAAS,uBACT0B,SAAU,YAGZiL,WAAW,WAEKhF,EAAExO,EAAKyO,WAAW6E,KAAlB,2BAGRC,IAAI,CACRE,eAAgB,OAEjB,sCAOK,IAAAnP,EAAAhH,KAER,OACEoT,EAAAzS,EAAAC,cAAA,OAAKC,UAAU,YAAYwS,IAAM,SAACC,GAC9BtM,EAAKmK,UAAYmC,YAtKJjS,IAAMC,YA6KdG,8CCpLf,IAAAlC,EAAcC,EAAQ,KACtB,iBAAAD,MAAA,EAA4CE,EAAAC,EAASH,EAAA,MAExCC,EAAQ,GAARA,CAA6DD,EAAA,IAC1EA,EAAAI,SAAAF,EAAAG,QAAAL,EAAAI,8BCPAF,EAAAG,QAA2BJ,EAAQ,GAARA,EAAiE,IAE5FK,KAAA,CAAcJ,EAAAC,EAAS,qYAAuY","file":"61.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../../node_modules/sass-loader/lib/loader.js!./Viewing.Extension.PlantFactory.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../../node_modules/sass-loader/lib/loader.js!./Viewing.Extension.PlantFactory.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../../node_modules/sass-loader/lib/loader.js!./Viewing.Extension.PlantFactory.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".property-bar-chart > .title, .property-pie-chart > .title {\\n  background-color: white !important;\\n  position: relative;\\n  margin-top: 10px;\\n  height: 25px; }\\n\\n.property-list > .title {\\n  background-color: white !important;\\n  position: relative;\\n  margin-top: 10px;\\n  height: 25px; }\\n\\n.property-bar-chart > .title > label, .property-pie-chart > .title > label {\\n  position: relative;\\n  z-index: 100;\\n  float: left;\\n  left: 20%; }\\n\\n.property-list > .title > label {\\n  position: relative;\\n  z-index: 100;\\n  float: left;\\n  left: 4%; }\\n\\n.property-bar-chart .bar-chart, .property-pie-chart .pie-chart {\\n  position: relative;\\n  height: 200px; }\\n\\n.property-list .table {\\n  margin-bottom: 0px; }\\n\\n.property-list .react-bs-container-body {\\n  height: calc(100% - 40px) !important;\\n  overflow: scroll; }\\n\\n.property-list-table {\\n  border-bottom: 1px solid #dddddd;\\n  border-top: 1px solid #dddddd;\\n  margin-bottom: 10px;\\n  overflow: hidden;\\n  height: 192px; }\\n\\n.property-list-table .react-bs-table-container {\\n  height: 100%; }\\n\\n.property-list-table .table-bordered {\\n  border: none; }\\n\\n.property-list-table td {\\n  text-align: left !important;\\n  cursor: pointer;\\n  outline: none; }\\n\\n.plant-factory .loader-background {\\n  z-index: 1000; }\\n\", \"\"]);\n","import Toolkit from 'Viewer.Toolkit'\nimport BarChart from 'BarChart'\nimport React from 'react'\n\nclass PropertyBarChart extends React.Component {\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  constructor () {\n\n    super ()\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  render () {\n\n    const { guid, title, data, viewer } = this.props\n\n    return (\n      <div className=\"property-bar-chart\">\n        <div className=\"title controls\">\n          <label>\n            { title }\n          </label>\n        </div>\n\n        <BarChart onGroupClicked={(e) => {\n\n            const dbIds = e.dbIds\n\n            Toolkit.isolateFull(\n              viewer, dbIds)\n\n            viewer.fitToView()\n          }}\n          guid={guid}\n          data={data}\n        />\n\n      </div>\n    )\n  }\n}\n\nexport default PropertyBarChart\n","import Toolkit from 'Viewer.Toolkit'\nimport PieChart from 'PieChart'\nimport React from 'react'\n\nclass PropertyPieChart extends React.Component {\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  constructor () {\n\n    super ()\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  render () {\n\n    const { guid, title, data, viewer, style } = this.props\n\n    return (\n      <div className=\"property-pie-chart\" style={style}>\n        <div className=\"title controls\">\n          <label>\n            { title }\n          </label>\n        </div>\n\n        <PieChart onSegmentClicked={(data, expanded) => {\n\n            const dbIds = expanded ? [] : data.dbIds\n\n            Toolkit.isolateFull(\n              viewer,\n              dbIds)\n\n            viewer.fitToView()\n          }}\n          dataGuid={guid}\n          data={data}\n        />\n\n      </div>\n    )\n  }\n}\n\nexport default PropertyPieChart\n","import { BootstrapTable, TableHeaderColumn } from 'react-bootstrap-table'\nimport Toolkit from 'Viewer.Toolkit'\nimport React from 'react'\n\nclass PropertyList extends React.Component {\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  constructor () {\n\n    super ()\n\n    this.percentFormatter = (cell, row) => {\n      return (\n        `${cell.toFixed(2)} %      `\n      )\n    }\n\n    this.onRowClick = this.onRowClick.bind(this)\n\n    this.lastClickedIndex = -1\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onRowClick (row, viewer) {\n\n    if (this.lastClickedIndex !== row.index) {\n\n      const dbIds = row.dbIds\n\n      Toolkit.isolateFull(viewer, dbIds)\n\n      viewer.fitToView()\n\n    } else {\n\n      Toolkit.isolateFull(viewer)\n\n      viewer.fitToView()\n    }\n\n    this.lastClickedIndex = row.index\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  render () {\n\n    const { title, data, viewer, style } = this.props\n\n    return (\n      <div className=\"property-list\" style={style}>\n        <div className=\"title controls\">\n          <label>\n            { title }\n          </label>\n        </div>\n\n        <div className=\"property-list-table\">\n          <BootstrapTable data={data} striped={true} hover={true}\n            options={{\n              onRowClick: (row) => this.onRowClick(row, viewer)\n              }}>\n            <TableHeaderColumn\n              headerAlign='left'\n              dataAlign='left'\n              dataField=\"shortLabel\"\n              isKey={true}\n              dataAlign=\"center\"\n              dataSort={true}>\n              Value\n            </TableHeaderColumn>\n            <TableHeaderColumn\n              width='120'\n              headerAlign='left'\n              dataAlign='left'\n              dataField=\"percent\"\n              dataFormat={this.percentFormatter}>\n              % Components\n            </TableHeaderColumn>\n          </BootstrapTable>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default PropertyList\n","/////////////////////////////////////////////////////////\n// Viewing.Extension.PlantFactory\n// by Philippe Leefsma, March 2017\n//\n/////////////////////////////////////////////////////////\nimport MultiModelExtensionBase from 'Viewer.MultiModelExtensionBase'\nimport './Viewing.Extension.PlantFactory.scss'\nimport WidgetContainer from 'WidgetContainer'\nimport {ReactLoader as Loader} from 'Loader'\nimport transform from 'lodash/transform'\nimport Toolkit from 'Viewer.Toolkit'\nimport React from 'react'\nimport d3 from 'd3'\n\nimport PropertyBarChart from './PropertyBarChart'\nimport PropertyPieChart from './PropertyPieChart'\nimport PropertyList from './PropertyList'\n\nconst stateInit = {\n  \"viewport\": {\n    \"eye\":[-1030.0044002713657,689.6647995313627,23.252165301460103],\n    \"target\":[-996.3266755707967,710.4723026870788,-1.3707349423499071],\n    \"up\":[0.4493194129425462,0.277608276267206,0.849144104437472],\n    \"worldUpVector\":[0,0,1],\n    \"pivotPoint\":[-925.7424926757812,757.1752319335938,-43.030099868774414],\n    \"distanceToOrbit\":140.45651469798588,\n    \"aspectRatio\":1.7655609631147542,\n    \"projection\":\"perspective\",\n    \"isOrthographic\":false,\n    \"fieldOfView\":48.981823953438095\n  }\n}\n\nclass PlantFactoryExtension extends MultiModelExtensionBase {\n\n  /////////////////////////////////////////////////////////\n  // Class constructor\n  //\n  /////////////////////////////////////////////////////////\n  constructor (viewer, options) {\n\n    super (viewer, options)\n\n    this.onStopResize = this.onStopResize.bind(this)\n\n    this.render = this.render.bind(this)\n\n    this.react = options.react\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  get className() {\n\n    return 'plant-factory'\n  }\n\n  /////////////////////////////////////////////////////////\n  // Extension Id\n  //\n  /////////////////////////////////////////////////////////\n  static get ExtensionId() {\n\n    return 'Viewing.Extension.PlantFactory'\n  }\n\n  /////////////////////////////////////////////////////////\n  // Load callback\n  //\n  /////////////////////////////////////////////////////////\n  load () {\n\n    this.viewer.setProgressiveRendering(true)\n\n    window.addEventListener(\n      'resize', this.onStopResize)\n\n    this.react.setState({\n\n      showLoader: true,\n\n      // Project\n      projectAreaData: [],\n      projectDisciplineData: [],\n\n      // Piping\n      pipingSystemData: [],\n      pipingPriorityData: [],\n      pipingFabricationStatusData: [],\n      pipingMaterialStatusData: [],\n      pipingProgressData: [],\n      pipingIWPData: [],\n\n      //Foundation\n      foundationStatusData: [],\n      foundationIWPData: [],\n\n      //Structure\n      structureStatusData: [],\n      structureProgressData: [],\n\n      //Equipment\n      equipmentTagData: [],\n      equipmentROSData: [],\n\n      //Instrumentation\n      instrumentationTagData: [],\n\n      //Electrical\n      electricalStatusData: [],\n\n      //Schedule\n      scheduleActivitiesData: []\n\n    }).then (() => {\n\n      this.react.pushRenderExtension(this)\n    })\n\n    this.viewer.loadDynamicExtension(\n      'Viewing.Extension.ContextMenu', {\n        buildMenu: (menu) => {\n          return menu.map((item) => {\n            const title = item.title.toLowerCase()\n            if (title === 'show all objects') {\n              return {\n                title: 'Show All objects',\n                target: () => {\n                  Toolkit.isolateFull(this.viewer)\n                  this.viewer.fitToView()\n                }\n              }\n            }\n            return item\n          })\n        }\n      })\n\n    console.log('Viewing.Extension.PlantFactory loaded')\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Unload callback\n  //\n  /////////////////////////////////////////////////////////\n  unload () {\n\n    console.log('Viewing.Extension.PlantFactory unloaded')\n\n    window.removeEventListener(\n      'resize', this.onStopResize)\n\n    super.unload()\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onModelRootLoaded () {\n\n    this.options.loader.show(false)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onToolbarCreated () {\n\n    this.viewer.restoreState(stateInit)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  async onModelCompletedLoad () {\n\n    this.componentIds = await Toolkit.getLeafNodes(\n      this.viewer.model)\n\n    //const chartProperties =\n    //  this.options.chartProperties ||\n    //  await Toolkit.getPropertyList(\n    //  this.viewer, this.componentIds)\n\n    ///////////////////////////////////////////////////\n    // Project\n    //\n    ///////////////////////////////////////////////////\n    //Area - USER Yara : Yara Area (Pie)\n    this.buildPropertyData ('Yara Area').then(\n      (projectAreaData) => {\n\n        this.react.setState({\n          projectAreaGuid: this.guid(),\n          projectAreaData\n        })\n      })\n\n    //Discipline - USER Yara : Yara Discipline (Pie)\n    this.buildPropertyData ('Yara Discipline').then(\n      (projectDisciplineData) => {\n\n        this.react.setState({\n          projectDisciplineGuid: this.guid(),\n          projectDisciplineData\n        })\n      })\n\n    ///////////////////////////////////////////////////\n    // piping\n    //\n    ///////////////////////////////////////////////////\n    //System - WP : SystemName (Pie)\n    this.buildPropertyData ('SystemName').then(\n        (pipingSystemData) => {\n\n          this.react.setState({\n            pipingSystemGuid: this.guid(),\n            pipingSystemData\n          })\n        })\n\n    //Priority - WP : ISO_Priority (Pie)\n    this.buildPropertyData ('ISO_Priority').then(\n      (pipingPriorityData) => {\n\n        this.react.setState({\n          pipingPriorityGuid: this.guid(),\n          pipingPriorityData\n        })\n      })\n\n    //Fabrication Status - WP : Fab Status (Pie)\n    this.buildPropertyData ('Fab Status').then(\n      (pipingFabricationStatusData) => {\n\n        this.react.setState({\n          pipingFabricationStatusGuid: this.guid(),\n          pipingFabricationStatusData\n        })\n      })\n\n    //Material Status - WP : PipeFieldMats (Pie)\n    this.buildPropertyData ('PipeFieldMats').then(\n      (pipingMaterialStatusData) => {\n\n        this.react.setState({\n          pipingMaterialStatusGuid: this.guid(),\n          pipingMaterialStatusData\n        })\n      })\n\n    //Progress - WP : Cobra_AG_Pipe_P3 (Pie)\n    this.buildPropertyData ('Cobra_AG_Pipe_P3').then(\n      (pipingProgressData) => {\n\n        this.react.setState({\n          pipingProgressGuid: this.guid(),\n          pipingProgressData\n        })\n      })\n\n    //IWP - WP : WorkPackName (List)\n    this.buildPropertyData ('WorkPackName').then(\n      (pipingIWPData) => {\n\n        this.react.setState({\n          pipingIWPGuid: this.guid(),\n          pipingIWPData\n        })\n      })\n\n    ///////////////////////////////////////////////////\n    // foundation\n    //\n    ///////////////////////////////////////////////////\n    //Status - WP : Foundation_Status (Pie)\n    this.buildPropertyData ('Foundation_Status').then(\n      (foundationStatusData) => {\n\n        this.react.setState({\n          foundationStatusGuid: this.guid(),\n          foundationStatusData\n        })\n      })\n\n    //IWP - WP : Foundation_IWP (List)\n    this.buildPropertyData ('Foundation_IWP').then(\n      (foundationIWPData) => {\n\n        this.react.setState({\n          foundationIWPGuid: this.guid(),\n          foundationIWPData\n        })\n      })\n\n    ///////////////////////////////////////////////////\n    // Structure\n    //\n    ///////////////////////////////////////////////////\n    //Status - WP : Cobra_Sequence_Percent (Pie)\n    this.buildPropertyData ('Cobra_Sequence_Percent').then(\n      (structureStatusData) => {\n\n        this.react.setState({\n          structureStatusGuid: this.guid(),\n          structureStatusData\n        })\n      })\n\n    //Progress - WP : Cobra_Sequence_ROC (Pie)\n    this.buildPropertyData ('Cobra_Sequence_ROC').then(\n      (structureProgressData) => {\n\n        this.react.setState({\n          structureProgressGuid: this.guid(),\n          structureProgressData\n        })\n      })\n\n    ///////////////////////////////////////////////////\n    // Equipment\n    //\n    ///////////////////////////////////////////////////\n    // Tag - WP : Tag Number (List)\n    this.buildPropertyData ('Tag Number').then(\n      (equipmentTagData) => {\n\n        this.react.setState({\n          equipmentTagGuid: this.guid(),\n          equipmentTagData\n        })\n      })\n\n    //ROS - WP : ActualReceipt (Line or Bar)\n    this.buildPropertyData ('ActualReceipt').then(\n      (equipmentROSData) => {\n\n        this.react.setState({\n          equipmentROSGuid: this.guid(),\n          equipmentROSData\n        })\n      })\n\n    ///////////////////////////////////////////////////\n    // Instrumentation\n    //\n    ///////////////////////////////////////////////////\n    //Tag - WP : TAG NUMBER (List)\n    this.buildPropertyData ('TAG NUMBER').then(\n      (instrumentationTagData) => {\n\n        this.react.setState({\n          instrumentationTagGuid: this.guid(),\n          instrumentationTagData\n        })\n      })\n\n    ///////////////////////////////////////////////////\n    // Electrical\n    //\n    ///////////////////////////////////////////////////\n    //Status - WP: Cobra_Tray (Pie)\n    this.buildPropertyData ('Cobra_Tray').then(\n      (electricalStatusData) => {\n\n        this.react.setState({\n          electricalStatusGuid: this.guid(),\n          electricalStatusData\n        })\n      })\n\n    ///////////////////////////////////////////////////\n    // Schedule\n    //\n    ///////////////////////////////////////////////////\n    //Activities - WP : Activity Name (List)\n    this.buildPropertyData ('Activity Name').then(\n      (scheduleActivitiesData) => {\n\n        this.react.setState({\n          scheduleActivitiesGuid: this.guid(),\n          scheduleActivitiesData\n        })\n      })\n\n    this.react.setState({\n      showLoader: false\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  createMaterial (clrStr) {\n\n    const clr = parseInt(clrStr.replace('#',''), 16)\n\n    const props = {\n      shading: THREE.FlatShading,\n      name: this.guid(),\n      specular: clr,\n      shininess: 0,\n      emissive: 0,\n      diffuse: 0,\n      color: clr\n    }\n\n    const material = new THREE.MeshPhongMaterial(props)\n\n    this.viewer.impl.matman().addMaterial(\n      props.name, material, true)\n\n    return material\n  }\n\n  /////////////////////////////////////////////////////////\n  // Group object map for small values:\n  // If one entry of the map is smaller than minPercent,\n  // this entry will be merged in the \"group\" entry\n  //\n  /////////////////////////////////////////////////////////\n  groupMap (map, group, totalValue, minPercent) {\n\n    return transform (map, (result, value, key) => {\n\n      if (value.length * 100 / totalValue < minPercent) {\n\n        result[group] = (result[group] || []).concat(value)\n\n      } else {\n\n        result[key] = value\n      }\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  async buildPropertyData (propName) {\n\n    var componentsMap = await Toolkit.mapComponentsByProp(\n      this.viewer.model, propName,\n      this.componentIds)\n\n    for (const key in componentsMap) {\n\n      if (!key.length || key.indexOf('<') > -1) {\n\n        delete componentsMap[key]\n      }\n    }\n\n    var groupedMap = this.groupMap(componentsMap, 'Other',\n      this.componentIds.length, 2.0)\n\n    var keys = Object.keys (groupedMap)\n\n    var colors = d3.scale.linear()\n      .domain([0, keys.length * .33, keys.length * .66, keys.length])\n      .range(['#FCB843', '#C2149F', '#0CC4BD', '#0270E9'])\n\n    const data = keys.map((key, index) => {\n\n      var dbIds = groupedMap[key]\n\n      var color = colors(index)\n\n      const percent = 100 * dbIds.length / this.componentIds.length\n\n      return {\n        label: `${key}: ${percent.toFixed(2)}% (${dbIds.length})`,\n        material: this.createMaterial(color),\n        value: dbIds.length,\n        shortLabel: key,\n        percent,\n        dbIds,\n        color,\n        index\n      }\n    })\n\n    return data\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onStopResize () {\n\n    this.react.setState({\n\n      //project\n      projectAreaGuid: this.guid(),\n      projectDisciplineGuid: this.guid(),\n\n      //piping\n      pipingSystemGuid: this.guid(),\n      pipingPriorityGuid: this.guid(),\n      pipingFabricationStatusGuid: this.guid(),\n      pipingMaterialStatusGuid: this.guid(),\n      pipingProgressGuid: this.guid(),\n      pipingIWPGuid: this.guid(),\n\n      //foundation\n      foundationStatusGuid: this.guid(),\n      foundationIWPGuid: this.guid(),\n\n      //Structure\n      structureStatusGuid: this.guid(),\n      structureProgressGuid: this.guid(),\n\n      //Equipment\n      equipmentTagGuid: this.guid(),\n      equipmentROSGuid: this.guid(),\n\n      //Instrumentation\n      instrumentationTagGuid: this.guid(),\n\n      //Electrical\n      electricalStatusGuid: this.guid(),\n\n      //Schedule\n      scheduleActivitiesGuid: this.guid()\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  render () {\n\n    const state = this.react.getState()\n\n    const style = state.showLoader ? {\n        overflow: 'hidden',\n        height: '100%'\n      }: {}\n\n    return (\n      <div className={this.className} style={style}>\n\n        <Loader show={state.showLoader}/>\n\n        <WidgetContainer title=\"Project\">\n          <PropertyPieChart title=\"Area\"\n            style={{float:\"left\", width: \"50%\"}}\n            guid={state.projectAreaGuid}\n            data={state.projectAreaData}\n            viewer={this.viewer}/>\n\n          <PropertyPieChart title=\"Discipline\"\n            style={{float:\"left\", width: \"50%\"}}\n            guid={state.projectDisciplineGuid}\n            data={state.projectDisciplineData}\n            viewer={this.viewer}/>\n        </WidgetContainer>\n\n\n        <WidgetContainer title=\"Piping\">\n          <PropertyPieChart title=\"System\"\n            style={{float:\"left\", width: \"50%\"}}\n            guid={state.pipingSystemGuid}\n            data={state.pipingSystemData}\n            viewer={this.viewer}/>\n\n          <PropertyPieChart title=\"Priority\"\n            style={{float:\"left\", width: \"50%\"}}\n            guid={state.pipingPriorityGuid}\n            data={state.pipingPriorityData}\n            viewer={this.viewer}/>\n\n          <PropertyPieChart title=\"Fabrication Status\"\n            style={{float:\"left\", width: \"50%\"}}\n            guid={state.pipingFabricationStatusGuid}\n            data={state.pipingFabricationStatusData}\n            viewer={this.viewer}/>\n\n          <PropertyPieChart title=\"Material Status\"\n            style={{float:\"left\", width: \"50%\"}}\n            guid={state.pipingMaterialStatusGuid}\n            data={state.pipingMaterialStatusData}\n            viewer={this.viewer}/>\n\n          <PropertyPieChart title=\"Progress\"\n            style={{float:\"left\", width: \"50%\"}}\n            guid={state.pipingProgressGuid}\n            data={state.pipingProgressData}\n            viewer={this.viewer}/>\n\n          <PropertyList title=\"IWP\"\n            style={{\n              width: \"calc(50% - 0px)\",\n              position: \"relative\",\n              float:\"left\",\n              left:\"-10px\"\n            }}\n            guid={state.pipingIWPGuid}\n            data={state.pipingIWPData}\n            viewer={this.viewer}/>\n        </WidgetContainer>\n\n\n        <WidgetContainer title=\"Foundation\">\n          <PropertyPieChart title=\"Status\"\n            style={{float:\"left\", width: \"50%\"}}\n            guid={state.foundationStatusGuid}\n            data={state.foundationStatusData}\n            viewer={this.viewer}/>\n\n          <PropertyList title=\"IWP\"\n            style={{\n              width: \"calc(50% - 0px)\",\n              position: \"relative\",\n              float:\"left\",\n              left:\"-10px\"\n            }}\n            guid={state.foundationIWPGuid}\n            data={state.foundationIWPData}\n            viewer={this.viewer}/>\n        </WidgetContainer>\n\n\n        <WidgetContainer title=\"Structure\">\n          <PropertyPieChart title=\"Status\"\n            style={{float:\"left\", width: \"50%\"}}\n            guid={state.structureStatusGuid}\n            data={state.structureStatusData}\n            viewer={this.viewer}/>\n\n          <PropertyPieChart title=\"Progress\"\n            style={{float:\"left\", width: \"50%\"}}\n            guid={state.structureProgressGuid}\n            data={state.structureProgressData}\n            viewer={this.viewer}/>\n        </WidgetContainer>\n\n\n        <WidgetContainer title=\"Equipment\">\n          <PropertyList title=\"Tag\"\n            style={{\n              width: \"calc(100% - 20px)\",\n              position: \"relative\",\n              float:\"left\",\n              left:\"10px\"\n            }}\n            guid={state.equipmentTagGuid}\n            data={state.equipmentTagData}\n            viewer={this.viewer}/>\n\n          <PropertyBarChart title=\"ROS\"\n            style={{float:\"left\", width: \"100%\"}}\n            guid={state.equipmentROSGuid}\n            data={state.equipmentROSData}\n            viewer={this.viewer}/>\n        </WidgetContainer>\n\n\n        <WidgetContainer title=\"Instrumentation\"\n          style={{\n            float:\"left\",\n            width: \"50%\"\n          }}>\n          <PropertyPieChart title=\"Tag\"\n            guid={state.instrumentationTagGuid}\n            data={state.instrumentationTagData}\n            viewer={this.viewer}/>\n        </WidgetContainer>\n\n\n        <WidgetContainer title=\"Electrical\"\n          style={{\n            float:\"left\",\n            width: \"50%\"\n          }}>\n          <PropertyPieChart title=\"Status\"\n            guid={state.electricalStatusGuid}\n            data={state.electricalStatusData}\n            viewer={this.viewer}/>\n        </WidgetContainer>\n\n\n        <WidgetContainer title=\"Schedule\">\n          <PropertyList title=\"Activities\"\n            style={{\n              width: \"calc(100% - 20px)\",\n              position: \"relative\",\n              float:\"left\",\n              left: \"10px\"\n            }}\n            guid={state.scheduleActivitiesGuid}\n            data={state.scheduleActivitiesData}\n            viewer={this.viewer}/>\n        </WidgetContainer>\n      </div>\n    )\n  }\n}\n\nAutodesk.Viewing.theExtensionManager.registerExtension(\n  PlantFactoryExtension.ExtensionId,\n  PlantFactoryExtension)\n\n\n\n\n\n\n","import './Viewing.Extension.PlantFactory'\n\nexport default 'Viewing.Extension.PlantFactory'\n","import MultiModelExtensionBase from './Viewer.MultiModelExtensionBase'\n\nexport default MultiModelExtensionBase\n","import EventsEmitter from 'EventsEmitter'\n\nexport default class MultiModelExtensionBase extends\n  EventsEmitter.Composer (Autodesk.Viewing.Extension) {\n\n  /////////////////////////////////////////////////////////\n  // Class constructor\n  //\n  /////////////////////////////////////////////////////////\n  constructor (viewer, options = {}, defaultOptions = {}) {\n\n    super (viewer)\n    // bindings\n    Object.assign(this, options.serviceContext)\n\n    this.onModelCompletedLoad = this.onModelCompletedLoad.bind(this)\n    this.onObjectTreeCreated  = this.onObjectTreeCreated.bind(this)\n    this.onModelRootLoaded    = this.onModelRootLoaded.bind(this)\n    this.onExtensionLoaded    = this.onExtensionLoaded.bind(this)\n    this.onModelActivated     = this.onModelActivated.bind(this)\n    this.onGeometryLoaded     = this.onGeometryLoaded.bind(this)\n    this.onToolbarCreated     = this.onToolbarCreated.bind(this)\n    this.onModelBeginLoad     = this.onModelBeginLoad.bind(this)\n    this.onModelUnloaded      = this.onModelUnloaded.bind(this)\n    this.onSelection          = this.onSelection.bind(this)\n\n    this.__onModelRootLoaded  = this.__onModelRootLoaded.bind(this)\n    this.__onModelActivated   = this.__onModelActivated.bind(this)\n    this.__onModelUnloaded    = this.__onModelUnloaded.bind(this)\n    this.__onModelLoaded      = this.__onModelLoaded.bind(this)\n\n    this.defaultOptions = defaultOptions\n\n    this.options = Object.assign({},\n      defaultOptions,\n      options)\n\n    this.viewer = viewer\n\n    // read the modelQueue to detect currently loaded models\n    // when the extension gets loaded\n    const models = viewer.impl.modelQueue().getModels()\n\n    this.models = models.map((model) => {\n\n      model.guid = model.guid || this.guid()\n\n      return model\n    })\n\n    this.initializeEvents ()\n  }\n\n  /////////////////////////////////////////////////////////\n  // Extension Id\n  //\n  /////////////////////////////////////////////////////////\n  static get ExtensionId() {\n\n    return 'Viewing.Extension.MultiModelExtensionBase'\n  }\n\n  /////////////////////////////////////////////////////////\n  // Load callback\n  //\n  /////////////////////////////////////////////////////////\n  load () {\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Unload callback\n  //\n  /////////////////////////////////////////////////////////\n  unload () {\n\n    this.viewerEvents.forEach((event) => {\n\n      this.viewer.removeEventListener(\n        event.id, this[event.handler])\n    })\n\n    if (this.eventSink) {\n\n      this.eventSink.off('model.activated',\n        this.__onModelActivated)\n\n      this.eventSink.off('model.unloaded',\n        this.__onModelUnloaded)\n\n      this.eventSink.off('model.loaded',\n        this.__onModelLoaded)\n    }\n\n    this.off()\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Reload callback, in case the extension is re-loaded\n  // more than once\n  //\n  /////////////////////////////////////////////////////////\n  reload (options = {}) {\n\n    this.options = Object.assign({},\n      this.defaultOptions,\n      this.options,\n      options)\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when extension gets loaded\n  //\n  /////////////////////////////////////////////////////////\n  onExtensionLoaded (event) {\n\n    //console.log('MultiModelExtensionBase.onExtensionLoaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when the model starts to load\n  // The geometry and instanceTree may not be available\n  // at this time\n  //\n  /////////////////////////////////////////////////////////\n  onModelBeginLoad (event) {\n\n    //console.log('MultiModelExtensionBase.onModelBeginLoad')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Triggered by ModelLoader extension when a model is\n  // selected in a multi-model environment\n  //\n  /////////////////////////////////////////////////////////\n  onModelActivated (event) {\n\n    //console.log('MultiModelExtensionBase.onModelActivated')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when model root node has been loaded\n  // Extensions that do require access to full\n  // model geometry or component tree may use that\n  // event to know a new model has been loaded\n  //\n  /////////////////////////////////////////////////////////\n  __onModelRootLoaded (event) {\n\n    this.viewerEvent([\n\n      Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,\n      Autodesk.Viewing.GEOMETRY_LOADED_EVENT\n\n    ]).then((args) => {\n\n      this.onModelCompletedLoad (args[0])\n    })\n  }\n\n  onModelRootLoaded (event) {\n\n    //console.log('MultiModelExtensionBase.onModelRootLoaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when object tree is fully loaded.\n  // Extensions that are interested in using the\n  // instanceTree need to use that event to make sure\n  // it is available\n  //\n  ////////////////////////////////////////////////////////\n  onObjectTreeCreated (event) {\n\n    //console.log('MultiModelExtensionBase.onObjectTreeCreated')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when geometry is fully loaded\n  //\n  /////////////////////////////////////////////////////////\n  onGeometryLoaded (event) {\n\n    //console.log('MultiModelExtensionBase.onGeometryLoaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked after onObjectTreeCreated and onGeometryLoaded\n  // have both been fired\n  //\n  /////////////////////////////////////////////////////////\n  onModelCompletedLoad (event) {\n\n    //console.log('MultiModelExtensionBase.onModelCompletedLoad')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked once the viewer toolbar has been created\n  //\n  /////////////////////////////////////////////////////////\n  onToolbarCreated (event) {\n\n    //console.log('MultiModelExtensionBase.onToolbarCreated')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Triggered by ModelLoader extension when a model has\n  // been unloaded as per user request\n  //\n  /////////////////////////////////////////////////////////\n  onModelUnloaded (event) {\n\n    //console.log('MultiModelExtensionBase.onModelUnloaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when a model is being selected\n  //\n  /////////////////////////////////////////////////////////\n  onSelection (event) {\n\n    //console.log('MultiModelExtensionBase.onSelection')\n  }\n\n  /////////////////////////////////////////////////////////\n  //Sink Events\n  //\n  /////////////////////////////////////////////////////////\n  __onModelLoaded (event) {\n\n    this.models = [...this.models, event.model]\n\n    this.onModelBeginLoad (event)\n  }\n\n  __onModelActivated (event) {\n\n    this.onModelActivated (event)\n  }\n\n  __onModelUnloaded (event) {\n\n    this.models = this.models.filter((model) => {\n\n      return model.guid !== event.model.guid\n    })\n\n    this.onModelUnloaded(event)\n  }\n\n  /////////////////////////////////////////////////////////\n  // Initialize all events for the extension\n  // Each event will invoke a predefined handler\n  // implemented or not by the derived extension\n  //\n  /////////////////////////////////////////////////////////\n  initializeEvents () {\n\n    if (this.options.eventSink) {\n\n      // event object passed in options\n      this.eventSink = this.options.eventSink\n\n      this.eventSink.on('model.loaded',\n        this.__onModelLoaded)\n\n      this.eventSink.on('model.activated',\n        this.__onModelActivated)\n\n      this.eventSink.on('model.unloaded',\n        this.__onModelUnloaded)\n    }\n\n    this.viewerEvents = [\n      {\n        id: Autodesk.Viewing.EXTENSION_LOADED_EVENT,\n        handler: 'onExtensionLoaded'\n      },\n      {\n        id: Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,\n        handler: 'onObjectTreeCreated'\n      },\n      {\n        id: Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,\n        handler: '__onModelRootLoaded'\n      },\n      {\n        id: Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,\n        handler: 'onModelRootLoaded'\n      },\n      {\n        id: Autodesk.Viewing.GEOMETRY_LOADED_EVENT,\n        handler: 'onGeometryLoaded'\n      },\n      {\n        id: Autodesk.Viewing.TOOLBAR_CREATED_EVENT,\n        handler: 'onToolbarCreated'\n      },\n      {\n        id: Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT,\n        handler: 'onSelection'\n      }\n    ]\n\n    this.viewerEvents.forEach((event) => {\n\n      this.viewerEvent(event.id, this[event.handler])\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  // Async viewer event\n  //\n  /////////////////////////////////////////////////////////\n  viewerEvent (eventId, handler) {\n\n    if (handler) {\n\n      this.viewer.addEventListener (eventId, handler)\n      return\n    }\n\n    const eventIdArray = Array.isArray(eventId)\n      ? eventId : [eventId]\n\n    const eventTasks = eventIdArray.map((id) => {\n      return new Promise ((resolve) => {\n        const __handler = (args) => {\n          this.viewer.removeEventListener (id, __handler)\n          resolve (args)\n        }\n        this.viewer.addEventListener (id, __handler)\n      })\n    })\n\n    return Promise.all (eventTasks)\n  }\n}\n","import PropTypes from 'prop-types'\nimport ReactDOM from 'react-dom'\nimport './WidgetContainer.scss'\nimport React from 'react'\n\nclass WidgetContainer extends React.Component {\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static propTypes = {\n    className: PropTypes.string,\n    showTitle: PropTypes.bool\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static defaultProps = {\n    showTitle: true,\n    className: ''\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  renderTitle () {\n\n    if (!this.props.showTitle) {\n\n      return <div/>\n    }\n\n    if (this.props.renderTitle) {\n\n      return this.props.renderTitle()\n    }\n\n    return (\n      <div className=\"title\">\n        <label>\n          { this.props.title }\n        </label>\n      </div>\n    )\n  }\n\n  ///////////////////////////////////////////////////////////////////\n  //\n  //\n  ///////////////////////////////////////////////////////////////////\n  renderChildren() {\n\n    if (this.props.dimensions) {\n\n      return React.Children.map(this.props.children, (child) => {\n\n        const newProps = Object.assign({},\n          child.props, {\n            dimensions: this.props.dimensions\n          })\n\n        return React.cloneElement(child, newProps)\n      })\n    }\n\n    return this.props.children\n  }\n\n  ///////////////////////////////////////////////////////////////////\n  //\n  //\n  ///////////////////////////////////////////////////////////////////\n  render() {\n\n    const classNames = [\n      'widget-container',\n      ...this.props.className.split(' ')\n    ]\n\n    const height = this.props.showTitle\n      ? 'calc(100% - 40px)'\n      : '100%'\n\n    return (\n      <div className={classNames.join(' ')} style={this.props.style}>\n         { this.renderTitle() }\n        <div className=\"content\" style={{height}}>\n          {this.renderChildren()}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default WidgetContainer\n","import WidgetContainer from './WidgetContainer'\n\nexport default WidgetContainer\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./WidgetContainer.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./WidgetContainer.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./WidgetContainer.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".widget-container {\\n  position: relative;\\n  height: 100%;\\n  width: 100%; }\\n\\n.widget-container > .title {\\n  border-bottom: 1px solid #cdcdcd;\\n  background-color: #f5f5f5;\\n  padding-right: 10px;\\n  color: black;\\n  position: relative;\\n  overflow: hidden;\\n  text-align: left;\\n  height: 40px;\\n  width: 100%; }\\n\\n.widget-container > .title > label {\\n  white-space: nowrap;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  margin-left: 27px;\\n  margin-top: 10px; }\\n\\n.widget-container > .content {\\n  position: relative;\\n  overflow: hidden;\\n  height: 100%;\\n  width: 100%; }\\n\", \"\"]);\n","import BarChart from './BarChart'\n\nexport default BarChart\n","/////////////////////////////////////////////////////////\n// BarChart\n// by Philippe Leefsma, April 2016\n//\n/////////////////////////////////////////////////////////\nimport React from 'react'\nimport './BarChart.scss'\nimport d3 from 'd3'\n\nclass BarChart extends React.Component {\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  constructor (props) {\n\n    super (props)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  componentDidMount () {\n\n    this.draw(this.props.data)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  shouldComponentUpdate (nextProps) {\n\n    if (nextProps.guid !== this.props.guid) {\n\n      return true\n    }\n\n    return false\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  componentDidUpdate () {\n\n    $(this.container).empty()\n\n    this.draw(this.props.data)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  draw (data) {\n\n    if (!data || !data.length) {\n\n      return\n    }\n\n    const container = this.container\n\n    const margin = {\n      bottom: 55,\n      right: 40,\n      left: 50,\n      top: 30\n    }\n\n    var width = Math.min(\n      Math.max($(container).width() - 40,\n        30 * data.length),\n      100 * data.length) - 10\n\n    var height = $(container).height() - 93\n\n    var x = d3.scale.ordinal().rangeRoundBands([0, width], .1);\n\n    var y = d3.scale.linear()\n      .range([height, 0]);\n\n    var xAxis = d3.svg.axis()\n      .scale(x)\n      .orient(\"bottom\");\n\n    var yAxis = d3.svg.axis()\n      .scale(y)\n      .orient(\"left\")\n      .ticks(10, \"%\");\n\n    var d3Container = d3.select(container);\n\n    var svg = d3Container.append(\"svg\")\n      .attr(\"width\", width + margin.left + margin.right)\n      .attr(\"height\", height + margin.top + margin.bottom)\n      .append(\"g\")\n      .attr(\"transform\", `translate(${margin.left}, ${margin.top})`);\n\n    x.domain(data.map(function(d) { return d.shortLabel }));\n\n    y.domain([0, d3.max(data, function(d) {\n      return d.value / 1000;\n    })]);\n\n    svg.append(\"g\")\n      .attr(\"class\", \"x axis\")\n      .attr(\"transform\", `translate(0, ${height})`)\n      .call(xAxis)\n      .selectAll(\"text\")\n      .style(\"text-anchor\", \"end\")\n      .attr(\"dx\", \"-.8em\")\n      .attr(\"dy\", \".15em\")\n      .attr(\"transform\", function(d) {\n        return \"rotate(-20)\"\n      });\n\n    svg.append(\"g\")\n      .attr(\"class\", \"y axis\")\n      .call(yAxis)\n      .append(\"text\")\n      .attr(\"transform\", \"translate(60, -30)\")\n      .attr(\"y\", 6)\n      .attr(\"dy\", \".71em\")\n      .style(\"text-anchor\", \"end\")\n      .text(\"Components (% Total)\");\n\n    var tooltip = d3.select(this.container)\n      .append('div')\n      .style('background','#bababa')\n      .style('position','absolute')\n      .style('border-radius','4px')\n      .style('padding','0 10px')\n      .style('display', 'none')\n      .style('height', 'auto')\n      .style('opacity', 0.70)\n\n    var tempcolor = null\n\n    svg.selectAll(\".bar-item\")\n      .data(data)\n      .enter().append(\"rect\")\n      .attr(\"class\", \"bar-item\")\n      .attr(\"x\", function(d) {\n        return x(d.shortLabel);\n      })\n      .attr(\"width\", x.rangeBand())\n      .attr(\"y\", function(d) {\n        return y(d.value / 1000);\n      })\n      .attr(\"height\", function(d) {\n        return height - y(d.value / 1000);\n      })\n      .style('fill',function(d, i){\n        return data[i].color;\n      })\n      .on('click', (item) => {\n        if (this.props.onGroupClicked) {\n          this.props.onGroupClicked (item)\n        }\n      })\n      .on('mouseover', function(props) {\n\n        tooltip.transition()\n          .style('opacity', .9)\n\n        var offset = $(container).offset()\n\n        var x = d3.event.pageX - offset.left\n        var y = d3.event.pageY - offset.top\n\n        tooltip.html(props.label)\n          .style('left', x + 5 + 'px')\n          .style('top', y + 15 + 'px')\n          .style('display', 'block')\n\n        tempcolor = this.style.fill\n\n        d3.select(this)\n          .style('fill','#6AB8E3')\n          .style('opacity',.5)\n      })\n      .on('mousemove', function(e) {\n\n        var offset = $(container).offset()\n\n        var x = d3.event.pageX - offset.left\n        var y = d3.event.pageY - offset.top\n\n        tooltip.style('left', x + 5 + 'px')\n          .style('top', y + 15 + 'px')\n          .style('display', 'block')\n\n        d3.select(this)\n          .style('fill','#6AB8E3')\n          .style('opacity', .5)\n      })\n      .on('mouseout', function(d) {\n\n        d3.select(this)\n          .style('fill',tempcolor)\n          .style('opacity', 1)\n\n        tooltip.style('display', 'none')\n      })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  render () {\n\n    return (\n      <div className=\"bar-chart\"\n        ref={ (div) => this.container = div }>\n      </div>\n    )\n  }\n}\n\nexport default BarChart\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./BarChart.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./BarChart.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./BarChart.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".bar-chart {\\n  background-color: #fdfdfd;\\n  overflow-y: scroll;\\n  overflow-x: scroll;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  height: 100%;\\n  width: 100%; }\\n\\n.bar-chart .d3.d3-bar {\\n  overflow-x: auto; }\\n\\n.bar-chart .bar-item {\\n  cursor: pointer; }\\n\\n.bar-chart .axis {\\n  font: 10px sans-serif; }\\n\\n.bar-chart .axis path {\\n  fill: none;\\n  stroke: #000;\\n  shape-rendering: crispEdges; }\\n\\n.bar-chart .axis line {\\n  fill: none;\\n  stroke: #000;\\n  shape-rendering: crispEdges; }\\n\\n.bar-chart .x.axis path {\\n  display: none; }\\n\", \"\"]);\n","import PieChart from './PieChart'\n\nexport default PieChart\n","/////////////////////////////////////////////////////////\n// PieChart\n// by Philippe Leefsma, April 2016\n//\n/////////////////////////////////////////////////////////\nimport React from 'react'\nimport d3pie from 'd3pie'\nimport './PieChart.scss'\nimport d3 from 'd3'\n\nclass PieChart extends React.Component {\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  constructor (props) {\n\n    super (props)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  componentDidMount () {\n\n    this.draw(this.props.data)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  shouldComponentUpdate (nextProps) {\n\n    if (nextProps.dataGuid !== this.props.dataGuid) {\n\n      return true\n    }\n\n    return false\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  componentDidUpdate () {\n\n    $(this.container).empty()\n\n    this.draw(this.props.data, {\n      effects: {\n        load: {\n          effect: 'none'\n        }\n      }\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  draw (data, opts= {}) {\n\n    if (!data || !data.length) {\n\n      return\n    }\n\n    const size = Math.min(\n      this.container.offsetHeight,\n      this.container.offsetWidth)\n\n    const options =  Object.assign({}, {\n\n      size: {\n        canvasHeight: size,\n        canvasWidth: size,\n        pieInnerRadius: '40%',\n        pieOuterRadius: '98%'\n      },\n\n      data: {\n        content: data\n      },\n\n      tooltips: {\n        enabled: true,\n        type: \"placeholder\",\n        placeholderParser: (index, replacements) => {\n          Object.assign(replacements, {\n            unit: data[index].unit\n          })\n        },\n        string: '{label}',\n        styles: {\n          fadeInSpeed: 250,\n          backgroundColor: \"#bababa\",\n          backgroundOpacity: 0.85,\n          color: \"#00\",\n          borderRadius: 2,\n          font: \"ArtifaktElementRegular\",\n          fontSize: 10,\n          padding: 4,\n          zIndex: 1000\n        }\n      },\n\n      labels: {\n        outer: {\n          format: 'none',\n          hideWhenLessThanPercentage: 5,\n          pieDistance: 32\n        },\n        inner: {\n          hideWhenLessThanPercentage: 5\n        }\n      },\n\n      callbacks: {\n        onClickSegment: (event) => {\n\n          if (this.props.onSegmentClicked) {\n\n            this.props.onSegmentClicked (\n              event.data, event.expanded)\n          }\n        }\n      },\n\n      misc: {\n        gradient: {\n          enabled: false,\n          percentage: 100\n        }\n      }\n    }, opts)\n\n    this.pie = new d3pie(this.container, options)\n\n    this.applyCustomProps()\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  applyCustomProps () {\n\n    $(this.container).find('svg').css({\n      transform: `translate(0px, -2px)`,\n      overflow: 'visible'\n    })\n\n    setTimeout(()=> {\n\n      const $path = $(this.container).find(\n        `g[class*=\"_arc\"] > path`)\n\n      $path.css({\n        'stroke-width': '0'\n      })\n    }, 100)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  render () {\n\n    return (\n      <div className=\"pie-chart\" ref={ (div) => {\n          this.container = div\n        }}\n      />\n    )\n  }\n}\n\nexport default PieChart\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./PieChart.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./PieChart.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./PieChart.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".pie-chart {\\n  background-color: #fdfdfd;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  overflow: visible;\\n  height: 100%;\\n  width: 100%; }\\n\\n.pie-chart > svg {\\n  position: relative;\\n  margin: 0 auto;\\n  display: table; }\\n\\nsvg [class*=\\\"_pieChart\\\"], svg [class*=\\\"_labelGroup\\\"] {\\n  cursor: pointer; }\\n\", \"\"]);\n"],"sourceRoot":""}