{"version":3,"sources":["webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.HFDM/index.js","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.HFDM/Viewing.Extension.HFDM.js","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.HFDM/Viewing.Extension.HFDM.scss?55be","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.HFDM/Viewing.Extension.HFDM.scss","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.HFDM/HFDM/HFDM.Entity.ClassFactory.js","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.HFDM/HFDM/Handlers/Handler.Base.js","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.HFDM/HFDM/Handlers/Handler.Manager.js","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.HFDM/HFDM/Handlers/Handler.Camera.js","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.HFDM/Viewing.Extension.HFDM.Core.js","webpack:///./src/client/components/Viewer/Extensions/Viewer.MultiModelExtensionBase/index.js","webpack:///./src/client/components/Viewer/Extensions/Viewer.MultiModelExtensionBase/Viewer.MultiModelExtensionBase.js","webpack:///./node_modules/@babel/runtime/helpers/get.js","webpack:///./src/client/components/WidgetContainer/WidgetContainer.js","webpack:///./src/client/components/WidgetContainer/index.js","webpack:///./src/client/components/WidgetContainer/WidgetContainer.scss?a31d","webpack:///./src/client/components/WidgetContainer/WidgetContainer.scss","webpack:///./src/client/components/Label/Label.js","webpack:///./src/client/components/Label/index.js","webpack:///./node_modules/@babel/runtime/helpers/superPropBase.js","webpack:///./src/client/components/Label/Label.scss?1352","webpack:///./src/client/components/Label/Label.scss","webpack:///./node_modules/lodash/debounce.js","webpack:///./node_modules/lodash/throttle.js","webpack:///./node_modules/lodash/now.js","webpack:///./src/client/components/ScriptLoader/index.js","webpack:///./src/client/components/ScriptLoader/ScriptLoader.js","webpack:///./node_modules/react-copy-to-clipboard/lib/index.js","webpack:///./node_modules/react-copy-to-clipboard/lib/Component.js","webpack:///./node_modules/copy-to-clipboard/index.js","webpack:///./node_modules/toggle-selection/index.js","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.HFDM/HFDM/Types/Math.Vector3d/index.js","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.HFDM/HFDM/Types/Viewer.Camera/index.js"],"names":["__webpack_require__","r","__webpack_exports__","HFDMExtension","viewer","options","_this","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default","this","_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default","_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default","call","onScriptLoaded","bind","_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default","renderTitle","react","_this2","setState","user","appState","colaborateURL","inspectorURL","then","pushRenderExtension","forgeSvc","getUser","err","showLogin","console","log","popViewerPanel","_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_7___default","prototype","docked","id","ExtensionId","popRenderExtension","pushViewerPanel","height","width","ms","Promise","resolve","setTimeout","callback","$","get","res","access_token","_this3","dialogSvc","on","onClose","result","off","browserHistory","push","login","onRequestClose","className","title","content","react__WEBPACK_IMPORTED_MODULE_22___default","a","createElement","open","window","Forge","HFDM","AppFramework","sleep","loadExtension","HFDMCoreExtensionId","serverUrl","branchUrn","location","query","HFDMAppFramework","HFDM_SDK","getToken","HFDMCoreExtension","_this4","loader","show","_this5","spanClass","onClick","setDocking","_this$react$getState","getState","showLoader","Loader__WEBPACK_IMPORTED_MODULE_17__","ScriptLoader__WEBPACK_IMPORTED_MODULE_14__","onLoaded","url","href","target","react_copy_to_clipboard__WEBPACK_IMPORTED_MODULE_11___default","text","opts","_this6","WidgetContainer__WEBPACK_IMPORTED_MODULE_13__","showTitle","renderControls","MultiModelExtensionBase","Autodesk","Viewing","theExtensionManager","registerExtension","module","i","locals","exports","EntityClassFactory","BaseEntity","handlerMng","_BaseEntity","_class","params","classCallCheck_default","possibleConstructorReturn_default","getPrototypeOf_default","handler","getHandler","property","_id","onCreate","inherits_default","createClass_default","key","value","context","onModify","path","getAbsolutePath","split","length","parentHandlerId","onRemove","BaseHandler","workspace","HandlerManager","handlerMap","HandlerBase","CameraHandler","onCameraChanged","throttle","assertThisInitialized_default","addEventListener","CAMERA_CHANGE_EVENT","nav","navigation","forEach","modifCtx","propertyName","_path","getVectorProperty","setCameraUpVector","setPosition","setTarget","removeEventListener","event","position","getPosition","up","getCameraUpVector","getTarget","setVectorProperty","commit","name","v","vectorProperty","x","y","z","THREE","Vector3","entityManager","EntityManager","hfdm","hfdmFactory","PropertyFactory","handlerManager","registerHandler","registerType","Vector3d","Camera","initializeHFDM","get_default","Type","register","template","EntityClass","registerEntity","typeId","create","createWorkspace","changeSet","connect","getBearerToken","initParameters","urn","initialize","branchGUID","getActiveBranch","getGuid","token","concat","emit","getActiveUrn","share","initializeAsHost","initializeAsParticipant","activate","_context","t0","upVector","cameraProperty","createTypeInstance","insert","parentProperty","_Viewer_MultiModelExtensionBase__WEBPACK_IMPORTED_MODULE_0__","arguments","undefined","defaultOptions","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default","_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default","_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default","Object","assign","serviceContext","onModelCompletedLoad","onObjectTreeCreated","onModelRootLoaded","onExtensionLoaded","onModelActivated","onGeometryLoaded","onToolbarCreated","onModelBeginLoad","onModelUnloaded","onSelection","__onModelRootLoaded","__onModelActivated","__onModelUnloaded","__onModelLoaded","models","impl","modelQueue","getModels","map","model","guid","initializeEvents","viewerEvents","eventSink","viewerEvent","OBJECT_TREE_CREATED_EVENT","GEOMETRY_LOADED_EVENT","args","_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default","filter","EXTENSION_LOADED_EVENT","MODEL_ROOT_LOADED_EVENT","TOOLBAR_CREATED_EVENT","AGGREGATE_SELECTION_CHANGED_EVENT","eventId","eventTasks","Array","isArray","__handler","all","EventsEmitter","Composer","Extension","superPropBase","_get","receiver","Reflect","base","desc","getOwnPropertyDescriptor","WidgetContainer","props","react_default","dimensions","React","Children","children","child","newProps","cloneElement","classNames","toConsumableArray_default","join","style","renderChildren","Component","PropTypes","string","bool","Label","textAlign","DOMPurify","sanitize","getPrototypeOf","object","hasOwnProperty","isObject","now","toNumber","FUNC_ERROR_TEXT","nativeMax","Math","max","nativeMin","min","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","thisArg","apply","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","leadingEdge","cancel","clearTimeout","flush","debounce","root","Date","_ScriptLoader__WEBPACK_IMPORTED_MODULE_0__","ScriptLoader","reject","head","document","getElementsByTagName","script","type","async","onerror","onload","appendChild","src","obj","loadTasks","toArray","loadScript","error","onError","react__WEBPACK_IMPORTED_MODULE_5___default","CopyToClipboard","defineProperty","_extends","source","_createClass","defineProperties","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react2","_interopRequireDefault","_copyToClipboard2","__esModule","default","_possibleConstructorReturn","self","ReferenceError","_React$PureComponent","_ref","_temp","instance","_classCallCheck","_len","_key","__proto__","_this$props","onCopy","elem","only","subClass","superClass","constructor","setPrototypeOf","_inherits","PureComponent","_props","keys","indexOf","_objectWithoutProperties","defaultProps","deselectCurrent","defaultMessage","debug","message","reselectPrevious","range","selection","mark","success","createRange","getSelection","textContent","top","clip","whiteSpace","webkitUserSelect","MozUserSelect","msUserSelect","userSelect","body","selectNode","addRange","execCommand","Error","warn","clipboardData","setData","copyKey","test","navigator","userAgent","replace","format","prompt","removeRange","removeAllRanges","removeChild","rangeCount","active","activeElement","ranges","getRangeAt","tagName","toUpperCase","blur","focus","_autodesk_math_vector3d_1_0_0_template_json__WEBPACK_IMPORTED_MODULE_0__","_autodesk_viewer_camera_1_0_0_template_json__WEBPACK_IMPORTED_MODULE_0__"],"mappings":"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","file":"42.js","sourcesContent":["import './Viewing.Extension.HFDM'\n\nexport default 'Viewing.Extension.HFDM'\n","/////////////////////////////////////////////////////////\n// Viewing.Extension.ModelLoader\n// by Philippe Leefsma, April 2017\n//\n/////////////////////////////////////////////////////////\nimport MultiModelExtensionBase from 'Viewer.MultiModelExtensionBase'\nimport HFDMCoreExtensionId from './Viewing.Extension.HFDM.Core'\nimport Clipboard from 'react-copy-to-clipboard'\nimport { history as browserHistory } from 'BrowserContext'\nimport WidgetContainer from 'WidgetContainer'\nimport ScriptLoader from 'ScriptLoader'\nimport {ServiceContext} from 'ServiceContext'\nimport './Viewing.Extension.HFDM.scss'\nimport { ReactLoader } from 'Loader'\nimport Toolkit from 'Viewer.Toolkit'\nimport DOMPurify from 'dompurify'\nimport ReactDOM from 'react-dom'\nimport Label from 'Label'\nimport React from 'react'\nimport {\n  DropdownButton,\n  MenuItem\n} from 'react-bootstrap'\n\nclass HFDMExtension extends MultiModelExtensionBase {\n\n  /////////////////////////////////////////////////////////\n  // Class constructor\n  //\n  /////////////////////////////////////////////////////////\n  constructor (viewer, options) {\n\n    super (viewer, options)\n\n    this.onScriptLoaded = this.onScriptLoaded.bind(this)\n\n    this.renderTitle = this.renderTitle.bind(this)\n\n\n\n    this.react = options.react\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  get className() {\n\n    return 'hfdm'\n  }\n\n  /////////////////////////////////////////////////////////\n  // Extension Id\n  //\n  /////////////////////////////////////////////////////////\n  static get ExtensionId() {\n\n    return 'Viewing.Extension.HFDM'\n  }\n\n  /////////////////////////////////////////////////////////\n  // Load callback\n  //\n  /////////////////////////////////////////////////////////\n  load () {\n\n    this.react.setState({\n\n      user: this.options.appState.user,\n      colaborateURL: null,\n      inspectorURL: null\n\n    }).then (() => {\n\n      this.react.pushRenderExtension(this)\n\n      if (!this.options.appState.user) {\n\n        this.forgeSvc.getUser().then((user) => {\n\n          this.react.setState({\n            user\n          })\n\n        }, (err) => {\n\n          this.showLogin()\n        })\n      }\n    })\n\n    console.log('Viewing.Extension.HFDM loaded')\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Unload callback\n  //\n  /////////////////////////////////////////////////////////\n  unload () {\n\n    console.log('Viewing.Extension.HFDM unloaded')\n\n    this.react.popViewerPanel(this)\n\n    super.unload ()\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Panel docking mode\n  //\n  /////////////////////////////////////////////////////////\n  async setDocking (docked) {\n\n    const id = HFDMExtension.ExtensionId\n\n    if (docked) {\n\n      await this.react.popRenderExtension(id)\n\n      await this.react.pushViewerPanel(this, {\n        height: 250,\n        width: 350\n      })\n\n    } else {\n\n      await this.react.popViewerPanel(id)\n\n      this.react.pushRenderExtension(this)\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  sleep (ms) {\n    return new Promise((resolve) => {\n      setTimeout(() => resolve (), ms)\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  // callback: function (error, bearerToken)\n  //\n  /////////////////////////////////////////////////////////\n  getToken (callback) {\n\n    $.get('/api/forge/token/3legged', (res) => {\n\n      callback(null, res.access_token)\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  showLogin () {\n\n    const onClose = (result) => {\n\n      this.dialogSvc.off('dialog.close', onClose)\n\n      if (result === 'OK') {\n\n        this.forgeSvc.login()\n        return\n      }\n\n      browserHistory.push('/configurator')\n    }\n\n    this.dialogSvc.on('dialog.close', onClose)\n\n    this.dialogSvc.setState({\n      onRequestClose: () => {},\n      className: 'login-dlg',\n      title: 'Forge Login required ...',\n      content:\n        <div>\n          Press OK to login ...\n        </div>,\n      open: true\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  async onScriptLoaded () {\n\n    while (!(window.Forge &&\n             window.Forge.HFDM &&\n             window.Forge.AppFramework)) {\n\n      await this.sleep(100)\n    }\n\n    const HFDMCoreExtension =\n      await this.viewer.loadExtension(\n        HFDMCoreExtensionId, {\n          serverUrl: 'https://developer.api.autodesk.com/hfdm/v1',\n          branchUrn: this.options.location.query.branchUrn,\n          HFDMAppFramework: window.Forge.AppFramework,\n          HFDM_SDK: window.Forge.HFDM,\n          getToken: this.getToken\n        })\n\n    HFDMCoreExtension.on('colaborateURL', (colaborateURL) => {\n\n      console.log('------- colaborateURL -------')\n      console.log(colaborateURL)\n\n      this.react.setState({\n        colaborateURL\n      })\n    })\n\n    HFDMCoreExtension.on('inspectorURL', (inspectorURL) => {\n\n      console.log('------- inspectorURL -------')\n      console.log(inspectorURL)\n    })\n\n    this.options.loader.show(false)\n  }\n\n  /////////////////////////////////////////////////////////\n  // React method - render panel title\n  //\n  /////////////////////////////////////////////////////////\n  renderTitle (docked) {\n\n    const spanClass = docked\n      ? 'fa fa-chain-broken'\n      : 'fa fa-chain'\n\n    return (\n      <div className=\"title\">\n        <label>\n          HFDM\n        </label>\n        <div className=\"hfdm-controls\">\n          <button onClick={() => this.setDocking(docked)}\n            title=\"Toggle docking mode\">\n            <span className={spanClass}/>\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  /////////////////////////////////////////////////////////\n  // React method - render panel controls\n  //\n  /////////////////////////////////////////////////////////\n  renderControls () {\n\n    const {colaborateURL, inspectorURL} =\n      this.react.getState()\n\n    const showLoader = !colaborateURL\n\n    return (\n      <div>\n        <ReactLoader show={showLoader}/>\n        <ScriptLoader onLoaded={this.onScriptLoaded}\n          url={[\n            \"/resources/libs/hfdm/forge-entity-manager.js\",\n            \"/resources/libs/hfdm/forge-hfdm.js\"\n          ]}/>\n        <br/>\n        {\n          colaborateURL &&\n          <div>\n            <a href={colaborateURL} target='_blank'>\n              Collaborate URL\n            </a>\n            <Clipboard\n              text={colaborateURL}>\n              <button className=\"clipboard-btn\"\n                title=\"Copy to clipboard\">\n              <span className=\"fa fa-clipboard\"/>\n              </button>\n            </Clipboard>\n          </div>\n        }\n      </div>\n    )\n  }\n\n  /////////////////////////////////////////////////////////\n  // React method - render extension UI\n  //\n  /////////////////////////////////////////////////////////\n  render (opts) {\n\n    const {user} = this.react.getState()\n\n    return (\n      <WidgetContainer\n        renderTitle={() => this.renderTitle(opts.docked)}\n        showTitle={opts.showTitle}\n        className={this.className}>\n        {\n          user && this.renderControls()\n        }\n      </WidgetContainer>\n    )\n  }\n}\n\nAutodesk.Viewing.theExtensionManager.registerExtension(\n  HFDMExtension.ExtensionId,\n  HFDMExtension)\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../../node_modules/sass-loader/lib/loader.js!./Viewing.Extension.HFDM.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../../node_modules/sass-loader/lib/loader.js!./Viewing.Extension.HFDM.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../../node_modules/sass-loader/lib/loader.js!./Viewing.Extension.HFDM.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".hfdm .title {\\n  display: -ms-inline-flexbox;\\n  display: inline-flex;\\n  float: left; }\\n\\n.hfdm .title > label {\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  white-space: nowrap;\\n  font-weight: normal;\\n  user-select: none;\\n  margin-left: 27px;\\n  margin-top: 10px;\\n  select: none;\\n  width: 144px;\\n  float: left; }\\n\\n.hfdm .content > .controls {\\n  margin: 10px 10px 0px 10px;\\n  display: inline-block;\\n  white-space: nowrap;\\n  width: 100%; }\\n\\n.hfdm .content > .controls > .row {\\n  width: 100%;\\n  margin: 0; }\\n\\n.hfdm .content > .controls .dropdown {\\n  width: calc(100% - 88px);\\n  margin-bottom: 6px;\\n  float: left; }\\n\\n.hfdm .content > .controls .dropdown > button {\\n  padding: 0 10px 0 10px;\\n  overflow: hidden;\\n  height: 26px;\\n  width: 100%;\\n  margin: 0; }\\n\\n.hfdm .content > .controls button {\\n  background: whitesmoke;\\n  border-radius: 4px;\\n  margin-left: 4px;\\n  outline: none;\\n  height: 26px;\\n  width: 30px;\\n  float: left; }\\n\\n.hfdm .content > .controls button > span {\\n  position: relative;\\n  font-size: 16px;\\n  color: #9b9b9b;\\n  top: -1px; }\\n\\n.hfdm .content > .controls button:disabled > span {\\n  color: #d0d0d0; }\\n\\n.hfdm .content > .controls button:hover:not(:disabled) > span {\\n  color: #FF9800; }\\n\\n.hfdm .content > .controls button:disabled > span {\\n  color: #d0d0d0; }\\n\\n.hfdm .content > .controls label {\\n  margin: 4px 10px 0 10px;\\n  font-weight: normal;\\n  float: left; }\\n\\n.hfdm .clipboard-btn {\\n  border: 1px solid #cdcdcd;\\n  background: whitesmoke;\\n  border-radius: 4px;\\n  margin-left: 8px;\\n  color: #8c8c8c; }\\n\\n.hfdm-controls {\\n  margin: auto 0 auto calc(100% - 140px);\\n  position: relative;\\n  float: left; }\\n\\n.hfdm-controls > button {\\n  border: 1px solid #c6c6c6;\\n  background-color: #e1e1e1;\\n  border-radius: 6px;\\n  position: relative;\\n  overflow: hidden;\\n  outline: none;\\n  height: 24px;\\n  width: 26px; }\\n\\n.hfdm-controls > button:hover {\\n  border: 1px solid #878787;\\n  background-color: #f5f5f5; }\\n\\n.hfdm-controls > button > label {\\n  position: relative;\\n  font-size: 20px;\\n  color: #f0fcff;\\n  top: -8px; }\\n\\n.hfdm-controls > button > span {\\n  pointer-events: none;\\n  color: #9b9b9b; }\\n\", \"\"]);\n","\nconst EntityClassFactory = (BaseEntity, handlerMng) =>\n  class extends BaseEntity {\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  constructor (params) {\n\n    super (params)\n\n    this.handler = handlerMng.getHandler(\n      params.property._id)\n\n    this.handler.onCreate(params.property)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onModify (context) {\n\n    this.handler.onModify(context)\n\n    const absPath = context[0].getAbsolutePath()\n\n    const path = absPath.split('.')\n\n    if (path.length > 2) {\n\n      const parentHandlerId = path[path.length-3]\n\n      const parentHandler = handlerMng.getHandler(\n        parentHandlerId)\n\n      parentHandler.onModify(context)\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onRemove() {\n\n    this.handler.onRemove()\n  }\n}\n\nexport default EntityClassFactory\n","\nexport default class BaseHandler {\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  bind (workspace) {\n\n    this.workspace = workspace\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onCreate (property) {\n\n    this.property = property\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onModify (context) {\n\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onRemove() {\n\n  }\n}\n\n\n","import HandlerBase from './Handler.Base'\n\nexport default class HandlerManager {\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  constructor() {\n\n    this.handlerMap = {}\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  registerHandler(id, handler) {\n\n    this.handlerMap[id] = handler\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  getHandler (id) {\n\n    const handler = this.handlerMap[id]\n\n    return handler || new HandlerBase()\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  bind (workspace) {\n\n    this.workspace = workspace\n\n    for (var id in this.handlerMap) {\n\n      this.handlerMap[id].bind(workspace)\n    }\n  }\n}\n","\nimport BaseHandler from './Handler.Base'\nimport throttle from 'lodash/throttle'\n\nexport default class CameraHandler extends BaseHandler {\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  constructor (viewer) {\n\n    super()\n\n    this.viewer = viewer\n\n    this.onCameraChanged = throttle(\n      this.onCameraChanged.bind(this), 500)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  activate () {\n\n    this.viewer.addEventListener(\n      Autodesk.Viewing.CAMERA_CHANGE_EVENT,\n      this.onCameraChanged)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onModify (context) {\n\n    const nav = this.viewer.navigation\n\n    if (context) {\n\n      context.forEach((modifCtx) => {\n\n        const path = modifCtx._path\n\n        const propertyName = path.split('.')[1]\n\n        const property =\n          this.getVectorProperty(\n            propertyName)\n\n        switch (propertyName) {\n\n          case 'upVector':\n            return nav.setCameraUpVector(property)\n\n          case 'position':\n            return nav.setPosition(property)\n\n          case 'target':\n            return nav.setTarget(property)\n        }\n      })\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onRemove() {\n\n    this.viewer.removeEventListener(\n      Autodesk.Viewing.CAMERA_CHANGE_EVENT,\n      this.onCameraChanged)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onCameraChanged (event) {\n\n    const nav = this.viewer.navigation\n\n    const position = nav.getPosition()\n\n    const up = nav.getCameraUpVector()\n\n    const target = nav.getTarget()\n\n    this.setVectorProperty('position', position)\n    this.setVectorProperty('target', target)\n    this.setVectorProperty('upVector', up)\n\n    this.workspace.commit()\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  setVectorProperty (name, v) {\n\n    const vectorProperty = this.property.get(name)\n\n    vectorProperty.get('x').value = v.x\n    vectorProperty.get('y').value = v.y\n    vectorProperty.get('z').value = v.z\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  getVectorProperty (name) {\n\n    const vectorProperty = this.property.get(name)\n\n    const x = vectorProperty.get('x').value\n    const y = vectorProperty.get('y').value\n    const z = vectorProperty.get('z').value\n\n    return new THREE.Vector3(x, y, z)\n  }\n}\n\n\n","/////////////////////////////////////////////////////////\n// Viewing.Extension.HFDM\n// by Philippe Leefsma, June 2017\n//\n/////////////////////////////////////////////////////////\nimport MultiModelExtensionBase from 'Viewer.MultiModelExtensionBase'\nimport EntityClassFactory from './HFDM/HFDM.Entity.ClassFactory'\nimport HandlerManager from './HFDM/Handlers/Handler.Manager'\nimport EventsEmitter from 'EventsEmitter'\nimport Toolkit from 'Viewer.Toolkit'\n\n// Types\nimport Vector3d from './HFDM/Types/Math.Vector3d'\nimport Camera from './HFDM/Types/Viewer.Camera'\n\n// Handlers\nimport CameraHandler from './HFDM/Handlers/Handler.Camera'\n\nclass HFDMCoreExtension extends MultiModelExtensionBase {\n\n  /////////////////////////////////////////////////////////\n  // Class constructor\n  //\n  /////////////////////////////////////////////////////////\n  constructor (viewer, options) {\n\n    super (viewer, options)\n\n    this.entityManager =\n      new this.options.HFDMAppFramework.EntityManager()\n\n    this.hfdm = new this.options.HFDM_SDK.HFDM()\n\n    this.hfdmFactory =\n      this.options.HFDM_SDK.PropertyFactory\n\n    this.CameraHandler = new CameraHandler(viewer)\n\n    this.handlerManager = new HandlerManager()\n\n    this.handlerManager.registerHandler(\n      'camera', this.CameraHandler)\n\n    this.registerType(Vector3d, 'LMV')\n    this.registerType(Camera, 'LMV')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Extension Id\n  //\n  /////////////////////////////////////////////////////////\n  static get ExtensionId() {\n\n    return 'Viewing.Extension.HFDM.Core'\n  }\n\n  /////////////////////////////////////////////////////////\n  // Load callback\n  //\n  /////////////////////////////////////////////////////////\n  load () {\n\n    console.log('Viewing.Extension.HFDM.Core loaded')\n\n    this.initializeHFDM()\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Unload callback\n  //\n  /////////////////////////////////////////////////////////\n  unload () {\n\n    console.log('Viewing.Extension.HFDM.Core unloaded')\n\n    super.unload ()\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  registerType (Type, name) {\n\n    this.hfdmFactory.register(Type.template)\n\n    const {BaseEntity} = this.options.HFDMAppFramework\n\n    const EntityClass = EntityClassFactory(\n      BaseEntity, this.handlerManager)\n\n    this.entityManager.registerEntity(\n      name, Type.typeId, EntityClass)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  createTypeInstance (Type) {\n\n    return this.hfdmFactory.create(Type.typeId)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  async initializeHFDM() {\n\n    try {\n\n      this.workspace = this.hfdm.createWorkspace()\n\n      this.workspace.on('modified', (changeSet) => {\n\n        //console.log(changeSet)\n      })\n\n      console.log('Connecting to HFDM ...')\n\n      await this.hfdm.connect({\n        getBearerToken: this.options.getToken,\n        serverUrl: this.options.serverUrl\n      })\n\n      console.log('Successfully connected to HFDM')\n\n      const initParameters = {\n        urn: this.options.branchUrn\n      }\n\n      await this.workspace.initialize(initParameters)\n\n      this.handlerManager.bind(this.workspace)\n\n      this.entityManager.bind(this.workspace)\n\n      const branchGUID =\n        this.workspace.getActiveBranch().getGuid()\n\n      this.options.getToken((err, token) => {\n\n        const inspectorURL =\n          `http://ecs-master-opt.ecs.ads.autodesk.com:3501/HFDMInspector.html?` +\n          `branchGuid=${branchGUID}&` +\n          `token=${token}`\n\n        this.emit('inspectorURL', inspectorURL)\n      })\n\n      if (!this.options.branchUrn) {\n\n        const branchUrn = this.workspace.getActiveUrn()\n\n        // share workspace for write to everybody *\n\n        await this.hfdm.share([branchUrn], ['*'])\n\n        const colaborateURL =\n          `${window.location.href}&branchUrn=${branchUrn}`\n\n        this.emit('colaborateURL', colaborateURL)\n\n        this.initializeAsHost()\n\n      } else {\n\n        const colaborateURL = window.location.href\n\n        this.emit('colaborateURL', colaborateURL)\n\n        this.initializeAsParticipant()\n      }\n\n      this.CameraHandler.activate()\n\n    } catch (ex) {\n\n      console.log(ex)\n    }\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  initializeAsHost () {\n\n    const position =\n      this.viewer.navigation.getPosition()\n\n    const target =\n      this.viewer.navigation.getTarget()\n\n    const upVector =\n      this.viewer.navigation.getCameraUpVector()\n\n    const cameraProperty =\n      this.createTypeInstance(Camera)\n\n    this.setVectorProperty(\n      cameraProperty,\n      'position',\n      position)\n\n    this.setVectorProperty(\n      cameraProperty,\n      'target',\n      target)\n\n    this.setVectorProperty(\n      cameraProperty,\n      'upVector',\n      upVector)\n\n    this.workspace.insert(\n      'camera', cameraProperty)\n\n    this.workspace.commit()\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  setVectorProperty (parentProperty, name, v) {\n\n    const vectorProperty = parentProperty.get(name)\n\n    vectorProperty.get('x').value = v.x\n    vectorProperty.get('y').value = v.y\n    vectorProperty.get('z').value = v.z\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  initializeAsParticipant () {\n\n  }\n}\n\nAutodesk.Viewing.theExtensionManager.registerExtension(\n  HFDMCoreExtension.ExtensionId,\n  HFDMCoreExtension)\n\nexport default HFDMCoreExtension.ExtensionId\n\n\n\n\n","import MultiModelExtensionBase from './Viewer.MultiModelExtensionBase'\n\nexport default MultiModelExtensionBase\n","import EventsEmitter from 'EventsEmitter'\n\nexport default class MultiModelExtensionBase extends\n  EventsEmitter.Composer (Autodesk.Viewing.Extension) {\n\n  /////////////////////////////////////////////////////////\n  // Class constructor\n  //\n  /////////////////////////////////////////////////////////\n  constructor (viewer, options = {}, defaultOptions = {}) {\n\n    super (viewer)\n    // bindings\n    Object.assign(this, options.serviceContext)\n\n    this.onModelCompletedLoad = this.onModelCompletedLoad.bind(this)\n    this.onObjectTreeCreated  = this.onObjectTreeCreated.bind(this)\n    this.onModelRootLoaded    = this.onModelRootLoaded.bind(this)\n    this.onExtensionLoaded    = this.onExtensionLoaded.bind(this)\n    this.onModelActivated     = this.onModelActivated.bind(this)\n    this.onGeometryLoaded     = this.onGeometryLoaded.bind(this)\n    this.onToolbarCreated     = this.onToolbarCreated.bind(this)\n    this.onModelBeginLoad     = this.onModelBeginLoad.bind(this)\n    this.onModelUnloaded      = this.onModelUnloaded.bind(this)\n    this.onSelection          = this.onSelection.bind(this)\n\n    this.__onModelRootLoaded  = this.__onModelRootLoaded.bind(this)\n    this.__onModelActivated   = this.__onModelActivated.bind(this)\n    this.__onModelUnloaded    = this.__onModelUnloaded.bind(this)\n    this.__onModelLoaded      = this.__onModelLoaded.bind(this)\n\n    this.defaultOptions = defaultOptions\n\n    this.options = Object.assign({},\n      defaultOptions,\n      options)\n\n    this.viewer = viewer\n\n    // read the modelQueue to detect currently loaded models\n    // when the extension gets loaded\n    const models = viewer.impl.modelQueue().getModels()\n\n    this.models = models.map((model) => {\n\n      model.guid = model.guid || this.guid()\n\n      return model\n    })\n\n    this.initializeEvents ()\n  }\n\n  /////////////////////////////////////////////////////////\n  // Extension Id\n  //\n  /////////////////////////////////////////////////////////\n  static get ExtensionId() {\n\n    return 'Viewing.Extension.MultiModelExtensionBase'\n  }\n\n  /////////////////////////////////////////////////////////\n  // Load callback\n  //\n  /////////////////////////////////////////////////////////\n  load () {\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Unload callback\n  //\n  /////////////////////////////////////////////////////////\n  unload () {\n\n    this.viewerEvents.forEach((event) => {\n\n      this.viewer.removeEventListener(\n        event.id, this[event.handler])\n    })\n\n    if (this.eventSink) {\n\n      this.eventSink.off('model.activated',\n        this.__onModelActivated)\n\n      this.eventSink.off('model.unloaded',\n        this.__onModelUnloaded)\n\n      this.eventSink.off('model.loaded',\n        this.__onModelLoaded)\n    }\n\n    this.off()\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Reload callback, in case the extension is re-loaded\n  // more than once\n  //\n  /////////////////////////////////////////////////////////\n  reload (options = {}) {\n\n    this.options = Object.assign({},\n      this.defaultOptions,\n      this.options,\n      options)\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when extension gets loaded\n  //\n  /////////////////////////////////////////////////////////\n  onExtensionLoaded (event) {\n\n    //console.log('MultiModelExtensionBase.onExtensionLoaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when the model starts to load\n  // The geometry and instanceTree may not be available\n  // at this time\n  //\n  /////////////////////////////////////////////////////////\n  onModelBeginLoad (event) {\n\n    //console.log('MultiModelExtensionBase.onModelBeginLoad')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Triggered by ModelLoader extension when a model is\n  // selected in a multi-model environment\n  //\n  /////////////////////////////////////////////////////////\n  onModelActivated (event) {\n\n    //console.log('MultiModelExtensionBase.onModelActivated')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when model root node has been loaded\n  // Extensions that do require access to full\n  // model geometry or component tree may use that\n  // event to know a new model has been loaded\n  //\n  /////////////////////////////////////////////////////////\n  __onModelRootLoaded (event) {\n\n    this.viewerEvent([\n\n      Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,\n      Autodesk.Viewing.GEOMETRY_LOADED_EVENT\n\n    ]).then((args) => {\n\n      this.onModelCompletedLoad (args[0])\n    })\n  }\n\n  onModelRootLoaded (event) {\n\n    //console.log('MultiModelExtensionBase.onModelRootLoaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when object tree is fully loaded.\n  // Extensions that are interested in using the\n  // instanceTree need to use that event to make sure\n  // it is available\n  //\n  ////////////////////////////////////////////////////////\n  onObjectTreeCreated (event) {\n\n    //console.log('MultiModelExtensionBase.onObjectTreeCreated')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when geometry is fully loaded\n  //\n  /////////////////////////////////////////////////////////\n  onGeometryLoaded (event) {\n\n    //console.log('MultiModelExtensionBase.onGeometryLoaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked after onObjectTreeCreated and onGeometryLoaded\n  // have both been fired\n  //\n  /////////////////////////////////////////////////////////\n  onModelCompletedLoad (event) {\n\n    //console.log('MultiModelExtensionBase.onModelCompletedLoad')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked once the viewer toolbar has been created\n  //\n  /////////////////////////////////////////////////////////\n  onToolbarCreated (event) {\n\n    //console.log('MultiModelExtensionBase.onToolbarCreated')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Triggered by ModelLoader extension when a model has\n  // been unloaded as per user request\n  //\n  /////////////////////////////////////////////////////////\n  onModelUnloaded (event) {\n\n    //console.log('MultiModelExtensionBase.onModelUnloaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when a model is being selected\n  //\n  /////////////////////////////////////////////////////////\n  onSelection (event) {\n\n    //console.log('MultiModelExtensionBase.onSelection')\n  }\n\n  /////////////////////////////////////////////////////////\n  //Sink Events\n  //\n  /////////////////////////////////////////////////////////\n  __onModelLoaded (event) {\n\n    this.models = [...this.models, event.model]\n\n    this.onModelBeginLoad (event)\n  }\n\n  __onModelActivated (event) {\n\n    this.onModelActivated (event)\n  }\n\n  __onModelUnloaded (event) {\n\n    this.models = this.models.filter((model) => {\n\n      return model.guid !== event.model.guid\n    })\n\n    this.onModelUnloaded(event)\n  }\n\n  /////////////////////////////////////////////////////////\n  // Initialize all events for the extension\n  // Each event will invoke a predefined handler\n  // implemented or not by the derived extension\n  //\n  /////////////////////////////////////////////////////////\n  initializeEvents () {\n\n    if (this.options.eventSink) {\n\n      // event object passed in options\n      this.eventSink = this.options.eventSink\n\n      this.eventSink.on('model.loaded',\n        this.__onModelLoaded)\n\n      this.eventSink.on('model.activated',\n        this.__onModelActivated)\n\n      this.eventSink.on('model.unloaded',\n        this.__onModelUnloaded)\n    }\n\n    this.viewerEvents = [\n      {\n        id: Autodesk.Viewing.EXTENSION_LOADED_EVENT,\n        handler: 'onExtensionLoaded'\n      },\n      {\n        id: Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,\n        handler: 'onObjectTreeCreated'\n      },\n      {\n        id: Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,\n        handler: '__onModelRootLoaded'\n      },\n      {\n        id: Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,\n        handler: 'onModelRootLoaded'\n      },\n      {\n        id: Autodesk.Viewing.GEOMETRY_LOADED_EVENT,\n        handler: 'onGeometryLoaded'\n      },\n      {\n        id: Autodesk.Viewing.TOOLBAR_CREATED_EVENT,\n        handler: 'onToolbarCreated'\n      },\n      {\n        id: Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT,\n        handler: 'onSelection'\n      }\n    ]\n\n    this.viewerEvents.forEach((event) => {\n\n      this.viewerEvent(event.id, this[event.handler])\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  // Async viewer event\n  //\n  /////////////////////////////////////////////////////////\n  viewerEvent (eventId, handler) {\n\n    if (handler) {\n\n      this.viewer.addEventListener (eventId, handler)\n      return\n    }\n\n    const eventIdArray = Array.isArray(eventId)\n      ? eventId : [eventId]\n\n    const eventTasks = eventIdArray.map((id) => {\n      return new Promise ((resolve) => {\n        const __handler = (args) => {\n          this.viewer.removeEventListener (id, __handler)\n          resolve (args)\n        }\n        this.viewer.addEventListener (id, __handler)\n      })\n    })\n\n    return Promise.all (eventTasks)\n  }\n}\n","var superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","import PropTypes from 'prop-types'\nimport ReactDOM from 'react-dom'\nimport './WidgetContainer.scss'\nimport React from 'react'\n\nclass WidgetContainer extends React.Component {\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static propTypes = {\n    className: PropTypes.string,\n    showTitle: PropTypes.bool\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static defaultProps = {\n    showTitle: true,\n    className: ''\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  renderTitle () {\n\n    if (!this.props.showTitle) {\n\n      return <div/>\n    }\n\n    if (this.props.renderTitle) {\n\n      return this.props.renderTitle()\n    }\n\n    return (\n      <div className=\"title\">\n        <label>\n          { this.props.title }\n        </label>\n      </div>\n    )\n  }\n\n  ///////////////////////////////////////////////////////////////////\n  //\n  //\n  ///////////////////////////////////////////////////////////////////\n  renderChildren() {\n\n    if (this.props.dimensions) {\n\n      return React.Children.map(this.props.children, (child) => {\n\n        const newProps = Object.assign({},\n          child.props, {\n            dimensions: this.props.dimensions\n          })\n\n        return React.cloneElement(child, newProps)\n      })\n    }\n\n    return this.props.children\n  }\n\n  ///////////////////////////////////////////////////////////////////\n  //\n  //\n  ///////////////////////////////////////////////////////////////////\n  render() {\n\n    const classNames = [\n      'widget-container',\n      ...this.props.className.split(' ')\n    ]\n\n    const height = this.props.showTitle\n      ? 'calc(100% - 40px)'\n      : '100%'\n\n    return (\n      <div className={classNames.join(' ')} style={this.props.style}>\n         { this.renderTitle() }\n        <div className=\"content\" style={{height}}>\n          {this.renderChildren()}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default WidgetContainer\n","import WidgetContainer from './WidgetContainer'\n\nexport default WidgetContainer\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./WidgetContainer.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./WidgetContainer.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./WidgetContainer.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".widget-container {\\n  position: relative;\\n  height: 100%;\\n  width: 100%; }\\n\\n.widget-container > .title {\\n  border-bottom: 1px solid #cdcdcd;\\n  background-color: #f5f5f5;\\n  padding-right: 10px;\\n  color: black;\\n  position: relative;\\n  overflow: hidden;\\n  text-align: left;\\n  height: 40px;\\n  width: 100%; }\\n\\n.widget-container > .title > label {\\n  white-space: nowrap;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  margin-left: 27px;\\n  margin-top: 10px; }\\n\\n.widget-container > .content {\\n  position: relative;\\n  overflow: hidden;\\n  height: 100%;\\n  width: 100%; }\\n\", \"\"]);\n","import PropTypes from 'prop-types'\nimport DOMPurify from 'dompurify'\nimport ReactDOM from 'react-dom'\nimport React from 'react'\nimport './Label.scss'\n\nexport default class Label extends React.Component {\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static propTypes = {\n    textAlign: PropTypes.string,\n    className: PropTypes.string,\n    text: PropTypes.string\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static defaultProps = {\n    textAlign: 'left',\n    className: '',\n    text: ''\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  constructor (props) {\n\n    super (props)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  render () {\n\n    const classNames = [\n      'label-container',\n      ...this.props.className.split(' ')\n    ]\n\n    const style = {\n      width: this.props.textAlign === 'center'\n        ? '100%' : '',\n      textAlign: this.props.textAlign\n    }\n\n    return(\n      <div className={classNames.join(' ')}\n        style={style}>\n        <p>\n          { DOMPurify.sanitize(this.props.text) }\n        </p>\n      </div>\n    )\n  }\n}\n","import Label from './Label'\n\nexport default Label\n","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./Label.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./Label.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./Label.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".label-container {\\n  position: relative;\\n  overflow: hidden;\\n  font-size: 100%;\\n  color: #343434;\\n  height: 100%;\\n  float: left; }\\n\", \"\"]);\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","var debounce = require('./debounce'),\n    isObject = require('./isObject');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","import ScriptLoader from './ScriptLoader'\n\nexport default ScriptLoader\n","//import fetchInject from 'fetch-inject'\nimport React from 'react'\n\nexport default class ScriptLoader extends React.Component {\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  loadScript (url) {\n\n    return new Promise((resolve, reject) => {\n\n      const head = document.head ||\n        document.getElementsByTagName(\"head\")[0]\n\n      let script = document.createElement(\"script\")\n\n      script.type = \"text\\/javascript\"\n      script.async = true\n\n      script.onerror = (err) => reject(err)\n\n      script.onload = () => resolve ()\n\n      head.appendChild(script)\n\n      script.src = url\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  toArray (obj) {\n\n    return obj ? (Array.isArray(obj) ? obj : [obj]) : []\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  componentDidMount () {\n\n    const urls = this.toArray(this.props.url)\n\n    const loadTasks = urls.map((url) => {\n\n      return this.loadScript(url)\n    })\n\n    Promise.all(loadTasks).then(() => {\n\n      if (this.props.onLoaded) {\n\n        this.props.onLoaded()\n      }\n    }, (error) => {\n\n      if (this.props.onError) {\n\n        this.props.onError()\n      }\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  render () {\n\n    return <div/>\n  }\n}\n","'use strict';\n\nvar _require = require('./Component'),\n    CopyToClipboard = _require.CopyToClipboard;\n\nCopyToClipboard.CopyToClipboard = CopyToClipboard;\nmodule.exports = CopyToClipboard;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CopyToClipboard = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _copyToClipboard = require('copy-to-clipboard');\n\nvar _copyToClipboard2 = _interopRequireDefault(_copyToClipboard);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CopyToClipboard = exports.CopyToClipboard = function (_React$PureComponent) {\n  _inherits(CopyToClipboard, _React$PureComponent);\n\n  function CopyToClipboard() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, CopyToClipboard);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = CopyToClipboard.__proto__ || Object.getPrototypeOf(CopyToClipboard)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function (event) {\n      var _this$props = _this.props,\n          text = _this$props.text,\n          onCopy = _this$props.onCopy,\n          children = _this$props.children,\n          options = _this$props.options;\n\n\n      var elem = _react2.default.Children.only(children);\n\n      var result = (0, _copyToClipboard2.default)(text, options);\n\n      if (onCopy) {\n        onCopy(text, result);\n      }\n\n      // Bypass onClick if it was present\n      if (elem && elem.props && typeof elem.props.onClick === 'function') {\n        elem.props.onClick(event);\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(CopyToClipboard, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          _text = _props.text,\n          _onCopy = _props.onCopy,\n          _options = _props.options,\n          children = _props.children,\n          props = _objectWithoutProperties(_props, ['text', 'onCopy', 'options', 'children']);\n\n      var elem = _react2.default.Children.only(children);\n\n      return _react2.default.cloneElement(elem, _extends({}, props, { onClick: this.onClick }));\n    }\n  }]);\n\n  return CopyToClipboard;\n}(_react2.default.PureComponent);\n\nCopyToClipboard.defaultProps = {\n  onCopy: undefined,\n  options: undefined\n};","'use strict';\n\nvar deselectCurrent = require('toggle-selection');\n\nvar defaultMessage = 'Copy to clipboard: #{key}, Enter';\n\nfunction format(message) {\n  var copyKey = (/mac os x/i.test(navigator.userAgent) ? '⌘' : 'Ctrl') + '+C';\n  return message.replace(/#{\\s*key\\s*}/g, copyKey);\n}\n\nfunction copy(text, options) {\n  var debug, message, reselectPrevious, range, selection, mark, success = false;\n  if (!options) { options = {}; }\n  debug = options.debug || false;\n  try {\n    reselectPrevious = deselectCurrent();\n\n    range = document.createRange();\n    selection = document.getSelection();\n\n    mark = document.createElement('span');\n    mark.textContent = text;\n    // reset user styles for span element\n    mark.style.all = 'unset';\n    // prevents scrolling to the end of the page\n    mark.style.position = 'fixed';\n    mark.style.top = 0;\n    mark.style.clip = 'rect(0, 0, 0, 0)';\n    // used to preserve spaces and line breaks\n    mark.style.whiteSpace = 'pre';\n    // do not inherit user-select (it may be `none`)\n    mark.style.webkitUserSelect = 'text';\n    mark.style.MozUserSelect = 'text';\n    mark.style.msUserSelect = 'text';\n    mark.style.userSelect = 'text';\n\n    document.body.appendChild(mark);\n\n    range.selectNode(mark);\n    selection.addRange(range);\n\n    var successful = document.execCommand('copy');\n    if (!successful) {\n      throw new Error('copy command was unsuccessful');\n    }\n    success = true;\n  } catch (err) {\n    debug && console.error('unable to copy using execCommand: ', err);\n    debug && console.warn('trying IE specific stuff');\n    try {\n      window.clipboardData.setData('text', text);\n      success = true;\n    } catch (err) {\n      debug && console.error('unable to copy using clipboardData: ', err);\n      debug && console.error('falling back to prompt');\n      message = format('message' in options ? options.message : defaultMessage);\n      window.prompt(message, text);\n    }\n  } finally {\n    if (selection) {\n      if (typeof selection.removeRange == 'function') {\n        selection.removeRange(range);\n      } else {\n        selection.removeAllRanges();\n      }\n    }\n\n    if (mark) {\n      document.body.removeChild(mark);\n    }\n    reselectPrevious();\n  }\n\n  return success;\n}\n\nmodule.exports = copy;\n","\nmodule.exports = function () {\n  var selection = document.getSelection();\n  if (!selection.rangeCount) {\n    return function () {};\n  }\n  var active = document.activeElement;\n\n  var ranges = [];\n  for (var i = 0; i < selection.rangeCount; i++) {\n    ranges.push(selection.getRangeAt(i));\n  }\n\n  switch (active.tagName.toUpperCase()) { // .toUpperCase handles XHTML\n    case 'INPUT':\n    case 'TEXTAREA':\n      active.blur();\n      break;\n\n    default:\n      active = null;\n      break;\n  }\n\n  selection.removeAllRanges();\n  return function () {\n    selection.type === 'Caret' &&\n    selection.removeAllRanges();\n\n    if (!selection.rangeCount) {\n      ranges.forEach(function(range) {\n        selection.addRange(range);\n      });\n    }\n\n    active &&\n    active.focus();\n  };\n};\n","import template from './autodesk.math@vector3d-1.0.0.template.json'\nconst typeId = 'autodesk.math:vector3d-1.0.0', name = 'autodesk.math@vector3d'\nexport default {\ntypeId, name,\n  template\n}\n","import template from './autodesk.viewer@camera-1.0.0.template.json'\n\nconst typeId = 'autodesk.viewer:camera-1.0.0',name = 'autodesk.viewer@camera'\n\nexport default {\n  name, typeId,\n  template\n}\n"],"sourceRoot":""}