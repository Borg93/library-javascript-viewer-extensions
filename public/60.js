(window.webpackJsonp=window.webpackJsonp||[]).push([[60,107],{1354:function(e,t,n){var i=n(1355);"string"==typeof i&&(i=[[e.i,i,""]]);n(27)(i,{});i.locals&&(e.exports=i.locals)},1355:function(e,t,n){(e.exports=n(26)(!1)).push([e.i,'.selection-window .title {\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n  float: left; }\n\n.selection-window .title > label {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  white-space: nowrap;\n  font-weight: normal;\n  user-select: none;\n  margin-left: 27px;\n  margin-top: 10px;\n  select: none;\n  width: 144px;\n  float: left; }\n\n.selection-window .content {\n  overflow-y: scroll;\n  overflow-x: hidden;\n  height: 100%; }\n  .selection-window .content .row {\n    padding: 10px;\n    width: 100%;\n    margin: 0; }\n    .selection-window .content .row .label-container {\n      margin: 4px 0 0 20px; }\n  .selection-window .content button.active {\n    border: 2px solid #FF9800; }\n  .selection-window .content button.active > span {\n    color: #FF9800; }\n  .selection-window .content button > span {\n    position: relative;\n    font-size: 16px;\n    color: #9b9b9b; }\n  .selection-window .content button:disabled > span {\n    color: #d0d0d0; }\n  .selection-window .content button:hover:not(:disabled) > span {\n    color: #FF9800; }\n  .selection-window .content button:disabled > span {\n    color: #d0d0d0; }\n  .selection-window .content .select-btn {\n    background: whitesmoke;\n    border-radius: 4px;\n    outline: none;\n    float: left; }\n    .selection-window .content .select-btn span {\n      margin-right: 6px;\n      top: 1px; }\n  .selection-window .content .switch-container {\n    border: 1px solid #9c9c9c;\n    border-radius: 12px;\n    margin: 5px 0 0 6px;\n    float: left; }\n  .selection-window .content input[type="checkbox"].switch + div {\n    width: 34px;\n    height: 16px; }\n  .selection-window .content input[type="checkbox"].switch:checked + div {\n    width: 34px; }\n  .selection-window .content input[type="checkbox"].switch:checked + div > div {\n    transform: translate3d(18px, 0, 0); }\n  .selection-window .content input[type="checkbox"].switch + div > div {\n    height: 16px;\n    width: 16px;\n    margin: 0; }\n  .selection-window .content .selection-tree-container {\n    height: calc(100% - 55px); }\n\n.selection-window-controls {\n  margin: auto 0 auto calc(100% - 152px);\n  position: relative;\n  float: left; }\n\n.selection-window-controls > button {\n  border: 1px solid #c6c6c6;\n  background-color: #e1e1e1;\n  border-radius: 6px;\n  position: relative;\n  overflow: hidden;\n  outline: none;\n  height: 24px;\n  width: 26px; }\n\n.selection-window-controls > button:hover {\n  border: 1px solid #878787;\n  background-color: #f5f5f5; }\n\n.selection-window-controls > button > label {\n  position: relative;\n  font-size: 20px;\n  color: #f0fcff;\n  top: -8px; }\n\n.selection-window-controls > button > span {\n  pointer-events: none;\n  color: #9b9b9b; }\n',""])},1401:function(e,t,n){"use strict";n.r(t);n(1354);var i=n(30),o=n.n(i),r=n(43),s=n.n(r),a=n(2),c=n.n(a),l=n(3),d=n.n(l),u=n(5),h=n.n(u),p=n(50),v=n.n(p),m=n(4),A=n.n(m),g=n(460),f=n.n(g),w=n(6),E=n.n(w),y=n(120),x=n.n(y),k=new THREE.Vector3,b=new THREE.Vector3,T=new THREE.Vector3,C=0;function R(e,t,n,i,o,r,s,a,c,l,d){var u=a.x*(a.x>0?t:o)+a.y*(a.y>0?n:r)+a.z*(a.z>0?i:s),h=a.x*(a.x>0?o:t)+a.y*(a.y>0?r:n)+a.z*(a.z>0?s:i),p=a.x*c.x+a.y*c.y+a.z*c.z,v=a.x*l.x+a.y*l.y+a.z*l.z,m=a.x*d.x+a.y*d.y+a.z*d.z,A=Math.min(p,v,m),g=Math.max(p,v,m);if(0===e)return u>g||h<A;var f=1/a.length();isFinite(f)&&(C=Math.min(C,(g-u)*f,(h-A)*f))}function S(e,t,n,i,o,r,s,a,c,l,d,u){switch(u.subVectors(c,l),a){case 0:u.set(0,-u.z,u.y);break;case 1:u.set(-u.z,0,u.x);break;case 2:u.set(-u.y,u.x,0)}return R(e,t,n,i,o,r,s,u,c,l,d)}var M=function(e,t){for(var n=e.faces,i=e.vertices,o=t.min.x,r=t.min.y,s=t.min.z,a=t.max.x,c=t.max.y,l=t.max.z,d=[],u=0;u<n.length;++u){var h=n[u],p=i[h.a],v=i[h.b],m=i[h.c],A=Math.min(p.x,v.x,m.x),g=Math.min(p.y,v.y,m.y),f=Math.min(p.z,v.z,m.z),w=Math.max(p.x,v.x,m.x),E=Math.max(p.y,v.y,m.y),y=Math.max(p.z,v.z,m.z);A>a||g>c||f>l||w<o||E<r||y<s||(b.subVectors(v,p),T.subVectors(m,p),k.crossVectors(b,T),R(0,o,r,s,a,c,l,k,p,v,m)||S(0,o,r,s,a,c,l,0,p,v,m,b)||S(0,o,r,s,a,c,l,0,p,m,v,b)||S(0,o,r,s,a,c,l,0,v,m,p,b)||S(0,o,r,s,a,c,l,1,p,v,m,b)||S(0,o,r,s,a,c,l,1,p,m,v,b)||S(0,o,r,s,a,c,l,1,v,m,p,b)||S(0,o,r,s,a,c,l,2,p,v,m,b)||S(0,o,r,s,a,c,l,2,p,m,v,b)||S(0,o,r,s,a,c,l,2,v,m,p,b)||(C=1/0,R(1,o,r,s,a,c,l,k,p,v,m),S(1,o,r,s,a,c,l,0,p,v,m,b),S(1,o,r,s,a,c,l,0,p,m,v,b),S(1,o,r,s,a,c,l,0,v,m,p,b),S(1,o,r,s,a,c,l,1,p,v,m,b),S(1,o,r,s,a,c,l,1,p,m,v,b),S(1,o,r,s,a,c,l,1,v,m,p,b),S(1,o,r,s,a,c,l,2,p,v,m,b),S(1,o,r,s,a,c,l,2,p,m,v,b),S(1,o,r,s,a,c,l,2,v,m,p,b),d.push({faceIndex:u,depth:C})))}return d},N=n(466),L=function(){function e(t){c()(this,e),this.viewer=t}var t,n;return d()(e,[{key:"setModel",value:(n=s()(o.a.mark(function e(t){var n,i,r,s,a=this;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.model=t,n=t.getData().instanceTree,i=n.getRootId(),e.next=5,this.getComponentBoundingBox(t,i);case 5:return r=e.sent,this.boundingSphere=r.getBoundingSphere(),e.next=9,N.a.getLeafNodes(t);case 9:s=e.sent,this.boundingBoxInfo=s.map(function(e){return{bbox:a.getLeafComponentBoundingBox(t,e),dbId:e}});case 11:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"getModifiedWorldBoundingBox",value:function(e,t){var n=new THREE.Box3,i=new THREE.Box3;return e.forEach(function(e){t.getWorldBounds(e,n),i.union(n)}),i}},{key:"getComponentBoundingBox",value:(t=s()(o.a.mark(function e(t,n){var i,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.getFragIds(t,n);case 2:return i=e.sent,r=t.getFragmentList(),e.abrupt("return",this.getModifiedWorldBoundingBox(i,r));case 5:case"end":return e.stop()}},e,this)})),function(e,n){return t.apply(this,arguments)})},{key:"getLeafComponentBoundingBox",value:function(e,t){var n=N.a.getLeafFragIds(e,t),i=e.getFragmentList();return this.getModifiedWorldBoundingBox(n,i)}},{key:"pointerToRay",value:function(e){var t=this.viewer.navigation.getCamera(),n=new THREE.Vector3,i=new THREE.Raycaster,o=new THREE.Vector3,r=this.viewer.canvas.getBoundingClientRect(),s=(e.clientX-r.left)/r.width*2-1,a=-(e.clientY-r.top)/r.height*2+1;return t.isPerspective?(n.set(s,a,.5),n.unproject(t),i.set(t.position,n.sub(t.position).normalize())):(n.set(s,a,-15),n.unproject(t),o.set(0,0,-1),i.set(n,o.transformDirection(t.matrixWorld))),i.ray}},{key:"containsBox",value:function(e,t){for(var n=t.min,i=t.max,o=0,r=[new THREE.Vector3(n.x,n.y,n.z),new THREE.Vector3(n.x,n.y,i.z),new THREE.Vector3(n.x,i.y,i.z),new THREE.Vector3(i.x,i.y,i.z),new THREE.Vector3(i.x,i.y,n.z),new THREE.Vector3(i.x,n.y,n.z),new THREE.Vector3(n.x,i.y,n.z),new THREE.Vector3(i.x,n.y,i.z)];o<r.length;o++){var s=r[o],a=!0,c=!1,l=void 0;try{for(var d,u=e[Symbol.iterator]();!(a=(d=u.next()).done);a=!0){if(d.value.distanceToPoint(s)<0)return!1}}catch(e){c=!0,l=e}finally{try{a||null==u.return||u.return()}finally{if(c)throw l}}}return!0}},{key:"containsVertex",value:function(e,t){var n=!0,i=!1,o=void 0;try{for(var r,s=t[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var a=r.value,c=!0,l=!0,d=!1,u=void 0;try{for(var h,p=e[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){if(h.value.distanceToPoint(a)<0){c=!1;break}}}catch(e){d=!0,u=e}finally{try{l||null==p.return||p.return()}finally{if(d)throw u}}if(c)return!0}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return!1}},{key:"getCameraPlane",value:function(){var e=this.viewer.navigation.getCamera(),t=e.target.clone().sub(e.position).normalize(),n=e.position,i=-t.x*n.x-t.y*n.y-t.z*n.z;return new THREE.Plane(t,i)}},{key:"createPyramidGeometry",value:function(e){var t=new THREE.Geometry;return t.vertices=e,t.faces=[new THREE.Face3(0,1,2),new THREE.Face3(0,2,3),new THREE.Face3(1,0,4),new THREE.Face3(2,1,4),new THREE.Face3(3,2,4),new THREE.Face3(0,3,4)],t}},{key:"filterBoundingBoxes",value:function(e,t,n){var i=this.createPyramidGeometry(t),o=[],r=[],s=[],a=!0,c=!1,l=void 0;try{for(var d,u=this.boundingBoxInfo[Symbol.iterator]();!(a=(d=u.next()).done);a=!0){var h=d.value;if(this.containsBox(e,h.bbox))s.push(h);else if(n){M(i,h.bbox).length?o.push(h):r.push(h)}else r.push(h)}}catch(e){c=!0,l=e}finally{try{a||null==u.return||u.return()}finally{if(c)throw l}}return{intersect:o,outside:r,inside:s}}},{key:"compute",value:function(e,t,n){var i=Math.min(e.clientX,t.clientX),o=Math.max(e.clientX,t.clientX),r=Math.min(e.clientY,t.clientY),s=Math.max(e.clientY,t.clientY),a=this.pointerToRay({clientX:i,clientY:r}),c=this.pointerToRay({clientX:o,clientY:r}),l=this.pointerToRay({clientX:o,clientY:s}),d=this.pointerToRay({clientX:i,clientY:s}),u=new THREE.Vector3(0,0,0);u.add(a.origin),u.add(c.origin),u.add(l.origin),u.add(d.origin),u.multiplyScalar(.25);var h=this.boundingSphere,p=h.center,v=h.radius+new THREE.Vector3(u.x-p.x,u.y-p.y,u.z-p.z).length(),m=a.direction.angleTo(c.direction),A=v/Math.cos(.5*m),g=new THREE.Vector3(a.origin.x+a.direction.x*A,a.origin.y+a.direction.y*A,a.origin.z+a.direction.z*A),f=new THREE.Vector3(c.origin.x+c.direction.x*A,c.origin.y+c.direction.y*A,c.origin.z+c.direction.z*A),w=new THREE.Vector3(l.origin.x+l.direction.x*A,l.origin.y+l.direction.y*A,l.origin.z+l.direction.z*A),E=new THREE.Vector3(d.origin.x+d.direction.x*A,d.origin.y+d.direction.y*A,d.origin.z+d.direction.z*A),y=new THREE.Plane,k=new THREE.Plane,b=new THREE.Plane,T=new THREE.Plane,C=new THREE.Plane;y.setFromCoplanarPoints(u,g,f),k.setFromCoplanarPoints(u,f,w),b.setFromCoplanarPoints(u,w,E),T.setFromCoplanarPoints(u,E,g),C.setFromCoplanarPoints(w,f,g);var R=[y,k,b,T,C],S=[g,f,w,E,u],M=this.filterBoundingBoxes(R,S,n),N=M.inside.map(function(e){return e.dbId});if(n){var L=M.intersect.map(function(e){return e.dbId});return[].concat(x()(N),x()(L))}return N}}]),e}(),B=n(121),G="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAADWSURBVEiJ1ZVNEsIwCEYfTg/UjTPuemcvojfCRRMlNKGdKguZyaLkK4/8EERVybQJQERCUU3C63p+n/Bk9QHDRtbIX2GqKh6woRfxLdL0/M1KzYRaA+7AXDW9wN5fvrXEWud6AOABLD7QwREDgCdw7WV6ZjSAsi0Lzn4JmEcHeHbYWxQXw3FTEWmvaWY1X9Iie4CIKHE1fwfIsnSAZD/X/79FGbdISyzA9QMDG3axTTTVwx3NaNbm5B2dRHY1DWCUyd4qIs0bUB8nuz32/11Cu+KPM7sOXlrOS4sOkzb1AAAAAElFTkSuQmCC), auto",D="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAgVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8mJiYAAADNzc2/v7+fn59paWlPT08MDAwICAj6+vqpqak7Ozv29vby8vLp6em2traAgIBkZGRZWVlAQEAaGhpISEgkS7tbAAAAFHRSTlMAOvhpZD8mkQWegMy9qY1YVE01EYiqlE0AAADZSURBVCjPbY9ZloMgEAAbEbfsmRZZXbJn7n/AAX2RQVN/VD26AXLOeZLDGo6IbfI9tHq8cdxuj1HwvgCoaiHqKoRk+M3hB9jueUW8PnfsE/bJ3vms7nCkq7NoE3s99AXxoh8vFoXCpknrn5faAuJCenT0xPkYqnxQFJaU0gdZrsKm8aHZrAIffBj40mc1jsTfIJRWegq6opTMvlfqLqYg7kr1ZB7jFgeaMC59N//8O4WZ1IiPF8b5wMHcJn8zB4g4mc77zpxgAbMSUVoGK4iV0hL4wrksz+H0Bw5+E+HrniDQAAAAAElFTkSuQmCC), auto",V="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAABHVBMVEUAAABPTk4AAAAAAAAJCQkRERE0MzQQEBAODg4QEBB4d3dbWlo9PDw/Pj4vLy8sLCwZGBgWFhYcHBwKCgoSEhIAAAAKCgoICAgKCgoQEBAODg4EBAQICAgPDw8REREMDAx2dnY0NDQvLy9QUFAaGhomJSYjIyM7OjokJCQNDA0mJiYNDQ0AAAAUFBQJCQkQEBAEBAQNDQ0PDw8VFRX///+amJkAAAD5+fnz8/PKycn9/f339vbi4eLR0dDNzMyAgIB8e3xycHH7+/vw7+/o6OjX1ta7urq4t7iwsLCnp6eioqKbmppva21OTk74+Pjl5eXc3Nzb29vLy8vDw8PDwsKrqqqdnZ2WlpaSkpKTkZKMiouEg4NkZGRISEgxLzBpgbsEAAAANHRSTlMA+fiQXgngKSYG/vX17uvBuqackpCNg3BpUkpAPBwTDvj18+vl0s/NwrOwoZZ+TDg4NBkBGrzX8QAAAP5JREFUKM99j9Vuw0AQRdeuKZyGkyZNmbnXDLHDVGb8/8/oy7paK1bO0+oc7WiGnGiaxq+QRTQAOh8f9Jv4H/Ge8PZPrCdlvkxfYluUT2WyyCq3mZ7unwlKVLcqOzA/Mf71j0TWJ/Ym6rPeca05Ni4iIevYc7yoUD2zQFhq71BdI9nvBeBabFDSPe8DswlUc1Riw3VxbH0NHBUPQ0jrbDnPYDjALQBMq9E7nkC5y7VDKTZlUg8Q0lmjvl74zlYErgvKa42GPKf3/a0kQmYCDY1SYMDosqMoiWrGwz/uAbNvc/fNon4kXRKGq+PUo2Mb96afV0iUxqGU2s4VBbKUP65NL/LKF+7ZAAAAAElFTkSuQmCC), auto",z=function(e){function t(e){var n;return c()(this,t),(n=h()(this,A()(t).call(this))).onResize=n.onResize.bind(v()(n)),n.selectSet=new L(e),n.partialSelect=!1,n.materialLine=null,n.isDragging=!1,n.crossGeomX=null,n.crossGeomY=null,n.isActive=!1,n.rectGroup=null,n.lineGeom=null,n.viewer=e,n}return E()(t,e),d()(t,[{key:"getNames",value:function(){return["selectionWindowTool"]}},{key:"getName",value:function(){return"selectionWindowTool"}},{key:"getPriority",value:function(){return 1e3}},{key:"onResize",value:function(){var e=this.viewer.impl.overlayScenes.selectionWindowOverlay;if(e){var t=this.viewer.canvas,n=new THREE.OrthographicCamera(0,t.clientWidth,0,t.clientHeight,1,1e3);e.camera=n}this.rectGroup=null}},{key:"setModel",value:function(e){this.isActive&&(this.model=e,this.selectSet.setModel(e))}},{key:"setPartialSelect",value:function(e){this.partialSelect=e}},{key:"activate",value:function(){if(!this.isActive){this.viewer.clearSelection(),this.model=this.viewer.activeModel||this.viewer.model,this.selectSet.setModel(this.model),this.materialLine=new THREE.LineBasicMaterial({color:new THREE.Color(255),linewidth:.5,opacity:.6}),this.mouseStart=new THREE.Vector3(0,0,-10),this.mouseEnd=new THREE.Vector3(0,0,-10);var e=this.viewer.canvas,t=new THREE.OrthographicCamera(0,e.clientWidth,0,e.clientHeight,1,1e3);this.viewer.impl.createOverlayScene("selectionWindowOverlay",this.materialLine,this.materialLine,t),this.viewer.impl.api.addEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT,this.onResize),this.isActive=!0,this.emit("activate")}}},{key:"deactivate",value:function(){this.isActive&&(this.viewer.impl.removeOverlayScene("selectionWindowOverlay"),this.mouseStart.set(0,0,-10),this.mouseEnd.set(0,0,-10),this.isDragging=!1,this.isActive=!1,this.rectGroup=null,this.viewer.impl.api.removeEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT,this.onResize),this.viewer.toolController.deactivateTool(this.getName()),this.emit("deactivate"))}},{key:"getCursor",value:function(){switch(this.viewer.toolController.getTool("dolly").getTriggeredMode()){case"dolly":return D;case"pan":return V}return G}},{key:"handleGesture",value:function(e){return!0}},{key:"handleSingleClick",value:function(e,t){return!0}},{key:"handleButtonDown",value:function(e,t){return 0===t&&(this.startDrag(e),!0)}},{key:"handleMouseMove",value:function(e){return!(!this.lineGeom||!this.isDragging)&&(this.pointerEnd=e.pointers?e.pointers[0]:e,this.mouseEnd.x=e.canvasX,this.mouseEnd.y=e.canvasY,!0)}},{key:"handleButtonUp",value:function(e,t){return 0===t&&(this.endDrag(),!0)}},{key:"handleKeyDown",value:function(e,t){return 27===t&&this.deactivate(),!1}},{key:"startDrag",value:function(e){if(!1===this.isDragging){if(this.pointerStart=e.pointers?e.pointers[0]:e,this.isDragging=!0,this.mouseStart.x=e.canvasX,this.mouseStart.y=e.canvasY,this.mouseEnd.x=e.canvasX,this.mouseEnd.y=e.canvasY,null===this.rectGroup){this.lineGeom=new THREE.Geometry,this.lineGeom.vertices.push(this.mouseStart.clone(),this.mouseStart.clone(),this.mouseStart.clone(),this.mouseStart.clone(),this.mouseStart.clone()),this.crossGeomX=new THREE.Geometry,this.crossGeomX.vertices.push(this.mouseStart.clone(),this.mouseStart.clone()),this.crossGeomY=new THREE.Geometry,this.crossGeomY.vertices.push(this.mouseStart.clone(),this.mouseStart.clone());var t=new THREE.Line(this.lineGeom,this.materialLine,THREE.LineStrip),n=new THREE.Line(this.crossGeomX,this.materialLine,THREE.LineStrip),i=new THREE.Line(this.crossGeomY,this.materialLine,THREE.LineStrip);this.rectGroup=new THREE.Group,this.rectGroup.add(t),this.rectGroup.add(n),this.rectGroup.add(i)}else this.lineGeom.vertices[0]=this.mouseStart.clone(),this.lineGeom.vertices[1]=this.mouseStart.clone(),this.lineGeom.vertices[2]=this.mouseStart.clone(),this.lineGeom.vertices[3]=this.mouseStart.clone(),this.lineGeom.vertices[4]=this.mouseStart.clone(),this.crossGeomX.vertices[0]=this.mouseStart.clone(),this.crossGeomX.vertices[1]=this.mouseStart.clone(),this.crossGeomY.vertices[0]=this.mouseStart.clone(),this.crossGeomY.vertices[1]=this.mouseStart.clone(),this.crossGeomX.verticesNeedUpdate=!0,this.crossGeomY.verticesNeedUpdate=!0,this.lineGeom.verticesNeedUpdate=!0;this.viewer.impl.addOverlay("selectionWindowOverlay",this.rectGroup)}}},{key:"endDrag",value:function(){!0===this.isDragging&&(this.viewer.impl.removeOverlay("selectionWindowOverlay",this.rectGroup),this.isDragging=!1)}},{key:"update",value:function(){if(this.isActive){if(!this.lineGeom||!this.isDragging)return this.select();this.lineGeom.vertices[1].x=this.mouseStart.x,this.lineGeom.vertices[1].y=this.mouseEnd.y,this.lineGeom.vertices[2]=this.mouseEnd.clone(),this.lineGeom.vertices[3].x=this.mouseEnd.x,this.lineGeom.vertices[3].y=this.mouseStart.y,this.lineGeom.vertices[4]=this.lineGeom.vertices[0];var e=Math.abs(this.mouseEnd.x-this.mouseStart.x),t=Math.abs(this.mouseEnd.y-this.mouseStart.y),n=e>t?t:e;n>20&&(n=20);var i=.5*n,o=[.5*(this.mouseEnd.x+this.mouseStart.x),.5*(this.mouseEnd.y+this.mouseStart.y)];return this.crossGeomX.vertices[0].x=o[0]-i,this.crossGeomX.vertices[0].y=o[1],this.crossGeomX.vertices[1].x=o[0]+i,this.crossGeomX.vertices[1].y=o[1],this.crossGeomY.vertices[0].x=o[0],this.crossGeomY.vertices[0].y=o[1]-i,this.crossGeomY.vertices[1].x=o[0],this.crossGeomY.vertices[1].y=o[1]+i,this.crossGeomX.verticesNeedUpdate=!0,this.crossGeomY.verticesNeedUpdate=!0,this.lineGeom.verticesNeedUpdate=!0,this.viewer.impl.invalidate(!1,!1,!0),!1}}},{key:"select",value:function(){var e=this.mouseStart.x,t=this.mouseStart.y,n=this.mouseEnd.x,i=this.mouseEnd.y,o=Math.abs(i-t);if(0===Math.abs(n-e)||0===o)return!1;var r=this.selectSet.compute(this.pointerStart,this.pointerEnd,this.partialSelect);return this.emit("selection",{model:this.model,guid:this.guid(),dbIds:r}),this.deactivate(),!0}}]),t}(B.a),H=n(458),I=n(902),O=n(461),W=n(122),Y=(n(29),n(475)),P=n(464),X=n(0),U=n.n(X),j=function(e){function t(e,n){var i;return c()(this,t),(i=h()(this,A()(t).call(this,e,n))).setPartialSelect=i.setPartialSelect.bind(v()(i)),i.onNodeDblClicked=i.onNodeDblClicked.bind(v()(i)),i.onNodeClicked=i.onNodeClicked.bind(v()(i)),i.renderTitle=i.renderTitle.bind(v()(i)),i.react=n.react,i}var n,i;return E()(t,e),d()(t,[{key:"load",value:function(){var e=this;return this.react.setState({showLoader:!0,selection:null,active:!1}).then(function(){e.react.pushRenderExtension(e)}),this.viewer.loadDynamicExtension("Viewing.Extension.ContextMenu",{buildMenu:function(t){return t.map(function(t){return"show all objects"===t.title.toLowerCase()?{title:"Show All objects",target:function(){N.a.isolateFull(e.viewer),e.viewer.fitToView()}}:t})}}),console.log("Viewing.Extension.SelectionWindow loaded"),!0}},{key:"unload",value:function(){return console.log("Viewing.Extension.SelectionWindow unloaded"),this.selectionWindowTool.off(),f()(A()(t.prototype),"unload",this).call(this),!0}},{key:"onModelRootLoaded",value:function(){var e=this;this.selectionWindowTool=new z(this.viewer),this.selectionWindowTool.on("deactivate",function(){e.react.setState({active:!1})}),this.selectionWindowTool.on("activate",function(){e.react.setState({active:!0})}),this.selectionWindowTool.on("selection",function(t){e.viewer.impl.selector.setSelection(t.dbIds,t.model),e.react.setState({selection:t})}),this.viewer.toolController.registerTool(this.selectionWindowTool),this.react.setState({showLoader:!1})}},{key:"onModelActivated",value:function(e){this.selectionWindowTool.setModel(e.model)}},{key:"setPartialSelect",value:function(e){this.selectionWindowTool.setPartialSelect(e)}},{key:"startSelection",value:(i=s()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.react.setState({selection:null});case 2:this.viewer.toolController.activateTool(this.selectionWindowTool.getName());case 3:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"setDocking",value:(n=s()(o.a.mark(function e(n){var i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.ExtensionId,!n){e.next=7;break}return e.next=4,this.react.popRenderExtension(i);case 4:this.react.pushViewerPanel(this,{height:250,width:350}),e.next=10;break;case 7:return e.next=9,this.react.popViewerPanel(i);case 9:this.react.pushRenderExtension(this);case 10:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"onNodeClicked",value:function(e){var t=e.model;if(t)switch(e.type){case"component":this.viewer.impl.selector.setSelection([e.id],t);break;case"root":this.viewer.impl.selector.setSelection(e.props.childIds,t)}}},{key:"onNodeDblClicked",value:function(e){var t=e.model;if(t)switch(e.type){case"component":t.visibilityManager.isolate(e.id),N.a.isolateFull(this.viewer,e.id,t);break;case"root":t.visibilityManager.isolate(e.props.childIds),N.a.isolateFull(this.viewer,e.props.childIds,t),this.viewer.fitToView(e.props.childIds,t)}}},{key:"renderTitle",value:function(e){var t=this,n=e?"fa fa-chain-broken":"fa fa-chain";return U.a.createElement("div",{className:"title"},U.a.createElement("label",null,"Selection Window"),U.a.createElement("div",{className:"selection-window-controls"},U.a.createElement("button",{onClick:function(){return t.setDocking(e)},title:"Toggle docking mode"},U.a.createElement("span",{className:n}))))}},{key:"renderContent",value:function(){var e=this,t=this.react.getState(),n=t.active,i=t.showLoader,o=t.selection;return U.a.createElement("div",{className:"content"},U.a.createElement(W.b,{show:i}),U.a.createElement("div",{className:"row"},U.a.createElement("button",{onClick:function(){return e.startSelection()},className:"select-btn ".concat(n?"active":"")},U.a.createElement("span",{className:"fa fa-object-group"}),"Select ..."),U.a.createElement(P.a,{text:"Partial Selection: "}),U.a.createElement(Y.a,{onChange:this.setPartialSelect,checked:!1})),U.a.createElement("div",{className:"selection-tree-container"},U.a.createElement(I.default,{onNodeDblClicked:this.onNodeDblClicked,onNodeClicked:this.onNodeClicked,selection:o})))}},{key:"render",value:function(e){var t=this;return U.a.createElement(O.a,{renderTitle:function(){return t.renderTitle(e.docked)},showTitle:e.showTitle,className:this.className},this.renderContent())}},{key:"className",get:function(){return"selection-window"}}],[{key:"ExtensionId",get:function(){return"Viewing.Extension.SelectionWindow"}}]),t}(H.a);Autodesk.Viewing.theExtensionManager.registerExtension(j.ExtensionId,j);t.default="Viewing.Extension.SelectionWindow"},458:function(e,t,n){"use strict";var i=n(459);t.a=i.a},459:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return g});var i=n(120),o=n.n(i),r=n(2),s=n.n(r),a=n(3),c=n.n(a),l=n(5),d=n.n(l),u=n(4),h=n.n(u),p=n(50),v=n.n(p),m=n(6),A=n.n(m),g=function(t){function n(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};s()(this,n),t=d()(this,h()(n).call(this,e)),Object.assign(v()(t),i.serviceContext),t.onModelCompletedLoad=t.onModelCompletedLoad.bind(v()(t)),t.onObjectTreeCreated=t.onObjectTreeCreated.bind(v()(t)),t.onModelRootLoaded=t.onModelRootLoaded.bind(v()(t)),t.onExtensionLoaded=t.onExtensionLoaded.bind(v()(t)),t.onModelActivated=t.onModelActivated.bind(v()(t)),t.onGeometryLoaded=t.onGeometryLoaded.bind(v()(t)),t.onToolbarCreated=t.onToolbarCreated.bind(v()(t)),t.onModelBeginLoad=t.onModelBeginLoad.bind(v()(t)),t.onModelUnloaded=t.onModelUnloaded.bind(v()(t)),t.onSelection=t.onSelection.bind(v()(t)),t.__onModelRootLoaded=t.__onModelRootLoaded.bind(v()(t)),t.__onModelActivated=t.__onModelActivated.bind(v()(t)),t.__onModelUnloaded=t.__onModelUnloaded.bind(v()(t)),t.__onModelLoaded=t.__onModelLoaded.bind(v()(t)),t.defaultOptions=o,t.options=Object.assign({},o,i),t.viewer=e;var r=e.impl.modelQueue().getModels();return t.models=r.map(function(e){return e.guid=e.guid||t.guid(),e}),t.initializeEvents(),t}return A()(n,t),c()(n,[{key:"load",value:function(){return!0}},{key:"unload",value:function(){var e=this;return this.viewerEvents.forEach(function(t){e.viewer.removeEventListener(t.id,e[t.handler])}),this.eventSink&&(this.eventSink.off("model.activated",this.__onModelActivated),this.eventSink.off("model.unloaded",this.__onModelUnloaded),this.eventSink.off("model.loaded",this.__onModelLoaded)),this.off(),!0}},{key:"reload",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.options=Object.assign({},this.defaultOptions,this.options,e),!0}},{key:"onExtensionLoaded",value:function(e){}},{key:"onModelBeginLoad",value:function(e){}},{key:"onModelActivated",value:function(e){}},{key:"__onModelRootLoaded",value:function(e){var t=this;this.viewerEvent([Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,Autodesk.Viewing.GEOMETRY_LOADED_EVENT]).then(function(e){t.onModelCompletedLoad(e[0])})}},{key:"onModelRootLoaded",value:function(e){}},{key:"onObjectTreeCreated",value:function(e){}},{key:"onGeometryLoaded",value:function(e){}},{key:"onModelCompletedLoad",value:function(e){}},{key:"onToolbarCreated",value:function(e){}},{key:"onModelUnloaded",value:function(e){}},{key:"onSelection",value:function(e){}},{key:"__onModelLoaded",value:function(e){this.models=[].concat(o()(this.models),[e.model]),this.onModelBeginLoad(e)}},{key:"__onModelActivated",value:function(e){this.onModelActivated(e)}},{key:"__onModelUnloaded",value:function(e){this.models=this.models.filter(function(t){return t.guid!==e.model.guid}),this.onModelUnloaded(e)}},{key:"initializeEvents",value:function(){var e=this;this.options.eventSink&&(this.eventSink=this.options.eventSink,this.eventSink.on("model.loaded",this.__onModelLoaded),this.eventSink.on("model.activated",this.__onModelActivated),this.eventSink.on("model.unloaded",this.__onModelUnloaded)),this.viewerEvents=[{id:Autodesk.Viewing.EXTENSION_LOADED_EVENT,handler:"onExtensionLoaded"},{id:Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,handler:"onObjectTreeCreated"},{id:Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,handler:"__onModelRootLoaded"},{id:Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,handler:"onModelRootLoaded"},{id:Autodesk.Viewing.GEOMETRY_LOADED_EVENT,handler:"onGeometryLoaded"},{id:Autodesk.Viewing.TOOLBAR_CREATED_EVENT,handler:"onToolbarCreated"},{id:Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT,handler:"onSelection"}],this.viewerEvents.forEach(function(t){e.viewerEvent(t.id,e[t.handler])})}},{key:"viewerEvent",value:function(t,n){var i=this;if(!n){var o=(Array.isArray(t)?t:[t]).map(function(t){return new e(function(e){i.viewer.addEventListener(t,function n(o){i.viewer.removeEventListener(t,n),e(o)})})});return e.all(o)}this.viewer.addEventListener(t,n)}}],[{key:"ExtensionId",get:function(){return"Viewing.Extension.MultiModelExtensionBase"}}]),n}(n(121).a.Composer(Autodesk.Viewing.Extension))}).call(this,n(31))},460:function(e,t,n){var i=n(465);function o(t,n,r){return"undefined"!=typeof Reflect&&Reflect.get?e.exports=o=Reflect.get:e.exports=o=function(e,t,n){var o=i(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}},o(t,n,r||t)}e.exports=o},461:function(e,t,n){"use strict";var i=n(120),o=n.n(i),r=n(2),s=n.n(r),a=n(3),c=n.n(a),l=n(5),d=n.n(l),u=n(4),h=n.n(u),p=n(6),v=n.n(p),m=n(17),A=n.n(m),g=n(1),f=n.n(g),w=(n(29),n(462),n(0)),E=n.n(w),y=function(e){function t(){return s()(this,t),d()(this,h()(t).apply(this,arguments))}return v()(t,e),c()(t,[{key:"renderTitle",value:function(){return this.props.showTitle?this.props.renderTitle?this.props.renderTitle():E.a.createElement("div",{className:"title"},E.a.createElement("label",null,this.props.title)):E.a.createElement("div",null)}},{key:"renderChildren",value:function(){var e=this;return this.props.dimensions?E.a.Children.map(this.props.children,function(t){var n=Object.assign({},t.props,{dimensions:e.props.dimensions});return E.a.cloneElement(t,n)}):this.props.children}},{key:"render",value:function(){var e=["widget-container"].concat(o()(this.props.className.split(" "))),t=this.props.showTitle?"calc(100% - 40px)":"100%";return E.a.createElement("div",{className:e.join(" "),style:this.props.style},this.renderTitle(),E.a.createElement("div",{className:"content",style:{height:t}},this.renderChildren()))}}]),t}(E.a.Component);A()(y,"propTypes",{className:f.a.string,showTitle:f.a.bool}),A()(y,"defaultProps",{showTitle:!0,className:""});var x=y;t.a=x},462:function(e,t,n){var i=n(463);"string"==typeof i&&(i=[[e.i,i,""]]);n(27)(i,{});i.locals&&(e.exports=i.locals)},463:function(e,t,n){(e.exports=n(26)(!1)).push([e.i,".widget-container {\n  position: relative;\n  height: 100%;\n  width: 100%; }\n\n.widget-container > .title {\n  border-bottom: 1px solid #cdcdcd;\n  background-color: #f5f5f5;\n  padding-right: 10px;\n  color: black;\n  position: relative;\n  overflow: hidden;\n  text-align: left;\n  height: 40px;\n  width: 100%; }\n\n.widget-container > .title > label {\n  white-space: nowrap;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  margin-left: 27px;\n  margin-top: 10px; }\n\n.widget-container > .content {\n  position: relative;\n  overflow: hidden;\n  height: 100%;\n  width: 100%; }\n",""])},465:function(e,t,n){var i=n(4);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}},475:function(e,t,n){"use strict";var i,o,r,s=n(120),a=n.n(s),c=n(2),l=n.n(c),d=n(3),u=n.n(d),h=n(5),p=n.n(h),v=n(4),m=n.n(v),A=n(6),g=n.n(A),f=n(17),w=n.n(f),E=n(38),y=n.n(E),x=n(39),k=n(1),b=n.n(k),T=n(0),C=n.n(T),R=(r=o=function(e){function t(){var e;return l()(this,t),(e=p()(this,m()(t).call(this))).state={checked:!0},e}return g()(t,e),u()(t,[{key:"componentWillMount",value:function(){this.setState({checked:this.props.checked})}},{key:"toggle",value:function(){if(!this.props.disabled){var e=!this.state.checked;this.setState({checked:e}),this.props.onChange&&this.props.onChange(e)}}},{key:"render",value:function(){var e=["switch-container",this.props.disabled?"disabled":""].concat(a()(this.props.className.split(" ")));return C.a.createElement("div",{className:e.join(" "),onClick:this.toggle},C.a.createElement("input",{ref:"switch",className:"switch",checked:this.state.checked,value:this.state.checked,onChange:function(){},type:"checkbox"}),C.a.createElement("div",null,C.a.createElement("span",null,C.a.createElement("g",{className:"icon icon-toolbar grid-view"})),C.a.createElement("span",null,C.a.createElement("g",{className:"icon icon-toolbar ticket-view"})),C.a.createElement("div",null)))}}]),t}(C.a.Component),w()(o,"propTypes",{className:b.a.string,checked:b.a.bool}),w()(o,"defaultProps",{checked:!0,className:""}),i=r,y()(i.prototype,"toggle",[x.a],Object.getOwnPropertyDescriptor(i.prototype,"toggle"),i.prototype),i);n(476),t.a=R},476:function(e,t,n){var i=n(477);"string"==typeof i&&(i=[[e.i,i,""]]);n(27)(i,{});i.locals&&(e.exports=i.locals)},477:function(e,t,n){(e.exports=n(26)(!1)).push([e.i,'.switch-container {\n  position: relative; }\n\n.switch-container *:hover {\n  cursor: pointer; }\n\n.switch-container.disabled *:hover {\n  cursor: not-allowed; }\n\ninput[type="checkbox"].switch {\n  pointer-events: none;\n  position: absolute;\n  cursor: pointer;\n  opacity: 0; }\n\ninput[type="checkbox"].switch + div {\n  vertical-align: middle;\n  width: 40px;\n  height: 20px;\n  border-radius: 999px;\n  background-color: #9d9d9d;\n  transition-duration: .4s;\n  transition-property: background-color, box-shadow;\n  cursor: pointer; }\n\ninput[type="checkbox"].switch + div span {\n  position: absolute;\n  font-size: 1.6rem;\n  color: #f5f5f5;\n  margin-top: 12px; }\n\ninput[type="checkbox"].switch + div span:nth-child(1) {\n  margin-left: 15px; }\n\ninput[type="checkbox"].switch + div span:nth-child(2) {\n  margin-left: 55px; }\n\ninput[type="checkbox"].switch:checked + div {\n  width: 60px;\n  background-position: 0 0;\n  background-color: #57BB00; }\n\n.switch-container.disabled input[type="checkbox"].switch + div {\n  background-color: rgba(157, 157, 157, 0.5); }\n\ninput[type="checkbox"].switch + div {\n  width: 60px;\n  height: 26px; }\n\ninput[type="checkbox"].switch + div > div {\n  float: left;\n  width: 24px;\n  height: 24px;\n  border-radius: inherit;\n  background: #f5f5f5;\n  transition-timing-function: cubic-bezier(1, 0, 0, 1);\n  transition-duration: 0.4s;\n  transition-property: transform, background-color;\n  pointer-events: none;\n  margin-top: 1px;\n  margin-left: 1px; }\n\ninput[type="checkbox"].switch:checked + div > div {\n  transform: translate3d(20px, 0, 0);\n  background-color: #f5f5f5; }\n\ninput[type="checkbox"].bigswitch.switch + div > div {\n  width: 44px;\n  height: 44px;\n  margin-top: 1px; }\n\ninput[type="checkbox"].switch:checked + div > div {\n  transform: translate3d(34px, 0, 0); }\n',""])},631:function(e,t,n){var i=n(892);"string"==typeof i&&(i=[[e.i,i,""]]);n(27)(i,{});i.locals&&(e.exports=i.locals)},892:function(e,t,n){(e.exports=n(26)(!1)).push([e.i,'.selection-tree .treeview-base lmvheader {\n  transition-property: background, border;\n  transition-timing-function: ease;\n  transition-duration: 1.5s;\n  transition-delay: 0.0s;\n  background: rgba(245, 245, 245, 0.5);\n  margin-bottom: 2px;\n  border: none;\n  height: 30px;\n  float: left; }\n\n.selection-tree .treeview-base lmvheader:hover {\n  background: rgba(0, 105, 245, 0.35); }\n\n.selection-tree .treeview-base group > lmvheader > icon {\n  height: 20px;\n  float: left; }\n\n.selection-tree .treenode-container {\n  overflow: hidden; }\n\n.selection-tree .treenode .label-container {\n  pointer-events: none; }\n\n.selection-tree .treenode {\n  pointer-events: none;\n  float: left; }\n\n.selection-tree .treeview-base lmvheader.component icon {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAAAsTAAALEwEAmpwYAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAAD0klEQVQ4ETVUS2hjVRg+j/uYtE06UErVJDeZEDptA1XbWimmEsXNIF04kI6I6IwoghRxLQULyigiKMosfCymKjhDUTciFhXjAwqWLpNOJGXSNqGmXUxtpp2b+zp+/2174XDu/zjf+f7H+SXDVywW5ezsLC+VSqpQKGjd3d3a3t6eTzbLeiDf0xOLt9vtBsm5XM6wLEvs7OwECwsLor+/X1QqFRWC5HJFAz5iamoqQkB0YGhoKJ1KJT/AsrHuWVb8ajYbT5CNvgsXsiZ8zxxLjHNCxWLj4+NybW3NHRgY6I5EzOeDQM1LKRJBEKwzprgQcigI/C3P8696XvB1q9U6BAgHQx2sAolwCFTl83m+v7//lGnqnwshXlMq0Dnn1zTNeBlkF33fJ6bTuq4/I6V8IhqNNsfGxuqrq6vu5ct1xglleHg4dXjYnuecXcElHljcME3t01ptc4XsSilgcpVM3veIlMYc7LNQm7jwS9f155vNZkOQY7v932NQ4mYufT+4FYno752CIOTeZDIZ5mJ7+99Vx/HeVYptwJ/jgheFUNOEQXSZpknolIMc2KD9oG17fyHBH0aj2hfIW4t8BgcH47Z99AqYvQExhgvvSMm7NE0LqxsyAlUSdCT3hu+r1/HPAf5Ou+3+mkgknjt3znqh0zn6Bbq3EL7j+96rALwJN911Aw/+7ASI+8dUeavRaHxiGGceR3WuIYQR3PoVbr8O30FU8mMQf7TR2EFB+D7sQsrjPIeh6ToihRbLJPRarVbGNpdKpX5Uyv+GdJxrl+r1+k9wAxnG0AJC0wTOkPWEkYvUExDnIqwieqMH3W647mYJPnuA2cVeKhZzxsTEeAz/zDC0EAJtEe5haIyBH+cBwMJ44/G4WlpaCqLR82fpDGOBBntvpcLYzMxMm4AQOvkz9JUk+aRqnEICqLqYTqf/dhznB/Jl7IjCVciHMAxDlstlx7I6ZiqVeBoNe1FKjQWBG2KEjDzv6A8k8joSfh45+f727drNkZGRh6vV7V2E66EfvWq1upvJJCfK5c4SQv2WfMHqM9flfxIjygmt8NVvbPzzJA7Oo8zTSOYd6BdhunTMSqDc7CWw64X8O1rm7a2t5m/QBTQ9wke7vLxsrqys2ASYzWZjtm0/i556E4dS6BmoBYOMMPwtPN73u7p6FhHmXZoWpmm6eK+epHkCIIfGRywWi6yvr989ODhY6+vr+w7U7yGEh/DM0PXqIyG0uXp982fMKmd0dLQ7k8l0JicnqWphwrEzfjqHiGahkD6dMyyTsfLJ5P3heyJH8qPhRmdOZfr/H6pDy54J8vNgAAAAAElFTkSuQmCC");\n  position: relative;\n  margin-right: 4px;\n  top: 0px; }\n',""])},902:function(e,t,n){"use strict";n.r(t);var i=n(2),o=n.n(i),r=n(3),s=n.n(r),a=n(5),c=n.n(a),l=n(4),d=n.n(l),u=n(6),h=n.n(u),p=n(120),v=n.n(p),m=n(17),A=n.n(m),g=n(50),f=n.n(g),w=n(121),E=n(1),y=n.n(E),x=n(29),k=n.n(x),b=n(464),T=n(0),C=n.n(T),R=function(e){function t(e){var n;return o()(this,t),(n=c()(this,d()(t).call(this))).onExpand=n.onExpand.bind(f()(n)),n.on("expand",n.onExpand),n.instanceTree=e.instanceTree,n.delegate=e.delegate,n.parent=e.parent,n.level=e.level,n.group=e.group,n.model=e.model,n.name=e.name,n.type=e.type,n.id=e.id,n.props=e,n.children=[],n}return h()(t,e),s()(t,[{key:"onExpand",value:function(){this.off("expand",this.onExpand),this.loadChildren()}},{key:"mount",value:function(e){e.className="treenode-container click-trigger",this.domContainer=e,this.collapse(),this.reactNode=k.a.render(C.a.createElement(S,{className:this.type,name:this.name}),this.domContainer)}},{key:"expand",value:function(){var e=this.domContainer.parentElement.parentElement;e.classList.remove("collapsed"),e.classList.add("expanded"),this.emit("expand")}},{key:"collapse",value:function(){var e=this.domContainer.parentElement.parentElement;e.classList.remove("expanded"),e.classList.add("collapsed")}},{key:"loadChildren",value:function(){var e=this;switch(this.type){case"root":this.children=this.props.childIds.map(function(n){var i=new t({name:e.instanceTree.getNodeName(n),instanceTree:e.instanceTree,delegate:e.delegate,level:e.level+1,type:"component",model:e.model,parent:e,group:!0,id:n});return e.addChild(i),i})}}},{key:"destroy",value:function(){this.children.forEach(function(e){e.destroy()}),k.a.unmountComponentAtNode(this.domContainer),this.delegate.emit("node.destroy",this)}}]),t}(w.a),S=function(e){function t(){return o()(this,t),c()(this,d()(t).apply(this,arguments))}return h()(t,e),s()(t,[{key:"render",value:function(){var e=["treenode"].concat(v()(this.props.className.split(" ")));return C.a.createElement("div",{className:e.join(" ")},C.a.createElement(b.a,{text:this.props.name}))}}]),t}(C.a.Component);A()(S,"propTypes",{className:y.a.string}),A()(S,"defaultProps",{className:""});var M=n(473),N=function(e){function t(){return o()(this,t),c()(this,d()(t).call(this))}return h()(t,e),s()(t,[{key:"createRootNode",value:function(e){this.selection=e||{},this.instanceTree=this.selection.model?e.model.getData().instanceTree:null;var t=this.selection.dbIds||[],n=this.instanceTree?this.instanceTree.getRootId():"root";return this.rootNode=new R({name:"Your Selection [".concat(t.length," Components]"),instanceTree:this.instanceTree,model:this.selection.model,delegate:this,parent:null,type:"root",group:!0,id:n,level:0,childIds:t}),this.rootNode}},{key:"destroy",value:function(){this.rootNode.destroy()}},{key:"createTreeNode",value:function(e,t){var n=document.createElement("div");t.appendChild(n),e.type.split(".").forEach(function(e){t.classList.add(e)}),t.style.width="calc(100% - ".concat(25*e.level+5,"px)"),t.classList.add("click-trigger"),e.parentDomElement=t,e.mount(n)}},{key:"nodeClickSelector",value:function(e){return e.target.className.toLowerCase().indexOf("click-trigger")>-1}},{key:"onTreeNodeClick",value:function(e,t,n){var i=this;this.nodeClickSelector(n)&&(clearTimeout(this.clickTimeout),this.clickTimeout=setTimeout(function(){i.emit("node.click",t)},200))}},{key:"forEachChild",value:function(e,t){e.addChild=t}}]),t}(M.a),L=(n(631),function(e){function t(e){var n;return o()(this,t),(n=c()(this,d()(t).call(this,e))).delegate=new N,n.delegate.on("node.dblClick",function(t){e.onNodeDblClicked&&e.onNodeDblClicked(t)}),n.delegate.on("node.click",function(t){e.onNodeClicked&&e.onNodeClicked(t)}),n.delegate.on("node.destroy",function(e){n.tree.destroyNode(e.id)}),n}return h()(t,e),s()(t,[{key:"loadTree",value:function(e){var t=this.delegate.createRootNode(e);this.tree=new M.b(this.delegate,t,this.treeContainer,{excludeRoot:!1}),t.expand()}},{key:"componentDidMount",value:function(){this.loadTree(this.props.selection),this.guid=this.props.selection?this.props.selection.guid:null}},{key:"componentWillReceiveProps",value:function(e){var t=e.selection?e.selection.guid:null;t!==this.guid&&(this.delegate.destroy(),this.tree.destroy(),this.loadTree(e.selection),this.guid=t)}},{key:"componentWillUnmount",value:function(){this.delegate.destroy(),this.delegate.off(),this.tree.destroy()}},{key:"render",value:function(){var e=this;return C.a.createElement("div",{ref:function(t){return e.treeContainer=t},className:"selection-tree"})}}]),t}(C.a.Component));t.default=L}}]);
//# sourceMappingURL=60.js.map