{"version":3,"sources":["webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.DualViewer/index.js","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.DualViewer/Viewing.Extension.DualViewer.js","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.DualViewer/Viewing.Extension.DualViewer.scss?5a28","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.DualViewer/Viewing.Extension.DualViewer.scss","webpack:///./src/client/components/Viewer/Extensions/Viewer.MultiModelExtensionBase/index.js","webpack:///./src/client/components/Viewer/Extensions/Viewer.MultiModelExtensionBase/Viewer.MultiModelExtensionBase.js","webpack:///./node_modules/@babel/runtime/helpers/get.js","webpack:///./src/client/components/WidgetContainer/WidgetContainer.js","webpack:///./src/client/components/WidgetContainer/index.js","webpack:///./src/client/components/WidgetContainer/WidgetContainer.scss?a31d","webpack:///./src/client/components/WidgetContainer/WidgetContainer.scss","webpack:///./node_modules/@babel/runtime/helpers/superPropBase.js","webpack:///./node_modules/lodash/debounce.js","webpack:///./node_modules/lodash/throttle.js","webpack:///./node_modules/lodash/now.js"],"names":["__webpack_require__","r","__webpack_exports__","DualViewerExtension","viewer","options","_this","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default","this","_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default","_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default","call","onDualViewerSelection","bind","_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default","onStopResize","onResize","throttle","renderTitle","render","react","_this2","pathIndex","defaultPathIndex","setState","showLoader","disabled","activeView","items","then","pushRenderExtension","console","log","viewerModel","dualViewer","impl","unloadModel","_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_7___default","prototype","event","source","model","lmvProxy","proxy","Autodesk","Viewing","endpoint","setEndpointAndApi","concat","window","location","origin","Toolkit","loadDocument","urn","viewerDocument","getViewableItems","start","activeModel","dbModel","length","setActiveView","$","parent","find","css","height","Math","min","addEventListener","AGGREGATE_SELECTION_CHANGED_EVENT","_context2","t1","e","dbIdArray","selections","selection1Locked","selector","selection2Locked","setSelection","_this3","state","getState","menuItems","map","item","idx","react__WEBPACK_IMPORTED_MODULE_16___default","a","createElement","react_bootstrap__WEBPACK_IMPORTED_MODULE_17__","eventKey","key","onClick","name","className","title","react_bootstrap__WEBPACK_IMPORTED_MODULE_18__","id","path","getViewablePath","sharedPropertyDbPath","getPropertyDbPath","loadModel","_this4","fitToView","resize","_this5","opts","arguments","undefined","showTitle","WidgetContainer__WEBPACK_IMPORTED_MODULE_10__","Loader__WEBPACK_IMPORTED_MODULE_12__","show","Viewer__WEBPACK_IMPORTED_MODULE_15__","flex","onViewerCreated","clearTimeout","timeoutId","setTimeout","MultiModelExtensionBase","theExtensionManager","registerExtension","ExtensionId","content","module","i","locals","exports","push","_Viewer_MultiModelExtensionBase__WEBPACK_IMPORTED_MODULE_0__","defaultOptions","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default","_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default","_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default","Object","assign","serviceContext","onModelCompletedLoad","onObjectTreeCreated","onModelRootLoaded","onExtensionLoaded","onModelActivated","onGeometryLoaded","onToolbarCreated","onModelBeginLoad","onModelUnloaded","onSelection","__onModelRootLoaded","__onModelActivated","__onModelUnloaded","__onModelLoaded","models","modelQueue","getModels","guid","initializeEvents","viewerEvents","forEach","removeEventListener","handler","eventSink","off","viewerEvent","OBJECT_TREE_CREATED_EVENT","GEOMETRY_LOADED_EVENT","args","_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default","filter","on","EXTENSION_LOADED_EVENT","MODEL_ROOT_LOADED_EVENT","TOOLBAR_CREATED_EVENT","eventId","eventTasks","Array","isArray","Promise","resolve","__handler","all","EventsEmitter","Composer","Extension","superPropBase","_get","target","property","receiver","Reflect","get","base","desc","getOwnPropertyDescriptor","value","WidgetContainer","props","react_default","dimensions","React","Children","children","child","newProps","cloneElement","classNames","toConsumableArray_default","split","join","style","renderChildren","Component","PropTypes","string","bool","getPrototypeOf","object","hasOwnProperty","isObject","now","toNumber","FUNC_ERROR_TEXT","nativeMax","max","nativeMin","func","wait","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","thisArg","apply","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","leadingEdge","cancel","flush","debounce","root","Date"],"mappings":"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","file":"67.js","sourcesContent":["import './Viewing.Extension.DualViewer'\n\nexport default 'Viewing.Extension.DualViewer'\n","/////////////////////////////////////////////////////////\n// Viewing.Extension.DualViewer\n// by Philippe Leefsma, April 2016\n//\n/////////////////////////////////////////////////////////\nimport MultiModelExtensionBase from 'Viewer.MultiModelExtensionBase'\nimport WidgetContainer from 'WidgetContainer'\nimport './Viewing.Extension.DualViewer.scss'\nimport {ReactLoader as Loader} from 'Loader'\nimport throttle from 'lodash/throttle'\nimport Toolkit from 'Viewer.Toolkit'\nimport Viewer from 'Viewer'\nimport React from 'react'\nimport {\n  DropdownButton,\n  MenuItem\n} from 'react-bootstrap'\n\nclass DualViewerExtension extends MultiModelExtensionBase {\n\n  /////////////////////////////////////////////////////////\n  // Class constructor\n  //\n  /////////////////////////////////////////////////////////\n  constructor(viewer, options) {\n\n    super (viewer, options)\n\n    this.onDualViewerSelection =\n      this.onDualViewerSelection.bind(this)\n\n    this.onStopResize =\n      this.onStopResize.bind(this)\n\n    this.onResize =\n      throttle(this.onResize, 100)\n\n    this.renderTitle =\n      this.renderTitle.bind(this)\n\n    this.render =\n      this.render.bind(this)\n\n    this.react = options.react\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  get className() {\n\n    return 'dual-viewer'\n  }\n\n  /////////////////////////////////////////////////////////\n  // Extension Id\n  //\n  /////////////////////////////////////////////////////////\n  static get ExtensionId() {\n\n    return 'Viewing.Extension.DualViewer'\n  }\n\n  /////////////////////////////////////////////////////////\n  // Load callback\n  //\n  /////////////////////////////////////////////////////////\n  load () {\n\n    this.pathIndex = this.options.defaultPathIndex || 0\n\n    this.react.setState({\n\n      showLoader: true,\n      disabled: true,\n      activeView: '',\n      items: []\n\n    }).then (() => {\n\n      this.react.pushRenderExtension(this)\n    })\n\n    console.log('Viewing.Extension.DualViewer loaded')\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Unload callback\n  //\n  /////////////////////////////////////////////////////////\n  unload () {\n\n    if (this.viewerModel) {\n\n      this.dualViewer.impl.unloadModel(\n        this.viewerModel)\n    }\n\n    console.log('Viewing.Extension.DualViewer unloaded')\n\n    super.unload()\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  async onModelActivated (event) {\n\n    if (event.source !== 'model.loaded') {\n\n      await this.react.setState({\n        disabled: true\n      })\n\n      const model = event.model\n\n      const lmvProxy = model.proxy || 'lmv-proxy-2legged'\n\n      Autodesk.Viewing.endpoint.setEndpointAndApi(\n        `${window.location.origin}/${lmvProxy}`,\n        'derivativeV2')\n\n      this.viewerDocument =\n        await Toolkit.loadDocument(model.urn)\n\n      const items = Toolkit.getViewableItems(\n        this.viewerDocument, '2d')\n\n      await this.react.setState({\n        disabled: false,\n        items\n      })\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  async onViewerCreated (viewer) {\n\n    try {\n\n      this.viewerModel = null\n\n      this.dualViewer = viewer\n\n      this.dualViewer.start()\n\n      const model =\n        this.viewer.activeModel ||\n        this.viewer.model ||\n        this.options.dbModel.model\n\n      const urn =\n        this.options.urn ||\n        model.urn\n\n      this.viewerDocument =\n        this.options.viewerDocument ||\n        await Toolkit.loadDocument(urn)\n\n      const items = Toolkit.getViewableItems(\n        this.viewerDocument, '2d')\n\n      if (items.length) {\n\n        await this.react.setState({\n          disabled: false,\n          items\n        })\n\n        this.setActiveView (items[this.pathIndex])\n\n        $('#viewer-dropdown').parent().find('ul').css({\n          height: Math.min(\n            $('.dual-viewer').height() - 42,\n            items.length * 26)\n        })\n\n        this.dualViewer.addEventListener(\n          Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT,\n          this.onDualViewerSelection)\n      }\n\n    } catch(ex) {\n\n      console.log('Viewer Initialization Error:')\n      console.log(ex)\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onSelection (e) {\n\n    const dbIdArray = e.selections.length\n      ? e.selections[0].dbIdArray\n      : []\n\n    const model = this.dualViewer.model\n\n    if (!this.selection1Locked && model && model.selector) {\n\n      this.selection2Locked = true\n\n      model.selector.setSelection(dbIdArray)\n\n      this.selection2Locked = false\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onDualViewerSelection (e) {\n\n    const dbIdArray = e.selections.length\n      ? e.selections[0].dbIdArray\n      : []\n\n    const model =\n      this.viewer.activeModel ||\n      this.viewer.model\n\n    if (!this.selection2Locked && model.selector) {\n\n      this.selection1Locked = true\n\n      model.selector.setSelection(dbIdArray)\n\n      this.selection1Locked = false\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  renderTitle () {\n\n    const state = this.react.getState()\n\n    const menuItems = state.items.map((item, idx) => {\n      return (\n        <MenuItem eventKey={idx} key={idx} onClick={() => {\n\n          this.setActiveView (item)\n\n          this.pathIndex = idx\n        }}>\n          { item.name }\n        </MenuItem>\n      )\n    })\n\n    return (\n      <div className=\"title\">\n        <label>\n        {this.options.title || '2D View'}\n        </label>\n\n        <DropdownButton\n          title={\"View: \" + state.activeView }\n          disabled={state.disabled}\n          key={\"viewer-dropdown\"}\n          id=\"viewer-dropdown\">\n         { menuItems }\n        </DropdownButton>\n      </div>\n    )\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  async setActiveView (item) {\n\n    await this.react.setState({\n      activeView: item.name,\n      showLoader: true,\n      disabled: true\n    })\n\n    const path = this.viewerDocument.getViewablePath(item)\n\n    if (this.viewerModel) {\n\n      this.dualViewer.impl.unloadModel(\n        this.viewerModel)\n    }\n\n    const options = {\n      sharedPropertyDbPath:\n        this.viewerDocument.getPropertyDbPath()\n    }\n\n    this.dualViewer.loadModel(path, options, (model) => {\n\n      this.dualViewer.fitToView()\n\n      this.viewerModel = model\n\n      this.react.setState({\n        showLoader: false,\n        disabled: false\n      })\n\n    }, () => {\n\n      this.viewerModel = null\n\n      this.react.setState({\n        disabled: false,\n        showLoader: false\n      })\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onStopResize () {\n\n    const state = this.react.getState()\n\n    $('#viewer-dropdown').parent().find('ul').css({\n      height: Math.min(\n        $('.dual-viewer').height() - 42,\n        state.items.length * 26 + 16)\n    })\n\n    if (this.dualViewer && this.dualViewer.impl) {\n\n      this.dualViewer.resize()\n\n      this.dualViewer.fitToView()\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onResize () {\n\n    if (this.dualViewer && this.dualViewer.impl) {\n\n      this.dualViewer.resize()\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  render (opts = {showTitle: true}) {\n\n    const state = this.react.getState()\n\n    return (\n      <WidgetContainer renderTitle={this.renderTitle}\n        showTitle={opts.showTitle}\n        className={this.className}>\n\n        <Loader show={state.showLoader}/>\n\n        <Viewer flex={0.40}\n          onViewerCreated={\n            (viewer) => {\n              clearTimeout(this.timeoutId)\n              this.timeoutId = setTimeout(\n                () => this.onViewerCreated(viewer),\n                250)\n            }\n          }\n          className={this.className}\n        />\n\n      </WidgetContainer>\n    )\n  }\n}\n\nAutodesk.Viewing.theExtensionManager.registerExtension(\n  DualViewerExtension.ExtensionId,\n  DualViewerExtension)\n\n\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../../node_modules/sass-loader/lib/loader.js!./Viewing.Extension.DualViewer.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../../node_modules/sass-loader/lib/loader.js!./Viewing.Extension.DualViewer.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../../node_modules/sass-loader/lib/loader.js!./Viewing.Extension.DualViewer.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".dual-viewer .title {\\n  overflow: visible;\\n  float: left; }\\n\\n.dual-viewer .title > label {\\n  white-space: nowrap;\\n  font-weight: normal;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  margin-left: 27px;\\n  margin-top: 10px;\\n  select: none;\\n  width: 80px; }\\n\\n.dual-viewer .title > .dropdown {\\n  position: relative;\\n  top: -1px; }\\n\\n.dual-viewer .title > .dropdown > button {\\n  padding: 2px 12px; }\\n\\n.dual-viewer .title .dropdown-menu {\\n  overflow: scroll; }\\n\", \"\"]);\n","import MultiModelExtensionBase from './Viewer.MultiModelExtensionBase'\n\nexport default MultiModelExtensionBase\n","import EventsEmitter from 'EventsEmitter'\n\nexport default class MultiModelExtensionBase extends\n  EventsEmitter.Composer (Autodesk.Viewing.Extension) {\n\n  /////////////////////////////////////////////////////////\n  // Class constructor\n  //\n  /////////////////////////////////////////////////////////\n  constructor (viewer, options = {}, defaultOptions = {}) {\n\n    super (viewer)\n    // bindings\n    Object.assign(this, options.serviceContext)\n\n    this.onModelCompletedLoad = this.onModelCompletedLoad.bind(this)\n    this.onObjectTreeCreated  = this.onObjectTreeCreated.bind(this)\n    this.onModelRootLoaded    = this.onModelRootLoaded.bind(this)\n    this.onExtensionLoaded    = this.onExtensionLoaded.bind(this)\n    this.onModelActivated     = this.onModelActivated.bind(this)\n    this.onGeometryLoaded     = this.onGeometryLoaded.bind(this)\n    this.onToolbarCreated     = this.onToolbarCreated.bind(this)\n    this.onModelBeginLoad     = this.onModelBeginLoad.bind(this)\n    this.onModelUnloaded      = this.onModelUnloaded.bind(this)\n    this.onSelection          = this.onSelection.bind(this)\n\n    this.__onModelRootLoaded  = this.__onModelRootLoaded.bind(this)\n    this.__onModelActivated   = this.__onModelActivated.bind(this)\n    this.__onModelUnloaded    = this.__onModelUnloaded.bind(this)\n    this.__onModelLoaded      = this.__onModelLoaded.bind(this)\n\n    this.defaultOptions = defaultOptions\n\n    this.options = Object.assign({},\n      defaultOptions,\n      options)\n\n    this.viewer = viewer\n\n    // read the modelQueue to detect currently loaded models\n    // when the extension gets loaded\n    const models = viewer.impl.modelQueue().getModels()\n\n    this.models = models.map((model) => {\n\n      model.guid = model.guid || this.guid()\n\n      return model\n    })\n\n    this.initializeEvents ()\n  }\n\n  /////////////////////////////////////////////////////////\n  // Extension Id\n  //\n  /////////////////////////////////////////////////////////\n  static get ExtensionId() {\n\n    return 'Viewing.Extension.MultiModelExtensionBase'\n  }\n\n  /////////////////////////////////////////////////////////\n  // Load callback\n  //\n  /////////////////////////////////////////////////////////\n  load () {\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Unload callback\n  //\n  /////////////////////////////////////////////////////////\n  unload () {\n\n    this.viewerEvents.forEach((event) => {\n\n      this.viewer.removeEventListener(\n        event.id, this[event.handler])\n    })\n\n    if (this.eventSink) {\n\n      this.eventSink.off('model.activated',\n        this.__onModelActivated)\n\n      this.eventSink.off('model.unloaded',\n        this.__onModelUnloaded)\n\n      this.eventSink.off('model.loaded',\n        this.__onModelLoaded)\n    }\n\n    this.off()\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Reload callback, in case the extension is re-loaded\n  // more than once\n  //\n  /////////////////////////////////////////////////////////\n  reload (options = {}) {\n\n    this.options = Object.assign({},\n      this.defaultOptions,\n      this.options,\n      options)\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when extension gets loaded\n  //\n  /////////////////////////////////////////////////////////\n  onExtensionLoaded (event) {\n\n    //console.log('MultiModelExtensionBase.onExtensionLoaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when the model starts to load\n  // The geometry and instanceTree may not be available\n  // at this time\n  //\n  /////////////////////////////////////////////////////////\n  onModelBeginLoad (event) {\n\n    //console.log('MultiModelExtensionBase.onModelBeginLoad')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Triggered by ModelLoader extension when a model is\n  // selected in a multi-model environment\n  //\n  /////////////////////////////////////////////////////////\n  onModelActivated (event) {\n\n    //console.log('MultiModelExtensionBase.onModelActivated')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when model root node has been loaded\n  // Extensions that do require access to full\n  // model geometry or component tree may use that\n  // event to know a new model has been loaded\n  //\n  /////////////////////////////////////////////////////////\n  __onModelRootLoaded (event) {\n\n    this.viewerEvent([\n\n      Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,\n      Autodesk.Viewing.GEOMETRY_LOADED_EVENT\n\n    ]).then((args) => {\n\n      this.onModelCompletedLoad (args[0])\n    })\n  }\n\n  onModelRootLoaded (event) {\n\n    //console.log('MultiModelExtensionBase.onModelRootLoaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when object tree is fully loaded.\n  // Extensions that are interested in using the\n  // instanceTree need to use that event to make sure\n  // it is available\n  //\n  ////////////////////////////////////////////////////////\n  onObjectTreeCreated (event) {\n\n    //console.log('MultiModelExtensionBase.onObjectTreeCreated')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when geometry is fully loaded\n  //\n  /////////////////////////////////////////////////////////\n  onGeometryLoaded (event) {\n\n    //console.log('MultiModelExtensionBase.onGeometryLoaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked after onObjectTreeCreated and onGeometryLoaded\n  // have both been fired\n  //\n  /////////////////////////////////////////////////////////\n  onModelCompletedLoad (event) {\n\n    //console.log('MultiModelExtensionBase.onModelCompletedLoad')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked once the viewer toolbar has been created\n  //\n  /////////////////////////////////////////////////////////\n  onToolbarCreated (event) {\n\n    //console.log('MultiModelExtensionBase.onToolbarCreated')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Triggered by ModelLoader extension when a model has\n  // been unloaded as per user request\n  //\n  /////////////////////////////////////////////////////////\n  onModelUnloaded (event) {\n\n    //console.log('MultiModelExtensionBase.onModelUnloaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when a model is being selected\n  //\n  /////////////////////////////////////////////////////////\n  onSelection (event) {\n\n    //console.log('MultiModelExtensionBase.onSelection')\n  }\n\n  /////////////////////////////////////////////////////////\n  //Sink Events\n  //\n  /////////////////////////////////////////////////////////\n  __onModelLoaded (event) {\n\n    this.models = [...this.models, event.model]\n\n    this.onModelBeginLoad (event)\n  }\n\n  __onModelActivated (event) {\n\n    this.onModelActivated (event)\n  }\n\n  __onModelUnloaded (event) {\n\n    this.models = this.models.filter((model) => {\n\n      return model.guid !== event.model.guid\n    })\n\n    this.onModelUnloaded(event)\n  }\n\n  /////////////////////////////////////////////////////////\n  // Initialize all events for the extension\n  // Each event will invoke a predefined handler\n  // implemented or not by the derived extension\n  //\n  /////////////////////////////////////////////////////////\n  initializeEvents () {\n\n    if (this.options.eventSink) {\n\n      // event object passed in options\n      this.eventSink = this.options.eventSink\n\n      this.eventSink.on('model.loaded',\n        this.__onModelLoaded)\n\n      this.eventSink.on('model.activated',\n        this.__onModelActivated)\n\n      this.eventSink.on('model.unloaded',\n        this.__onModelUnloaded)\n    }\n\n    this.viewerEvents = [\n      {\n        id: Autodesk.Viewing.EXTENSION_LOADED_EVENT,\n        handler: 'onExtensionLoaded'\n      },\n      {\n        id: Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,\n        handler: 'onObjectTreeCreated'\n      },\n      {\n        id: Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,\n        handler: '__onModelRootLoaded'\n      },\n      {\n        id: Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,\n        handler: 'onModelRootLoaded'\n      },\n      {\n        id: Autodesk.Viewing.GEOMETRY_LOADED_EVENT,\n        handler: 'onGeometryLoaded'\n      },\n      {\n        id: Autodesk.Viewing.TOOLBAR_CREATED_EVENT,\n        handler: 'onToolbarCreated'\n      },\n      {\n        id: Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT,\n        handler: 'onSelection'\n      }\n    ]\n\n    this.viewerEvents.forEach((event) => {\n\n      this.viewerEvent(event.id, this[event.handler])\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  // Async viewer event\n  //\n  /////////////////////////////////////////////////////////\n  viewerEvent (eventId, handler) {\n\n    if (handler) {\n\n      this.viewer.addEventListener (eventId, handler)\n      return\n    }\n\n    const eventIdArray = Array.isArray(eventId)\n      ? eventId : [eventId]\n\n    const eventTasks = eventIdArray.map((id) => {\n      return new Promise ((resolve) => {\n        const __handler = (args) => {\n          this.viewer.removeEventListener (id, __handler)\n          resolve (args)\n        }\n        this.viewer.addEventListener (id, __handler)\n      })\n    })\n\n    return Promise.all (eventTasks)\n  }\n}\n","var superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","import PropTypes from 'prop-types'\nimport ReactDOM from 'react-dom'\nimport './WidgetContainer.scss'\nimport React from 'react'\n\nclass WidgetContainer extends React.Component {\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static propTypes = {\n    className: PropTypes.string,\n    showTitle: PropTypes.bool\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static defaultProps = {\n    showTitle: true,\n    className: ''\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  renderTitle () {\n\n    if (!this.props.showTitle) {\n\n      return <div/>\n    }\n\n    if (this.props.renderTitle) {\n\n      return this.props.renderTitle()\n    }\n\n    return (\n      <div className=\"title\">\n        <label>\n          { this.props.title }\n        </label>\n      </div>\n    )\n  }\n\n  ///////////////////////////////////////////////////////////////////\n  //\n  //\n  ///////////////////////////////////////////////////////////////////\n  renderChildren() {\n\n    if (this.props.dimensions) {\n\n      return React.Children.map(this.props.children, (child) => {\n\n        const newProps = Object.assign({},\n          child.props, {\n            dimensions: this.props.dimensions\n          })\n\n        return React.cloneElement(child, newProps)\n      })\n    }\n\n    return this.props.children\n  }\n\n  ///////////////////////////////////////////////////////////////////\n  //\n  //\n  ///////////////////////////////////////////////////////////////////\n  render() {\n\n    const classNames = [\n      'widget-container',\n      ...this.props.className.split(' ')\n    ]\n\n    const height = this.props.showTitle\n      ? 'calc(100% - 40px)'\n      : '100%'\n\n    return (\n      <div className={classNames.join(' ')} style={this.props.style}>\n         { this.renderTitle() }\n        <div className=\"content\" style={{height}}>\n          {this.renderChildren()}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default WidgetContainer\n","import WidgetContainer from './WidgetContainer'\n\nexport default WidgetContainer\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./WidgetContainer.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./WidgetContainer.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./WidgetContainer.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".widget-container {\\n  position: relative;\\n  height: 100%;\\n  width: 100%; }\\n\\n.widget-container > .title {\\n  border-bottom: 1px solid #cdcdcd;\\n  background-color: #f5f5f5;\\n  padding-right: 10px;\\n  color: black;\\n  position: relative;\\n  overflow: hidden;\\n  text-align: left;\\n  height: 40px;\\n  width: 100%; }\\n\\n.widget-container > .title > label {\\n  white-space: nowrap;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  margin-left: 27px;\\n  margin-top: 10px; }\\n\\n.widget-container > .content {\\n  position: relative;\\n  overflow: hidden;\\n  height: 100%;\\n  width: 100%; }\\n\", \"\"]);\n","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","var debounce = require('./debounce'),\n    isObject = require('./isObject');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n"],"sourceRoot":""}