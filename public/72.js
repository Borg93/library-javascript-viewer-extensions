(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{1381:function(e,n,t){e.exports=function(){return new Worker(t.p+"ac8bc6df15a4e83e6356.worker.js")}},1382:function(e,n,t){var o=t(1383);"string"==typeof o&&(o=[[e.i,o,""]]);t(28)(o,{});o.locals&&(e.exports=o.locals)},1383:function(e,n,t){(e.exports=t(27)(!1)).push([e.i,".wall-analyzer .title {\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n  float: left; }\n\n.wall-analyzer .title > label {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  white-space: nowrap;\n  font-weight: normal;\n  user-select: none;\n  margin-left: 27px;\n  margin-top: 10px;\n  select: none;\n  width: 144px;\n  float: left; }\n\n.wall-analyzer .content {\n  background-color: #ffffff;\n  text-align: left;\n  overflow-y: scroll;\n  overflow-x: hidden;\n  height: 100%; }\n\n.wall-analyzer .row {\n  width: calc(100% - 20px);\n  margin: 5px 0 5px 10px; }\n\n.wall-analyzer .control-element {\n  float: left; }\n\n.wall-analyzer .item-list-container {\n  overflow: auto;\n  padding: 8px; }\n\n.wall-analyzer .list-item {\n  transition-property: background-color;\n  transition-timing-function: ease;\n  transition-duration: 1.0s;\n  transition-delay: 0.0s;\n  background-color: #f8f8f8;\n  border: 1px solid #5f5f5f;\n  border-radius: 4px;\n  margin-bottom: 4px;\n  overflow: hidden;\n  height: 38px; }\n\n.wall-analyzer .list-item.active {\n  background-color: #c1ddff;\n  border: 1px solid #253add; }\n\n.wall-analyzer .list-item label {\n  white-space: nowrap;\n  position: relative;\n  margin-left: 6px;\n  float: left;\n  top: 8px; }\n\n.wall-analyzer .item-color {\n  position: relative;\n  border-radius: 50%;\n  height: 28px;\n  margin: 4px;\n  width: 28px;\n  float: left; }\n\n.wall-analyzer .level-walls {\n  transition-timing-function: ease;\n  transition-property: background;\n  transition-duration: 1.0s;\n  transition-delay: 0.0s;\n  border: 1px solid #c6c6c6;\n  height: calc(100% - 7px);\n  border-radius: 4px;\n  position: relative;\n  margin-right: 6px;\n  cursor: pointer;\n  float: right;\n  padding: 3px;\n  width: 50px;\n  top: 4px; }\n\n.wall-analyzer .level-walls.active, .wall-analyzer .level-walls:hover {\n  background: #ecf2ff;\n  border: 2px solid rgba(37, 58, 221, 0.51); }\n\n.wall-analyzer .level-floor {\n  transition-timing-function: ease;\n  transition-property: background;\n  transition-duration: 1.0s;\n  transition-delay: 0.0s;\n  border: 1px solid #c6c6c6;\n  height: calc(100% - 7px);\n  border-radius: 4px;\n  position: relative;\n  margin-right: 6px;\n  cursor: pointer;\n  float: right;\n  padding: 3px;\n  width: 50px;\n  top: 4px; }\n\n.wall-analyzer .level-floor.active, .wall-analyzer .level-floor:hover {\n  background: #ecf2ff;\n  border: 2px solid rgba(37, 58, 221, 0.51); }\n\n.wall-analyzer .level-report {\n  transition-timing-function: ease;\n  transition-property: background;\n  transition-duration: 1.0s;\n  transition-delay: 0.0s;\n  border: 1px solid #c6c6c6;\n  height: calc(100% - 7px);\n  border-radius: 4px;\n  position: relative;\n  margin-right: 6px;\n  cursor: pointer;\n  float: right;\n  padding: 3px;\n  top: 4px; }\n\n.wall-analyzer .level-report:hover {\n  background: #ecf2ff;\n  border: 1px solid rgba(37, 58, 221, 0.51); }\n\n.wall-analyzer .level-report span {\n  margin-right: 4px;\n  color: #498a42; }\n\n.wall-analyzer-controls {\n  margin: auto 0 auto calc(100% - 152px);\n  position: relative;\n  float: left; }\n\n.wall-analyzer-controls > button {\n  border: 1px solid #c6c6c6;\n  background-color: #e1e1e1;\n  border-radius: 6px;\n  position: relative;\n  overflow: hidden;\n  outline: none;\n  height: 24px;\n  width: 26px; }\n\n.wall-analyzer-controls > button:hover {\n  border: 1px solid #878787;\n  background-color: #f5f5f5; }\n\n.wall-analyzer-controls > button > label {\n  position: relative;\n  font-size: 20px;\n  color: #f0fcff;\n  top: -8px; }\n\n.wall-analyzer-controls > button > span {\n  pointer-events: none;\n  color: #9b9b9b; }\n",""])},1396:function(e,n,t){"use strict";t.r(n);var o=t(30),i=t.n(o),a=t(42),r=t.n(a),l=t(2),s=t.n(l),c=t(3),d=t.n(c),u=t(5),h=t.n(u),v=t(50),p=t.n(v),f=t(4),m=t.n(f),g=t(445),w=t.n(g),k=t(6),y=t.n(k),b=t(443),E=function(e){function n(e){var t;return s()(this,n),(t=h()(this,m()(n).call(this,e.container))).viewer=e,t}return y()(n,e),d()(n,[{key:"setNodeProperties",value:function(e){var n=this;this.viewer.model.getProperties(e,function(t){n.setProperties(t.properties),n.setTitle(t.name),n.resizeToContent(),n.nodeId=e})}}]),n}(Autodesk.Viewing.UI.PropertyPanel),x=t(1381),M=t.n(x),C=(t(1382),t(446)),T=t(487),L=t(451),N=t(118),_=t(460),R=t(0),A=t.n(R),z=t(503),O=t.n(z),I=function(e){function n(e,t){var o;return s()(this,n),(o=h()(this,m()(n).call(this,e,t))).onLevelWallsClicked=o.onLevelWallsClicked.bind(p()(o)),o.onLevelFloorClicked=o.onLevelFloorClicked.bind(p()(o)),o.onEnableWireFrame=o.onEnableWireFrame.bind(p()(o)),o.onWorkerMessage=o.onWorkerMessage.bind(p()(o)),o.onMouseMove=o.onMouseMove.bind(p()(o)),o.renderTitle=o.renderTitle.bind(p()(o)),o.onClick=o.onClick.bind(p()(o)),o.eventTool=new T.a(o.viewer),o.react=o.options.react,o.worker=new M.a,o.intersectMeshes=[],o.nbMeshesLoaded=0,o.wireframe=!1,o}var t,o,a;return y()(n,e),d()(n,[{key:"load",value:function(){var e=this;return this.react.setState({loader:!0,levels:[]}).then(function(){e.react.pushRenderExtension(e)}),console.log("Viewing.Extension.WallAnalyzer loaded"),this.eventTool.on("mousemove",this.onMouseMove),this.eventTool.on("singleclick",this.onClick),this.linesMaterial=this.createLinesMaterial(),this.viewer.impl.createOverlayScene("wallAnalyzer",this.linesMaterial),this.worker.addEventListener("message",this.onWorkerMessage),!0}},{key:"unload",value:function(){return console.log("Viewing.Extension.WallAnalyzer unloaded"),this.viewer.impl.removeOverlayScene("wallAnalyzer"),this.notification&&this.options.notify.remove(this.notification),this.eventTool.off(),w()(m()(n.prototype),"unload",this).call(this),!0}},{key:"reset",value:function(){this.options.notify.remove(this.notification),this.notification=null,this.react.setState({loader:!0,levels:[]})}},{key:"onWorkerMessage",value:function(e){var n=this,t=this.react.getState(),o=e.data,i=this.levelMaterials[o.level],a=this.buildMesh(o,i),r=o.levelCount-o.level-1,l=t.levels[r]||{strokeColor:this.levelColors[o.level],fillColor:this.levelColors[o.level],name:"Level ".concat(o.level+1),walls:{name:"Walls [Level #".concat(o.level+1,"]"),active:!1,meshes:[]},floor:{meshes:o.floorDbIds.map(function(e){return L.a.buildComponentMesh(n.viewer,n.viewer.model,e,null,i)}),name:"Floor [Level #".concat(o.level+1,"]"),dbIds:o.floorDbIds,active:!1,paths:[]},report:{level:"Level ".concat(o.level+1),boundingBox:e.levelBox,walls:[]}};t.levels[r]=l,l.walls.meshes.push(a);var s=o.pathEdges.map(function(e){var t=new THREE.Geometry;return e.start.z+=.05,e.end.z+=.05,t.vertices.push(new THREE.Vector3(e.start.x,e.start.y,e.start.z)),t.vertices.push(new THREE.Vector3(e.end.x,e.end.y,e.end.z)),t.computeLineDistances(),new THREE.Line(t,n.linesMaterial,THREE.LinePieces)});l.floor.paths.push({lines:s});var c={path:o.pathEdges,dbId:a.dbId};L.a.getProperties(this.viewer.model,a.dbId).then(function(e){c.properties=e}),l.report.walls.push(c);var d=100*++this.nbMeshesLoaded/(o.levelCount*o.wallCount);100===d&&(this.notification.dismissAfter=2e3,this.notification.status="success"),this.notification.message="Processing Meshes "+"- Progress: ".concat(d.toFixed(2),"%"),this.react.setState({levels:t.levels})}},{key:"getComponentBoundingBox",value:function(e){var n=this.viewer.model,t=L.a.getLeafFragIds(n,e),o=n.getFragmentList();return this.getModifiedWorldBoundingBox(t,o)}},{key:"onToolbarCreated",value:function(e){this.panel=new E(this.viewer)}},{key:"onModelRootLoaded",value:function(){w()(m()(n.prototype),"onModelRootLoaded",this).call(this),this.notification=this.options.notify.add({message:"Loading geometry, please wait ...",title:"Wall Analyzer",dismissible:!1,status:"loading",dismissAfter:0,position:"tl"}),this.options.loader.show(!1)}},{key:"onModelCompletedLoad",value:function(e){var n=this,t=this.viewer.model;this.postModelInfo(),this.getComponentsByParentName("Floors",t).then(function(e){var t=e.length,o=O.a.scale.linear().domain([0,.33*t,.66*t,t]).range(["#FCB843","#C2149F","#0CC4BD","#0270E9"]);n.levelMaterials=[],n.levelColors=[],e.forEach(function(t,i){var a=new THREE.MeshPhongMaterial({side:THREE.DoubleSide,color:o(i)});n.viewer.impl.matman().addMaterial(n.guid(),a,!0),n.levelMaterials.push(a),n.levelColors.push(o(i)),n.postComponent(t,"Floors",e.length)})}),this.getComponentsByParentName("Walls",t).then(function(e){e.forEach(function(t){return n.postComponent(t,"Walls",e.length)})}),this.react.setState({loader:!1})}},{key:"postModelInfo",value:(a=r()(i.a.mark(function e(){var n,t,o,a,r,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.viewer.model,t=n.getData().instanceTree,this.rootId=t.getRootId(),e.next=5,L.a.getFragIds(n,this.rootId);case 5:o=e.sent,a=n.getFragmentList(),r=this.getModifiedWorldBoundingBox(o,a),l={msgId:"MSG_ID_MODEL_INFO",boundingBox:r},this.worker.postMessage(l);case 10:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"postComponent",value:function(e,n,t){var o=this.getComponentGeometry(e),i={boundingBox:this.getComponentBoundingBox(e),matrixWorld:o.matrixWorld,nbMeshes:o.meshes.length,msgId:"MSG_ID_COMPONENT",category:n,count:t,dbId:e};o.meshes.forEach(function(e,n){i["positions"+n]=e.positions,i["indices"+n]=e.indices,i["stride"+n]=e.stride}),this.worker.postMessage(i)}},{key:"buildMesh",value:function(e,n){var t=new THREE.Geometry;e.vertices.forEach(function(e){t.vertices.push(new THREE.Vector3(e.x,e.y,e.z))}),e.faces.forEach(function(e){t.faces.push(new THREE.Face3(e.a,e.b,e.c))}),t.computeFaceNormals();var o=new THREE.Matrix4;o.fromArray(e.matrixWorld);var i=new THREE.Mesh(t,n);return i.applyMatrix(o),i.dbId=e.dbId,i}},{key:"getComponentsByParentName",value:function(e,n){var t=n.getData().instanceTree,o=t.getRootId(),i=0;return t.enumNodeChildren(o,function(n){t.getNodeName(n).indexOf(e)>-1&&(i=n)}),i>0?L.a.getLeafNodes(n,i):[]}},{key:"getComponentGeometry",value:function(e){var n=this,t=L.a.getLeafFragIds(this.viewer.model,e),o=null,i=t.map(function(e){var t=n.viewer.impl.getRenderProxy(n.viewer.model,e),i=t.geometry,a=i.attributes,r=i.vb?i.vb:a.position.array,l=a.index.array||i.ib,s=i.vb?i.vbstride:3;return o=o||t.matrixWorld.elements,{positions:r,indices:l,stride:s}});return{matrixWorld:o,meshes:i}}},{key:"createLinesMaterial",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16711680,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new THREE.LineBasicMaterial({color:new THREE.Color(e),transparent:!0,depthWrite:!1,depthTest:!0,linewidth:10,opacity:n})}},{key:"getModifiedWorldBoundingBox",value:function(e,n){var t=new THREE.Box3,o=new THREE.Box3;return e.forEach(function(e){n.getWorldBounds(e,t),o.union(t)}),o}},{key:"hexToRgbA",value:function(e,n){if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)){var t=e.substring(1).split("");return 3==t.length&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),t="0x"+t.join(""),"rgba(".concat(t>>16&255,",").concat(t>>8&255,",").concat(255&t,",").concat(n,")")}throw new Error("Bad Hex Number: "+e)}},{key:"pointerToRaycaster",value:function(e,n,t){var o=new THREE.Vector3,i=new THREE.Vector3,a=new THREE.Raycaster,r=e.getBoundingClientRect(),l=(t.clientX-r.left)/r.width*2-1,s=-(t.clientY-r.top)/r.height*2+1;return n.isPerspective?(o.set(l,s,.5),o.unproject(n),a.set(n.position,o.sub(n.position).normalize())):(o.set(l,s,-1),o.unproject(n),i.set(0,0,-1),a.set(o,i.transformDirection(n.matrixWorld))),a}},{key:"onMouseMove",value:function(e){var n=e.pointers?e.pointers[0]:e;this.pointerToRaycaster(this.viewer.impl.canvas,this.viewer.impl.camera,n).intersectObjects(this.intersectMeshes,!0)}},{key:"onSelection",value:(o=r()(i.a.mark(function e(n){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.selections.length&&n.selections[0].dbIdArray[0];case 1:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)})},{key:"onClick",value:function(e){var n=e.pointers?e.pointers[0]:e,t=this.pointerToRaycaster(this.viewer.impl.canvas,this.viewer.impl.camera,n).intersectObjects(this.intersectMeshes,!0);if(t.length){var o=t[0].object;this.panel.setVisible(!1),this.panel.setNodeProperties(o.dbId),this.panel.setVisible(!0)}}},{key:"onLevelWallsClicked",value:function(e){var n=this,t=this.react.getState();e.walls.active=!e.walls.active,this.react.setState({levels:t.levels});var o=e.walls.meshes;if(o.forEach(function(t){e.walls.active?(n.viewer.impl.scene.add(t),n.intersectMeshes.push(t)):n.viewer.impl.scene.remove(t)}),!e.walls.active){var i=o.map(function(e){return e.id});this.intersectMeshes=this.intersectMeshes.filter(function(e){return!i.includes(e.id)})}var a=t.levels.filter(function(e){return e.walls.active}),r=t.levels.filter(function(e){return e.floor.active});a.length+r.length?(L.a.hide(this.viewer,this.rootId),this.eventTool.activate()):(L.a.show(this.viewer,this.rootId),this.eventTool.deactivate())}},{key:"drawLine",value:function(e){this.viewer.impl.addOverlay("wallAnalyzer",e)}},{key:"clearLine",value:function(e){this.viewer.impl.removeOverlay("wallAnalyzer",e)}},{key:"onLevelFloorClicked",value:function(e){var n=this,t=this.react.getState();e.floor.active=!e.floor.active,this.react.setState({levels:t.levels});var o=e.floor.meshes;if(e.floor.active)e.floor.paths.forEach(function(e){e.lines.forEach(function(e){n.drawLine(e)})}),o.forEach(function(e){n.viewer.impl.scene.add(e),n.intersectMeshes.push(e)});else{e.floor.paths.forEach(function(e){e.lines.forEach(function(e){n.clearLine(e)})}),o.forEach(function(e){n.viewer.impl.scene.remove(e)});var i=o.map(function(e){return e.id});this.intersectMeshes=this.intersectMeshes.filter(function(e){return!i.includes(e.id)})}var a=this.viewer.getState({viewport:!0});this.viewer.restoreState(a);var r=t.levels.filter(function(e){return e.walls.active}),l=t.levels.filter(function(e){return e.floor.active});r.length+l.length?(L.a.hide(this.viewer,this.rootId),this.eventTool.activate()):(L.a.show(this.viewer,this.rootId),this.eventTool.deactivate())}},{key:"onEnableWireFrame",value:function(e){this.wireframe=e,this.levelMaterials.forEach(function(n){n.wireframe=e}),this.viewer.impl.sceneUpdated(!0)}},{key:"setDocking",value:(t=r()(i.a.mark(function e(t){var o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.ExtensionId,!t){e.next=7;break}return e.next=4,this.react.popRenderExtension(o);case 4:this.react.pushViewerPanel(this,{height:250,width:350}),e.next=10;break;case 7:return e.next=9,this.react.popViewerPanel(o);case 9:this.react.pushRenderExtension(this);case 10:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"onLevelReportClicked",value:function(e,n){e.stopPropagation();var t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(n,null,2)),o=document.createElement("a");o.setAttribute("download","".concat(n.level,".json")),o.setAttribute("href",t),document.body.appendChild(o),o.click(),document.body.removeChild(o)}},{key:"renderContent",value:function(){var e=this,n=this.react.getState(),t=!1,o=n.levels.map(function(n){t=t||n.walls.active||n.floor.active;var o=n.walls.active?" active":"",i=n.floor.active?" active":"",a={backgroundColor:e.hexToRgbA(n.fillColor,.3),border:"2px solid ".concat(n.strokeColor)};return A.a.createElement("div",{key:n.walls.name,className:"list-item"},A.a.createElement("div",{className:"item-color",style:a}),A.a.createElement("label",null,n.name),A.a.createElement("div",{onClick:function(t){e.onLevelReportClicked(t,n.report)},className:"level-report"},A.a.createElement("span",{className:"fa fa-cloud-download"}),"report.json"),A.a.createElement("div",{onClick:function(){return e.onLevelFloorClicked(n)},className:"level-floor"+i},"Floor"),A.a.createElement("div",{onClick:function(){return e.onLevelWallsClicked(n)},className:"level-walls"+o},"Walls"))});return A.a.createElement("div",{className:"content"},A.a.createElement(N.b,{show:n.loader}),A.a.createElement("div",{className:"row"},"Select an item to isolate walls or floor on this level:"),A.a.createElement("div",{className:"item-list-container"},o),t&&A.a.createElement("div",{className:"row"},"Enable wireframe:"),t&&A.a.createElement("div",{className:"row"},A.a.createElement(_.a,{className:"control-element",onChange:this.onEnableWireFrame,checked:this.wireframe})))}},{key:"renderTitle",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.docked,o=t?"fa fa-chain-broken":"fa fa-chain";return A.a.createElement("div",{className:"title"},A.a.createElement("label",null,"Wall Analyzer"),n.showDocking&&A.a.createElement("div",{className:"wall-analyzer-controls"},A.a.createElement("button",{onClick:function(){return e.setDocking(t)},title:"Toggle docking mode"},A.a.createElement("span",{className:o}))))}},{key:"render",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return A.a.createElement(C.a,{renderTitle:function(){return e.renderTitle(n.docked)},showTitle:n.showTitle,className:this.className},this.renderContent())}},{key:"className",get:function(){return"wall-analyzer"}}],[{key:"ExtensionId",get:function(){return"Viewing.Extension.WallAnalyzer"}}]),n}(b.a);Autodesk.Viewing.theExtensionManager.registerExtension(I.ExtensionId,I);n.default="Viewing.Extension.WallAnalyzer"},443:function(e,n,t){"use strict";var o=t(444);n.a=o.a},444:function(e,n,t){"use strict";(function(e){t.d(n,"a",function(){return g});var o=t(116),i=t.n(o),a=t(2),r=t.n(a),l=t(3),s=t.n(l),c=t(5),d=t.n(c),u=t(4),h=t.n(u),v=t(50),p=t.n(v),f=t(6),m=t.n(f),g=function(n){function t(e){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r()(this,t),n=d()(this,h()(t).call(this,e)),Object.assign(p()(n),o.serviceContext),n.onModelCompletedLoad=n.onModelCompletedLoad.bind(p()(n)),n.onObjectTreeCreated=n.onObjectTreeCreated.bind(p()(n)),n.onModelRootLoaded=n.onModelRootLoaded.bind(p()(n)),n.onExtensionLoaded=n.onExtensionLoaded.bind(p()(n)),n.onModelActivated=n.onModelActivated.bind(p()(n)),n.onGeometryLoaded=n.onGeometryLoaded.bind(p()(n)),n.onToolbarCreated=n.onToolbarCreated.bind(p()(n)),n.onModelBeginLoad=n.onModelBeginLoad.bind(p()(n)),n.onModelUnloaded=n.onModelUnloaded.bind(p()(n)),n.onSelection=n.onSelection.bind(p()(n)),n.__onModelRootLoaded=n.__onModelRootLoaded.bind(p()(n)),n.__onModelActivated=n.__onModelActivated.bind(p()(n)),n.__onModelUnloaded=n.__onModelUnloaded.bind(p()(n)),n.__onModelLoaded=n.__onModelLoaded.bind(p()(n)),n.defaultOptions=i,n.options=Object.assign({},i,o),n.viewer=e;var a=e.impl.modelQueue().getModels();return n.models=a.map(function(e){return e.guid=e.guid||n.guid(),e}),n.initializeEvents(),n}return m()(t,n),s()(t,[{key:"load",value:function(){return!0}},{key:"unload",value:function(){var e=this;return this.viewerEvents.forEach(function(n){e.viewer.removeEventListener(n.id,e[n.handler])}),this.eventSink&&(this.eventSink.off("model.activated",this.__onModelActivated),this.eventSink.off("model.unloaded",this.__onModelUnloaded),this.eventSink.off("model.loaded",this.__onModelLoaded)),this.off(),!0}},{key:"reload",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.options=Object.assign({},this.defaultOptions,this.options,e),!0}},{key:"onExtensionLoaded",value:function(e){}},{key:"onModelBeginLoad",value:function(e){}},{key:"onModelActivated",value:function(e){}},{key:"__onModelRootLoaded",value:function(e){var n=this;this.viewerEvent([Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,Autodesk.Viewing.GEOMETRY_LOADED_EVENT]).then(function(e){n.onModelCompletedLoad(e[0])})}},{key:"onModelRootLoaded",value:function(e){}},{key:"onObjectTreeCreated",value:function(e){}},{key:"onGeometryLoaded",value:function(e){}},{key:"onModelCompletedLoad",value:function(e){}},{key:"onToolbarCreated",value:function(e){}},{key:"onModelUnloaded",value:function(e){}},{key:"onSelection",value:function(e){}},{key:"__onModelLoaded",value:function(e){this.models=[].concat(i()(this.models),[e.model]),this.onModelBeginLoad(e)}},{key:"__onModelActivated",value:function(e){this.onModelActivated(e)}},{key:"__onModelUnloaded",value:function(e){this.models=this.models.filter(function(n){return n.guid!==e.model.guid}),this.onModelUnloaded(e)}},{key:"initializeEvents",value:function(){var e=this;this.options.eventSink&&(this.eventSink=this.options.eventSink,this.eventSink.on("model.loaded",this.__onModelLoaded),this.eventSink.on("model.activated",this.__onModelActivated),this.eventSink.on("model.unloaded",this.__onModelUnloaded)),this.viewerEvents=[{id:Autodesk.Viewing.EXTENSION_LOADED_EVENT,handler:"onExtensionLoaded"},{id:Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,handler:"onObjectTreeCreated"},{id:Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,handler:"__onModelRootLoaded"},{id:Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,handler:"onModelRootLoaded"},{id:Autodesk.Viewing.GEOMETRY_LOADED_EVENT,handler:"onGeometryLoaded"},{id:Autodesk.Viewing.TOOLBAR_CREATED_EVENT,handler:"onToolbarCreated"},{id:Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT,handler:"onSelection"}],this.viewerEvents.forEach(function(n){e.viewerEvent(n.id,e[n.handler])})}},{key:"viewerEvent",value:function(n,t){var o=this;if(!t){var i=(Array.isArray(n)?n:[n]).map(function(n){return new e(function(e){o.viewer.addEventListener(n,function t(i){o.viewer.removeEventListener(n,t),e(i)})})});return e.all(i)}this.viewer.addEventListener(n,t)}}],[{key:"ExtensionId",get:function(){return"Viewing.Extension.MultiModelExtensionBase"}}]),t}(t(117).a.Composer(Autodesk.Viewing.Extension))}).call(this,t(31))},446:function(e,n,t){"use strict";var o=t(116),i=t.n(o),a=t(2),r=t.n(a),l=t(3),s=t.n(l),c=t(5),d=t.n(c),u=t(4),h=t.n(u),v=t(6),p=t.n(v),f=t(17),m=t.n(f),g=t(1),w=t.n(g),k=(t(29),t(447),t(0)),y=t.n(k),b=function(e){function n(){return r()(this,n),d()(this,h()(n).apply(this,arguments))}return p()(n,e),s()(n,[{key:"renderTitle",value:function(){return this.props.showTitle?this.props.renderTitle?this.props.renderTitle():y.a.createElement("div",{className:"title"},y.a.createElement("label",null,this.props.title)):y.a.createElement("div",null)}},{key:"renderChildren",value:function(){var e=this;return this.props.dimensions?y.a.Children.map(this.props.children,function(n){var t=Object.assign({},n.props,{dimensions:e.props.dimensions});return y.a.cloneElement(n,t)}):this.props.children}},{key:"render",value:function(){var e=["widget-container"].concat(i()(this.props.className.split(" "))),n=this.props.showTitle?"calc(100% - 40px)":"100%";return y.a.createElement("div",{className:e.join(" "),style:this.props.style},this.renderTitle(),y.a.createElement("div",{className:"content",style:{height:n}},this.renderChildren()))}}]),n}(y.a.Component);m()(b,"propTypes",{className:w.a.string,showTitle:w.a.bool}),m()(b,"defaultProps",{showTitle:!0,className:""});var E=b;n.a=E},447:function(e,n,t){var o=t(448);"string"==typeof o&&(o=[[e.i,o,""]]);t(28)(o,{});o.locals&&(e.exports=o.locals)},448:function(e,n,t){(e.exports=t(27)(!1)).push([e.i,".widget-container {\n  position: relative;\n  height: 100%;\n  width: 100%; }\n\n.widget-container > .title {\n  border-bottom: 1px solid #cdcdcd;\n  background-color: #f5f5f5;\n  padding-right: 10px;\n  color: black;\n  position: relative;\n  overflow: hidden;\n  text-align: left;\n  height: 40px;\n  width: 100%; }\n\n.widget-container > .title > label {\n  white-space: nowrap;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  margin-left: 27px;\n  margin-top: 10px; }\n\n.widget-container > .content {\n  position: relative;\n  overflow: hidden;\n  height: 100%;\n  width: 100%; }\n",""])},460:function(e,n,t){"use strict";var o,i,a,r=t(116),l=t.n(r),s=t(2),c=t.n(s),d=t(3),u=t.n(d),h=t(5),v=t.n(h),p=t(4),f=t.n(p),m=t(6),g=t.n(m),w=t(17),k=t.n(w),y=t(37),b=t.n(y),E=t(38),x=t(1),M=t.n(x),C=t(0),T=t.n(C),L=(a=i=function(e){function n(){var e;return c()(this,n),(e=v()(this,f()(n).call(this))).state={checked:!0},e}return g()(n,e),u()(n,[{key:"componentWillMount",value:function(){this.setState({checked:this.props.checked})}},{key:"toggle",value:function(){if(!this.props.disabled){var e=!this.state.checked;this.setState({checked:e}),this.props.onChange&&this.props.onChange(e)}}},{key:"render",value:function(){var e=["switch-container",this.props.disabled?"disabled":""].concat(l()(this.props.className.split(" ")));return T.a.createElement("div",{className:e.join(" "),onClick:this.toggle},T.a.createElement("input",{ref:"switch",className:"switch",checked:this.state.checked,value:this.state.checked,onChange:function(){},type:"checkbox"}),T.a.createElement("div",null,T.a.createElement("span",null,T.a.createElement("g",{className:"icon icon-toolbar grid-view"})),T.a.createElement("span",null,T.a.createElement("g",{className:"icon icon-toolbar ticket-view"})),T.a.createElement("div",null)))}}]),n}(T.a.Component),k()(i,"propTypes",{className:M.a.string,checked:M.a.bool}),k()(i,"defaultProps",{checked:!0,className:""}),o=a,b()(o.prototype,"toggle",[E.a],Object.getOwnPropertyDescriptor(o.prototype,"toggle"),o.prototype),o);t(461),n.a=L},461:function(e,n,t){var o=t(462);"string"==typeof o&&(o=[[e.i,o,""]]);t(28)(o,{});o.locals&&(e.exports=o.locals)},462:function(e,n,t){(e.exports=t(27)(!1)).push([e.i,'.switch-container {\n  position: relative; }\n\n.switch-container *:hover {\n  cursor: pointer; }\n\n.switch-container.disabled *:hover {\n  cursor: not-allowed; }\n\ninput[type="checkbox"].switch {\n  pointer-events: none;\n  position: absolute;\n  cursor: pointer;\n  opacity: 0; }\n\ninput[type="checkbox"].switch + div {\n  vertical-align: middle;\n  width: 40px;\n  height: 20px;\n  border-radius: 999px;\n  background-color: #9d9d9d;\n  transition-duration: .4s;\n  transition-property: background-color, box-shadow;\n  cursor: pointer; }\n\ninput[type="checkbox"].switch + div span {\n  position: absolute;\n  font-size: 1.6rem;\n  color: #f5f5f5;\n  margin-top: 12px; }\n\ninput[type="checkbox"].switch + div span:nth-child(1) {\n  margin-left: 15px; }\n\ninput[type="checkbox"].switch + div span:nth-child(2) {\n  margin-left: 55px; }\n\ninput[type="checkbox"].switch:checked + div {\n  width: 60px;\n  background-position: 0 0;\n  background-color: #57BB00; }\n\n.switch-container.disabled input[type="checkbox"].switch + div {\n  background-color: rgba(157, 157, 157, 0.5); }\n\ninput[type="checkbox"].switch + div {\n  width: 60px;\n  height: 26px; }\n\ninput[type="checkbox"].switch + div > div {\n  float: left;\n  width: 24px;\n  height: 24px;\n  border-radius: inherit;\n  background: #f5f5f5;\n  transition-timing-function: cubic-bezier(1, 0, 0, 1);\n  transition-duration: 0.4s;\n  transition-property: transform, background-color;\n  pointer-events: none;\n  margin-top: 1px;\n  margin-left: 1px; }\n\ninput[type="checkbox"].switch:checked + div > div {\n  transform: translate3d(20px, 0, 0);\n  background-color: #f5f5f5; }\n\ninput[type="checkbox"].bigswitch.switch + div > div {\n  width: 44px;\n  height: 44px;\n  margin-top: 1px; }\n\ninput[type="checkbox"].switch:checked + div > div {\n  transform: translate3d(34px, 0, 0); }\n',""])},487:function(e,n,t){"use strict";var o=t(2),i=t.n(o),a=t(3),r=t.n(a),l=t(5),s=t.n(l),c=t(4),d=t.n(c),u=t(50),h=t.n(u),v=t(6),p=t.n(v),f=function(e){function n(e){var t;return i()(this,n),(t=s()(this,d()(n).call(this))).viewer=e,t.toolName=t.guid(),e.toolController.registerTool(h()(t)),t}return p()(n,e),r()(n,[{key:"getNames",value:function(){return[this.getName()]}},{key:"getName",value:function(){return this.toolName}},{key:"getPriority",value:function(){return 1e3}},{key:"activate",value:function(){this.active||(this.active=!0,this.viewer.toolController.activateTool(this.toolName),this.emit("activate",this))}},{key:"deactivate",value:function(){this.active&&(this.active=!1,this.viewer.toolController.deactivateTool(this.toolName),this.emit("deactivate",this))}},{key:"handleSingleClick",value:function(e,n){return this.emit("singleclick",e,n)}},{key:"handleDoubleClick",value:function(e,n){return this.emit("doubleclick",e,n)}},{key:"handleMouseMove",value:function(e){return this.emit("mousemove",e)}},{key:"handleWheelInput",value:function(e){return this.emit("mousewheel",e)}},{key:"handleGesture",value:function(e){return this.emit("gesture",e)}},{key:"handleKeyDown",value:function(e,n){return this.emit("keydown",e,n)}},{key:"handleButtonDown",value:function(e,n){return this.emit("buttondown",e,n)}},{key:"handleButtonUp",value:function(e,n){return this.emit("buttonup",e,n)}}]),n}(t(117).a);n.a=f}}]);
//# sourceMappingURL=72.js.map