(window.webpackJsonp=window.webpackJsonp||[]).push([[81,90],{460:function(e,t,n){"use strict";var i,o,r,a=n(116),c=n.n(a),s=n(2),d=n.n(s),h=n(3),l=n.n(h),p=n(5),u=n.n(p),v=n(4),f=n.n(v),k=n(6),m=n.n(k),g=n(17),b=n.n(g),x=n(37),y=n.n(x),w=n(38),C=n(1),N=n.n(C),E=n(0),S=n.n(E),I=(r=o=function(e){function t(){var e;return d()(this,t),(e=u()(this,f()(t).call(this))).state={checked:!0},e}return m()(t,e),l()(t,[{key:"componentWillMount",value:function(){this.setState({checked:this.props.checked})}},{key:"toggle",value:function(){if(!this.props.disabled){var e=!this.state.checked;this.setState({checked:e}),this.props.onChange&&this.props.onChange(e)}}},{key:"render",value:function(){var e=["switch-container",this.props.disabled?"disabled":""].concat(c()(this.props.className.split(" ")));return S.a.createElement("div",{className:e.join(" "),onClick:this.toggle},S.a.createElement("input",{ref:"switch",className:"switch",checked:this.state.checked,value:this.state.checked,onChange:function(){},type:"checkbox"}),S.a.createElement("div",null,S.a.createElement("span",null,S.a.createElement("g",{className:"icon icon-toolbar grid-view"})),S.a.createElement("span",null,S.a.createElement("g",{className:"icon icon-toolbar ticket-view"})),S.a.createElement("div",null)))}}]),t}(S.a.Component),b()(o,"propTypes",{className:N.a.string,checked:N.a.bool}),b()(o,"defaultProps",{checked:!0,className:""}),i=r,y()(i.prototype,"toggle",[w.a],Object.getOwnPropertyDescriptor(i.prototype,"toggle"),i.prototype),i);n(461),t.a=I},461:function(e,t,n){var i=n(462);"string"==typeof i&&(i=[[e.i,i,""]]);n(28)(i,{});i.locals&&(e.exports=i.locals)},462:function(e,t,n){(e.exports=n(27)(!1)).push([e.i,'.switch-container {\n  position: relative; }\n\n.switch-container *:hover {\n  cursor: pointer; }\n\n.switch-container.disabled *:hover {\n  cursor: not-allowed; }\n\ninput[type="checkbox"].switch {\n  pointer-events: none;\n  position: absolute;\n  cursor: pointer;\n  opacity: 0; }\n\ninput[type="checkbox"].switch + div {\n  vertical-align: middle;\n  width: 40px;\n  height: 20px;\n  border-radius: 999px;\n  background-color: #9d9d9d;\n  transition-duration: .4s;\n  transition-property: background-color, box-shadow;\n  cursor: pointer; }\n\ninput[type="checkbox"].switch + div span {\n  position: absolute;\n  font-size: 1.6rem;\n  color: #f5f5f5;\n  margin-top: 12px; }\n\ninput[type="checkbox"].switch + div span:nth-child(1) {\n  margin-left: 15px; }\n\ninput[type="checkbox"].switch + div span:nth-child(2) {\n  margin-left: 55px; }\n\ninput[type="checkbox"].switch:checked + div {\n  width: 60px;\n  background-position: 0 0;\n  background-color: #57BB00; }\n\n.switch-container.disabled input[type="checkbox"].switch + div {\n  background-color: rgba(157, 157, 157, 0.5); }\n\ninput[type="checkbox"].switch + div {\n  width: 60px;\n  height: 26px; }\n\ninput[type="checkbox"].switch + div > div {\n  float: left;\n  width: 24px;\n  height: 24px;\n  border-radius: inherit;\n  background: #f5f5f5;\n  transition-timing-function: cubic-bezier(1, 0, 0, 1);\n  transition-duration: 0.4s;\n  transition-property: transform, background-color;\n  pointer-events: none;\n  margin-top: 1px;\n  margin-left: 1px; }\n\ninput[type="checkbox"].switch:checked + div > div {\n  transform: translate3d(20px, 0, 0);\n  background-color: #f5f5f5; }\n\ninput[type="checkbox"].bigswitch.switch + div > div {\n  width: 44px;\n  height: 44px;\n  margin-top: 1px; }\n\ninput[type="checkbox"].switch:checked + div > div {\n  transform: translate3d(34px, 0, 0); }\n',""])},537:function(e,t,n){var i=n(574);"string"==typeof i&&(i=[[e.i,i,""]]);n(28)(i,{});i.locals&&(e.exports=i.locals)},574:function(e,t,n){(e.exports=n(27)(!1)).push([e.i,'.hierarchy-tree-container .treeview-base lmvheader {\n  transition-property: background, border;\n  transition-timing-function: ease;\n  transition-duration: 1.5s;\n  transition-delay: 0.0s;\n  background: rgba(245, 245, 245, 0.5);\n  margin-bottom: -4px;\n  border: none;\n  height: 30px; }\n\n.hierarchy-tree-container .treeview-base lmvheader:hover {\n  background: rgba(0, 105, 245, 0.35); }\n\n.hierarchy-tree-container .treeview-base group > lmvheader > icon {\n  height: 20px;\n  float: left; }\n\n.hierarchy-tree-container .treenode .switch-container {\n  border: 1px solid #9c9c9c;\n  border-radius: 12px;\n  margin: 0 8px 0 2px;\n  float: left; }\n\n.hierarchy-tree-container .treenode .label-container {\n  pointer-events: none; }\n\n.hierarchy-tree-container .treenode {\n  float: left; }\n\n.hierarchy-tree-container input[type="checkbox"].switch + div {\n  width: 34px;\n  height: 16px; }\n\n.hierarchy-tree-container input[type="checkbox"].switch:checked + div {\n  width: 34px; }\n\n.hierarchy-tree-container input[type="checkbox"].switch:checked + div > div {\n  transform: translate3d(18px, 0, 0); }\n\n.hierarchy-tree-container input[type="checkbox"].switch + div > div {\n  height: 16px;\n  width: 16px;\n  margin: 0; }\n',""])},618:function(e,t,n){"use strict";n.r(t);var i=n(2),o=n.n(i),r=n(3),a=n.n(r),c=n(5),s=n.n(c),d=n(4),h=n.n(d),l=n(6),p=n.n(l),u=n(116),v=n.n(u),f=n(17),k=n.n(f),m=n(50),g=n.n(m),b=n(117),x=n(1),y=n.n(x),w=n(29),C=n.n(w),N=n(460),E=n(449),S=n(0),I=n.n(S),D=function(e){function t(e){var n;return o()(this,t),(n=s()(this,h()(t).call(this))).setChecked=n.setChecked.bind(g()(n)),n.onExpand=n.onExpand.bind(g()(n)),n.on("expand",n.onExpand),n.showSwitch=e.showSwitch,n.hierarchy=e.hierarchy,n.delegate=e.delegate,n.disabled=e.disabled,n.checked=e.checked,n.parent=e.parent,n.group=e.group,n.name=e.name,n.type=e.type,n.id=e.id,n.children=[],n}return p()(t,e),a()(t,[{key:"onExpand",value:function(){this.off("expand",this.onExpand),this.loadChildren()}},{key:"setDisabled",value:function(e){this.disabled=e,this.reactNode=C.a.render(I.a.createElement(j,{onChecked:this.setChecked,showSwitch:this.showSwitch,disabled:this.disabled,checked:this.checked,name:this.name}),this.domContainer),(e||this.checked)&&this.children.forEach(function(t){t.setDisabled(e,!0)})}},{key:"setChecked",value:function(e){this.checked=e,this.delegate.emit("node.checked",this),this.children.forEach(function(t){t.setDisabled(!e)})}},{key:"mount",value:function(e){this.domContainer=e,this.collapse(),this.reactNode=C.a.render(I.a.createElement(j,{onChecked:this.setChecked,showSwitch:this.showSwitch,disabled:this.disabled,checked:this.checked,name:this.name}),this.domContainer)}},{key:"expand",value:function(){var e=this.domContainer.parentElement.parentElement;e.classList.remove("collapsed"),e.classList.add("expanded"),this.emit("expand")}},{key:"collapse",value:function(){var e=this.domContainer.parentElement.parentElement;e.classList.remove("expanded"),e.classList.add("collapsed")}},{key:"loadChildren",value:function(){var e=this;this.children=this.hierarchy.map(function(n){var i=new t({disabled:e.disabled||!e.checked,hierarchy:n.objects||[],showSwitch:e.showSwitch,delegate:e.delegate,group:!!n.objects,id:n.objectid,name:n.name,checked:!0,parent:e,type:"child"});return e.addChild(i),i})}},{key:"destroy",value:function(){this.children.forEach(function(e){e.destroy()}),C.a.unmountComponentAtNode(this.domContainer),this.delegate.emit("node.destroy",this)}}]),t}(b.a),j=function(e){function t(){return o()(this,t),s()(this,h()(t).apply(this,arguments))}return p()(t,e),a()(t,[{key:"render",value:function(){var e=this,t=["treenode"].concat(v()(this.props.className.split(" ")));return I.a.createElement("div",{className:t.join(" ")},this.props.showSwitch&&I.a.createElement(N.a,{onChange:function(t){return e.props.onChecked(t)},disabled:this.props.disabled,checked:this.props.checked,className:"handle-click"}),I.a.createElement(E.a,{text:this.props.name}))}}]),t}(I.a.Component);k()(j,"propTypes",{className:y.a.string}),k()(j,"defaultProps",{showSwitch:!1,className:""});var R=n(458),A=function(e){function t(){return o()(this,t),s()(this,h()(t).call(this))}return p()(t,e),a()(t,[{key:"createRootNode",value:function(e){var t=e.objectid;return this.rootNode=new D({hierarchy:e.objects,group:!!e.objects,name:e.name,showSwitch:!0,delegate:this,checked:!0,parent:null,type:"root",id:t}),this.rootNode}},{key:"destroy",value:function(){this.rootNode&&this.rootNode.destroy(),this.off()}},{key:"createTreeNode",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n=document.createElement("div");t.appendChild(n),e.mount(n)}},{key:"nodeClickSelector",value:function(e){var t=e.target.parentNode.className;return!(e.target.className.indexOf("handle-click")>-1||t.indexOf("handle-click")>-1)}},{key:"forEachChild",value:function(e,t){e.addChild=t}}]),t}(R.a),P=(n(537),function(e){function t(e){var n;return o()(this,t),(n=s()(this,h()(t).call(this,e))).delegate=new A,n.delegate.on("node.checked",function(e){n.props.onNodeChecked&&n.props.onNodeChecked(e)}),n.delegate.on("node.destroy",function(e){n.tree.destroyNode(e.id)}),n}return p()(t,e),a()(t,[{key:"loadTree",value:function(e){if(e.data&&e.data.objects){var t=e.data.objects[0];this.rootNode=this.delegate.createRootNode(t),this.tree=new R.b(this.delegate,this.rootNode,this.treeContainer,{excludeRoot:!1}),this.rootNode.expand(),this.rootNode.setChecked(!0),this.props.onRootNodeCreated(this.tree,this.rootNode)}}},{key:"componentDidMount",value:function(){this.loadTree(this.props.hierarchy)}},{key:"shouldComponentUpdate",value:function(e){return e.guid!==this.props.guid}},{key:"componentWillReceiveProps",value:function(e){this.props.guid!==e.guid&&(this.delegate.destroy(),this.tree.destroy(),this.loadTree(e.hierarchy))}},{key:"componentWillUnmount",value:function(){this.delegate.destroy(),this.delegate.off(),this.tree&&this.tree.destroy()}},{key:"render",value:function(){var e=this;return I.a.createElement("div",{className:"hierarchy-tree-container",ref:function(t){return e.treeContainer=t}})}}]),t}(I.a.Component));t.default=P},672:function(e,t,n){var i=n(673);"string"==typeof i&&(i=[[e.i,i,""]]);n(28)(i,{});i.locals&&(e.exports=i.locals)},673:function(e,t,n){(e.exports=n(27)(!1)).push([e.i,".ar-vr-toolkit .new-scene {\n  position: relative;\n  overflow-y: scroll;\n  overflow-x: scroll;\n  text-align: left;\n  background: white;\n  padding: 10px;\n  height: 100%;\n  width: 100%; }\n  .ar-vr-toolkit .new-scene .content {\n    overflow: hidden;\n    height: 100%; }\n    .ar-vr-toolkit .new-scene .content .controls {\n      margin-bottom: 10px;\n      position: relative;\n      height: 26px; }\n      .ar-vr-toolkit .new-scene .content .controls input {\n        width: calc(100% - 162px);\n        margin-right: 2px;\n        padding-left: 4px;\n        outline: none;\n        float: left; }\n      .ar-vr-toolkit .new-scene .content .controls button {\n        background: whitesmoke;\n        border-radius: 0px;\n        color: dimgrey;\n        outline: none;\n        width: 160px;\n        height: 26px;\n        float: left; }\n        .ar-vr-toolkit .new-scene .content .controls button span {\n          position: relative;\n          margin-right: 4px;\n          top: 1px; }\n    .ar-vr-toolkit .new-scene .content .hierarchy-tree-container {\n      height: calc(100% - 36px);\n      overflow-x: hidden;\n      overflow-y: scroll; }\n",""])},892:function(e,t,n){"use strict";n.r(t);var i=n(30),o=n.n(i),r=n(42),a=n.n(r),c=n(2),s=n.n(c),d=n(3),h=n.n(d),l=n(5),p=n.n(l),u=n(4),v=n.n(u),f=n(50),k=n.n(f),m=n(6),g=n.n(m),b=n(618),x=n(453),y=n(118),w=n(0),C=n.n(w),N=function(e){function t(e){var n;return s()(this,t),(n=p()(this,v()(t).call(this,e))).onRootNodeCreated=n.onRootNodeCreated.bind(k()(n)),n.onInputChanged=n.onInputChanged.bind(k()(n)),n.onNodeChecked=n.onNodeChecked.bind(k()(n)),n.createScene=n.createScene.bind(k()(n)),n.toolkitAPI=n.props.arvrToolkitAPI,n}var n;return g()(t,e),h()(t,[{key:"onInputChanged",value:function(e){this.sceneId=e.target.value}},{key:"onRootNodeCreated",value:function(e,t){}},{key:"onNodeChecked",value:function(e){var t=e.id.toString();e.checked?(this.includedDbIds.push(t),this.removedDbIds=this.removedDbIds.filter(function(e){return e!==t})):(this.removedDbIds.push(t),this.includedDbIds=this.includedDbIds.filter(function(e){return e!==t}))}},{key:"createScene",value:(n=a()(o.a.mark(function e(){var t,n,i,r,a,c,s,d,h;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.sceneId||this.guid(),n=this.props.notifySvc.add({title:"Creating scene "+t+" ...",dismissible:!1,status:"loading",id:this.guid(),dismissAfter:0,position:"tl"}),e.prev=2,i=this.props.model,r=i.urn,a=i.projectId,c=i.versionId,s={},!a){e.next=11;break}return d={prj:{projectId:a,versionId:c,urn:r},remove:this.removedDbIds,list:this.includedDbIds},e.next=9,this.toolkitAPI.createScene3Legged(a,c,t,d,s);case 9:e.next=14;break;case 11:return h={prj:{urn:r},remove:this.removedDbIds,list:this.includedDbIds},e.next=14,this.toolkitAPI.createScene(r,t,h,s);case 14:return e.next=16,this.toolkitAPI.processScene(r,t);case 16:n.title="Scene ".concat(t," created!"),n.dismissAfter=1500,n.status="success",this.props.notifySvc.update(n),this.props.onSceneCreated(),e.next=30;break;case 23:e.prev=23,e.t0=e.catch(2),console.log(e.t0),n.title="Scene ".concat(t," failed :("),n.dismissAfter=1500,n.status="error",this.props.notifySvc.update(n);case 30:case"end":return e.stop()}},e,this,[[2,23]])})),function(){return n.apply(this,arguments)})},{key:"guid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"xxxx-xxxx-xxxx",t=(new Date).getTime(),n=e.replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:7&n|8).toString(16)});return n}},{key:"shouldComponentUpdate",value:function(e){return e.guid!==this.props.guid&&(this.includedDbIds=[],this.removedDbIds=[],!0)}},{key:"render",value:function(){var e=this.props,t=e.guid,n=e.hierarchy;return C.a.createElement("div",{className:"new-scene"},C.a.createElement(y.b,{show:!n}),this.props.hierarchy&&C.a.createElement("div",{className:"content"},C.a.createElement("div",{className:"controls"},C.a.createElement("input",{onChange:this.onInputChanged,placeholder:"Scene name...",type:"text"}),C.a.createElement("button",{onClick:this.createScene},C.a.createElement("span",{className:"fa fa-cloud-upload"}),"Create scene ...")),C.a.createElement(b.default,{onRootNodeCreated:this.onRootNodeCreated,onNodeChecked:this.onNodeChecked,hierarchy:n,showSwitch:!0,guid:t})))}}]),t}(x.a);n(672),t.default=N}}]);
//# sourceMappingURL=81.js.map