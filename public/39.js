(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{1224:function(e,n,t){"use strict";t.r(n);t(1225);n.default="Viewing.Extension.ModelLoader"},1225:function(e,n,t){"use strict";(function(e){var n=t(116),o=t.n(n),i=t(30),r=t.n(i),a=t(42),l=t.n(a),s=t(2),d=t.n(s),c=t(3),u=t.n(c),p=t(5),f=t.n(p),h=t(50),m=t.n(h),v=t(4),g=t.n(v),x=t(445),b=t.n(x),w=t(6),y=t.n(w),E=t(443),k=t(476),M=t.n(k),T=(t(1226),t(446)),_=(t(36),t(118)),S=t(451),L=t(473),O=t.n(L),C=t(471),N=t.n(C),A=(t(29),t(507)),R=t(449),V=t(0),D=t.n(V),j=t(1420),P=t(1421),I=function(n){function t(e,n){var o;return d()(this,t),(o=f()(this,g()(t).call(this,e,n))).onContextMenu=o.onContextMenu.bind(m()(o)),o.renderTitle=o.renderTitle.bind(m()(o)),o.react=n.react,o}var i,a,s;return y()(t,n),u()(t,[{key:"load",value:function(){var n=this;this.viewer.model||(this.viewer.container.classList.add("empty"),this.options.loader&&this.options.loader.show(!1));var t=this.models,o=t.length?t[0]:null;if(this.firstFileType=o?this.getFileType(o.urn):null,this.react.setState({activeModel:o,models:t}).then(function(){n.options.noUI||n.react.pushRenderExtension(n)}),!this.options.noUI){var i={pushRenderExtension:function(){return e.resolve()},popRenderExtension:function(){return e.resolve()}},r=Object.assign({},{react:i,fullTransform:!0,hideControls:!0},this.options.transformer);this.viewer.loadDynamicExtension("Viewing.Extension.ModelTransformer",r).then(function(e){n.react.setState({modelTransformer:e}),o&&e.setModel(o)}),this.viewer.loadDynamicExtension("Viewing.Extension.ContextMenu").then(function(e){e.addHandler(n.onContextMenu)})}return console.log("Viewing.Extension.ModelLoader loaded"),!0}},{key:"onContextMenu",value:function(e){var n=this;e.model&&e.menu.push({title:"Unload model ...",target:function(){n.unloadModel()}})}},{key:"unload",value:function(){return console.log("Viewing.Extension.ModelLoader unloaded"),this.viewer.unloadExtension("Viewing.Extension.ModelTransformer"),this.react.popViewerPanel(this),b()(g()(t.prototype),"unload",this).call(this),!0}},{key:"scaleModel",value:function(e,n){for(var t=e.getFragmentList().fragments.fragId2dbId.length,o=0;o<t;++o){var i=this.viewer.impl.getFragmentProxy(e,o);i.getAnimTransform(),i.scale=new THREE.Vector3(n,n,n),i.updateAnimTransform()}this.viewer.impl.sceneUpdated(!0)}},{key:"onModelCompletedLoad",value:function(e){var n=e.model,t=n.getUnitScale();this.refScale=this.refScale||t,t!==this.refScale&&this.scaleModel(n,t/this.refScale)}},{key:"showModelDlg",value:function(){var e=this;this.dialogSvc.setState({className:"model-loader-dlg",title:"Select Model ...",showOK:!1,search:"",content:D.a.createElement("div",null,D.a.createElement(_.b,{show:!0})),open:!0}),this.modelSvc.getModels(this.options.database).then(function(n){var t=O()(n,function(e){return e.name});e.dialogSvc.setState({dbModels:t,open:!0},!0),e.setDlgItems(t)})}},{key:"getFileType",value:function(e){return window.atob(e).split(".").pop(-1)}},{key:"loadModel",value:function(n){var t=this;return new e(function(){var e=l()(r.a.mark(function e(o){var i,a,l,s,d,c,u;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.options.loader.show(!0),i=n.fileType||t.getFileType(n.model.urn),a={placementTransform:t.buildPlacementTransform(i)},e.t0=n.env,e.next="AutodeskProduction"===e.t0?6:"Local"===e.t0?14:17;break;case 6:return l=n.model.proxy||"lmv-proxy-2legged",Autodesk.Viewing.endpoint.setEndpointAndApi("".concat(window.location.origin,"/").concat(l),"derivativeV2"),e.next=10,S.a.loadDocument(n.model.urn);case 10:return s=e.sent,(d=S.a.getViewableItems(s)).length&&(c=s.getViewablePath(d[0]),t.viewer.loadModel(c,a,function(e){e.database=n.database||t.options.database,e.dbModelId=n._id,e.urn=n.model.urn,e.name=n.name,e.guid=t.guid(),e.proxy=l,t.eventSink.emit("model.loaded",{model:e}),o(e)})),e.abrupt("break",17);case 14:return u=n.model.path,t.viewer.loadModel(u,a,function(e){e.database=t.options.database,e.dbModelId=n._id,e.urn=n.model.urn,e.name=n.name,e.guid=t.guid(),t.eventSink.emit("model.loaded",{model:e}),o(e)}),e.abrupt("break",17);case 17:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}())}},{key:"unloadModel",value:(s=l()(r.a.mark(function e(n){var t,o,i,a,s,d,c,u=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.react.getState(),o=t.activeModel,i=t.models,!o){e.next=13;break}if(a=function(){var e=l()(r.a.mark(function e(n,t,o){var i,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(i=o.filter(function(e){return e.guid!==t.guid})).length||(n.viewer.container.classList.add("empty"),n.firstFileType=null),e.next=4,n.react.setState({models:i});case 4:return a=i.length?i[0]:null,n.eventSink.emit("model.unloaded",{model:t}),n.viewer.impl.unloadModel(t),e.next=9,n.setActiveModel(a,{source:"model.unloaded"});case 9:case"end":return e.stop()}},e)}));return function(n,t,o){return e.apply(this,arguments)}}(),!n){e.next=8;break}return e.next=6,a(this,o,i);case 6:e.next=13;break;case 8:s=this,d=function(){var e=l()(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("OK"!==n){e.next=3;break}return e.next=3,a(s,o,i);case 3:u.dialogSvc.off("dialog.close",d);case 4:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),c=N.a.sanitize("Are you sure you want to unload"+"<b><br/>".concat(o.name,"</b> ?")),this.dialogSvc.on("dialog.close",d),this.dialogSvc.setState({className:"model-loader-unload-dlg",title:"Unload Model ...",content:D.a.createElement("div",{dangerouslySetInnerHTML:{__html:c}}),open:!0});case 13:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"buildPlacementTransform",value:function(e){this.firstFileType=this.firstFileType||e;var n=new THREE.Matrix4,t=["rvt","nwc"];return t.indexOf(this.firstFileType)>-1?t.indexOf(e)<0&&n.makeRotationX(90*Math.PI/180):t.indexOf(e)>-1&&n.makeRotationX(-90*Math.PI/180),n}},{key:"fitModelToView",value:function(e){var n=e.getData().instanceTree;if(n){var t=n.getRootId();this.viewer.fitToView([t],e)}}},{key:"onModelBeginLoad",value:function(e){var n=this.react.getState().models,t=e.model;this.react.setState({models:[].concat(o()(n),[t])}),this.setActiveModel(t,{source:"model.loaded",fitToView:!0}),this.firstFileType=this.firstFileType||this.getFileType(t.urn)}},{key:"onModelRootLoaded",value:function(e){this.viewer.container.classList.remove("empty"),this.options.loader.show(!1)}},{key:"onSelection",value:function(e){if(e.selections&&e.selections.length){var n=e.selections[0].model;this.setActiveModel(n,{source:"model.selected"}),this.eventSink.emit("model.selected",{model:n})}}},{key:"setActiveModel",value:(a=l()(r.a.mark(function e(n){var t,o,i=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:{},o=this.viewer.activeModel?this.viewer.activeModel.guid:null,this.viewer.activeModel=n,t.fitToView&&this.fitModelToView(n),e.next=6,this.react.setState({activeModel:n});case 6:n&&n.guid!==o&&this.eventSink.emit("model.activated",{source:t.source,model:n});case 7:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"setStructure",value:function(e){var n=e.getData().instanceTree,t=this.viewer.modelstructure;n&&t&&t.instanceTree!==n&&t.setModel(n)}},{key:"onKeyDown",value:function(e){13===e.keyCode&&(e.stopPropagation(),e.preventDefault())}},{key:"onSearchChanged",value:function(e){var n=e.target.value.toLowerCase();this.dialogSvc.setState({search:n},!0);var t=this.dialogSvc.getState().dbModels.filter(function(e){return!n.length||e.name.toLowerCase().indexOf(n)>-1});this.setDlgItems(t)}},{key:"setDlgItems",value:function(e){var n=this,t=this.dialogSvc.getState(),o=e.map(function(e){var t=n.modelSvc.getThumbnailUrl(n.options.database,e._id,200);return D.a.createElement("div",{key:e._id,className:"model-item",onClick:function(){n.loadModel(e),n.dialogSvc.setState({open:!1})}},D.a.createElement(A.a,{src:t}),D.a.createElement(R.a,{text:e.name}))});this.dialogSvc.setState({content:D.a.createElement("div",null,D.a.createElement(_.b,{show:!1}),D.a.createElement(M.a,{onChange:function(e){return n.onSearchChanged(e)},onKeyDown:function(e){return n.onKeyDown(e)},"data-placeholder":"Search ...",html:t.search,className:"search"}),D.a.createElement("div",{className:"scroller"},o))},!0)}},{key:"setDocking",value:(i=l()(r.a.mark(function e(n){var o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.ExtensionId,!n){e.next=8;break}return e.next=4,this.react.popRenderExtension(o);case 4:return e.next=6,this.react.pushViewerPanel(this,{height:250,width:350});case 6:e.next=11;break;case 8:return e.next=10,this.react.popViewerPanel(o);case 10:this.react.pushRenderExtension(this);case 11:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"renderTitle",value:function(e){var n=this,t=e?"fa fa-chain-broken":"fa fa-chain";return D.a.createElement("div",{className:"title"},D.a.createElement("label",null,"Model Loader"),D.a.createElement("div",{className:"model-loader-controls"},D.a.createElement("button",{onClick:function(){return n.setDocking(e)},title:"Toggle docking mode"},D.a.createElement("span",{className:t}))))}},{key:"renderControls",value:function(){var e=this,n=this.react.getState(),t=n.activeModel,o=n.models.map(function(n,t){return D.a.createElement(j.a,{eventKey:t,key:n.guid,onClick:function(){e.setActiveModel(n,{source:"dropdown",fitToView:!0})}},n.name)}),i=t?t.name:"";return D.a.createElement("div",{className:"controls"},D.a.createElement("div",{className:"row"},D.a.createElement(P.a,{title:"Model: "+i,className:"sequence-dropdown",disabled:!t,key:"sequence-dropdown",id:"sequence-dropdown"},o),D.a.createElement("button",{onClick:function(){return e.showModelDlg()},title:"Load model"},D.a.createElement("span",{className:"fa fa-plus"})),D.a.createElement("button",{onClick:function(){return e.unloadModel()},disabled:!t,title:"Unload model"},D.a.createElement("span",{className:"fa fa-times"}))))}},{key:"renderTransformer",value:function(){var e=this.react.getState().modelTransformer;return e?e.render({showTitle:!1}):D.a.createElement("div",null)}},{key:"render",value:function(e){var n=this;return D.a.createElement(T.a,{renderTitle:function(){return n.renderTitle(e.docked)},showTitle:e.showTitle,className:this.className},this.renderControls(),this.renderTransformer())}},{key:"className",get:function(){return"model-loader"}}],[{key:"ExtensionId",get:function(){return"Viewing.Extension.ModelLoader"}}]),t}(E.a);Autodesk.Viewing.theExtensionManager.registerExtension(I.ExtensionId,I)}).call(this,t(31))},1226:function(e,n,t){var o=t(1227);"string"==typeof o&&(o=[[e.i,o,""]]);t(28)(o,{});o.locals&&(e.exports=o.locals)},1227:function(e,n,t){(e.exports=t(27)(!1)).push([e.i,".model-loader .title {\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n  float: left; }\n\n.model-loader .title > label {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  white-space: nowrap;\n  font-weight: normal;\n  user-select: none;\n  margin-left: 27px;\n  margin-top: 10px;\n  select: none;\n  width: 142px;\n  float: left; }\n\n.model-loader .content > .controls {\n  margin: 10px 10px 0px 10px;\n  display: inline-block;\n  white-space: nowrap;\n  width: 100%; }\n\n.model-loader .content > .controls > .row {\n  width: 100%;\n  margin: 0; }\n\n.model-loader .content > .controls .dropdown {\n  width: calc(100% - 88px);\n  margin-bottom: 6px;\n  float: left; }\n  .model-loader .content > .controls .dropdown .dropdown-menu {\n    max-height: 150px;\n    overflow: scroll;\n    width: 100%; }\n\n.model-loader .content > .controls .dropdown > button {\n  padding: 0 10px 0 10px;\n  overflow: hidden;\n  height: 26px;\n  width: 100%;\n  margin: 0; }\n\n.model-loader .content > .controls button {\n  background: whitesmoke;\n  border-radius: 4px;\n  margin-left: 4px;\n  outline: none;\n  height: 26px;\n  width: 30px;\n  float: left; }\n\n.model-loader .content > .controls button > span {\n  position: relative;\n  font-size: 16px;\n  color: #9b9b9b;\n  top: 1px; }\n  .model-loader .content > .controls button > span.caret {\n    margin-left: 4px; }\n\n.model-loader .content > .controls button:disabled > span {\n  color: #d0d0d0; }\n\n.model-loader .content > .controls button:hover:not(:disabled) > span {\n  color: #FF9800; }\n\n.model-loader .content > .controls button:disabled > span {\n  color: #d0d0d0; }\n\n.model-loader .content > .controls label {\n  margin: 4px 10px 0 10px;\n  font-weight: normal;\n  float: left; }\n\n.model-loader .content > .controls .state-name-input {\n  border: 1px solid #aeaeae;\n  width: calc(100% - 155px);\n  padding: 3px 0 0 10px;\n  white-space: nowrap;\n  border-radius: 4px;\n  text-align: left;\n  overflow: hidden;\n  height: 26px;\n  float: left; }\n\n.model-loader .content > .controls .loop {\n  margin-left: 6px;\n  float: left; }\n\n.model-loader .content > .controls .loop > label {\n  margin: 0 0 0 6px; }\n\n.model-loader .items {\n  height: calc(100% - 82px);\n  overflow: scroll;\n  margin: 4px; }\n\n.model-loader .items > .item, .gu-mirror.item {\n  transition-timing-function: ease;\n  transition-duration: 1.5s;\n  transition-property: all;\n  transition-delay: 0.0s;\n  border: 1px solid #aeaeae;\n  width: calc(100% - 10px);\n  background: #ededed;\n  white-space: nowrap;\n  border-radius: 4px;\n  overflow: hidden;\n  cursor: pointer;\n  height: 26px;\n  padding: 2px;\n  margin: 5px; }\n\n.model-loader .items > .item:hover {\n  background: rgba(0, 105, 245, 0.35);\n  border: 1px solid #1bb1f4; }\n\n.model-loader .items > .item.active {\n  background: rgba(0, 105, 245, 0.35);\n  border: 1px solid #1bb1f4; }\n\n.model-loader .items > .item > div, .gu-mirror.item > div {\n  width: calc(100% - 50px);\n  pointer-events: none;\n  position: relative;\n  margin: 0 0 0 12px;\n  float: left; }\n\n.model-loader .items > .item > div > .label, .gu-mirror.item > div > .label {\n  font-weight: normal;\n  font-size: small;\n  color: black;\n  width: 100%; }\n\n.model-loader .items > .item > button, .gu-mirror.item > button {\n  transition-timing-function: ease;\n  transition-duration: 1.5s;\n  transition-property: all;\n  transition-delay: 0.0s;\n  background: #f58b00;\n  border-radius: 4px;\n  position: relative;\n  outline: none;\n  float: right;\n  height: 20px;\n  right: 1px; }\n\n.model-loader .items > .item > button:hover {\n  background: #ff9000; }\n\n.model-loader .items > .item > button > span, .gu-mirror.item > button > span {\n  transition-timing-function: ease;\n  transition-duration: 1.5s;\n  transition-property: all;\n  transition-delay: 0.0s;\n  position: relative;\n  color: #505050;\n  top: -4px; }\n\n.model-loader .items > .item > button:hover > span {\n  color: #000000; }\n\n.model-loader-dlg {\n  left: calc(50% - 200px) !important;\n  top: calc(30% - 100px) !important;\n  width: 400px !important; }\n\n.model-loader-dlg > .content {\n  max-height: 300px;\n  overflow: hidden;\n  height: auto; }\n\n.model-loader-dlg > .content > div {\n  max-height: 300px;\n  height: auto; }\n\n.model-loader-dlg .search {\n  border: 1px solid #8c8b8b;\n  width: calc(100% - 10px);\n  padding: 4px 0 0 4px;\n  background: #eaeaea;\n  border-radius: 4px;\n  margin: 0 0 6px 5px;\n  text-align: left;\n  color: #000000;\n  height: 32px; }\n\n.model-loader-dlg .scroller {\n  overflow-y: scroll;\n  max-height: 248px;\n  height: auto; }\n\n.model-loader-dlg .model-item {\n  transition-timing-function: ease;\n  transition-duration: 1.5s;\n  transition-property: all;\n  transition-delay: 0.0s;\n  border: 1px solid #aeaeae;\n  width: calc(100% - 10px);\n  background: #ededed;\n  white-space: nowrap;\n  border-radius: 4px;\n  overflow: hidden;\n  cursor: pointer;\n  height: 76px;\n  padding: 2px;\n  margin: 5px; }\n\n.model-loader-dlg .model-item:hover {\n  background: rgba(0, 105, 245, 0.35);\n  border: 1px solid #1bb1f4; }\n\n.model-loader-dlg .model-item img {\n  height: 70px;\n  width: 70px;\n  float: left; }\n\n.model-loader-dlg .model-item .label-container {\n  font-weight: bold;\n  text-align: left;\n  left: 20px;\n  top: 20px; }\n\n.model-loader-controls {\n  margin: auto 0 auto calc(100% - 142px);\n  position: relative;\n  float: left; }\n\n.model-loader-controls > button {\n  border: 1px solid #c6c6c6;\n  background-color: #e1e1e1;\n  border-radius: 6px;\n  position: relative;\n  overflow: hidden;\n  outline: none;\n  height: 24px;\n  width: 26px; }\n\n.model-loader-controls > button:hover {\n  border: 1px solid #878787;\n  background-color: #f5f5f5; }\n\n.model-loader-controls > button > label {\n  position: relative;\n  font-size: 20px;\n  color: #f0fcff;\n  top: -8px; }\n\n.model-loader-controls > button > span {\n  pointer-events: none;\n  color: #9b9b9b; }\n",""])},443:function(e,n,t){"use strict";var o=t(444);n.a=o.a},444:function(e,n,t){"use strict";(function(e){t.d(n,"a",function(){return g});var o=t(116),i=t.n(o),r=t(2),a=t.n(r),l=t(3),s=t.n(l),d=t(5),c=t.n(d),u=t(4),p=t.n(u),f=t(50),h=t.n(f),m=t(6),v=t.n(m),g=function(n){function t(e){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};a()(this,t),n=c()(this,p()(t).call(this,e)),Object.assign(h()(n),o.serviceContext),n.onModelCompletedLoad=n.onModelCompletedLoad.bind(h()(n)),n.onObjectTreeCreated=n.onObjectTreeCreated.bind(h()(n)),n.onModelRootLoaded=n.onModelRootLoaded.bind(h()(n)),n.onExtensionLoaded=n.onExtensionLoaded.bind(h()(n)),n.onModelActivated=n.onModelActivated.bind(h()(n)),n.onGeometryLoaded=n.onGeometryLoaded.bind(h()(n)),n.onToolbarCreated=n.onToolbarCreated.bind(h()(n)),n.onModelBeginLoad=n.onModelBeginLoad.bind(h()(n)),n.onModelUnloaded=n.onModelUnloaded.bind(h()(n)),n.onSelection=n.onSelection.bind(h()(n)),n.__onModelRootLoaded=n.__onModelRootLoaded.bind(h()(n)),n.__onModelActivated=n.__onModelActivated.bind(h()(n)),n.__onModelUnloaded=n.__onModelUnloaded.bind(h()(n)),n.__onModelLoaded=n.__onModelLoaded.bind(h()(n)),n.defaultOptions=i,n.options=Object.assign({},i,o),n.viewer=e;var r=e.impl.modelQueue().getModels();return n.models=r.map(function(e){return e.guid=e.guid||n.guid(),e}),n.initializeEvents(),n}return v()(t,n),s()(t,[{key:"load",value:function(){return!0}},{key:"unload",value:function(){var e=this;return this.viewerEvents.forEach(function(n){e.viewer.removeEventListener(n.id,e[n.handler])}),this.eventSink&&(this.eventSink.off("model.activated",this.__onModelActivated),this.eventSink.off("model.unloaded",this.__onModelUnloaded),this.eventSink.off("model.loaded",this.__onModelLoaded)),this.off(),!0}},{key:"reload",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.options=Object.assign({},this.defaultOptions,this.options,e),!0}},{key:"onExtensionLoaded",value:function(e){}},{key:"onModelBeginLoad",value:function(e){}},{key:"onModelActivated",value:function(e){}},{key:"__onModelRootLoaded",value:function(e){var n=this;this.viewerEvent([Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,Autodesk.Viewing.GEOMETRY_LOADED_EVENT]).then(function(e){n.onModelCompletedLoad(e[0])})}},{key:"onModelRootLoaded",value:function(e){}},{key:"onObjectTreeCreated",value:function(e){}},{key:"onGeometryLoaded",value:function(e){}},{key:"onModelCompletedLoad",value:function(e){}},{key:"onToolbarCreated",value:function(e){}},{key:"onModelUnloaded",value:function(e){}},{key:"onSelection",value:function(e){}},{key:"__onModelLoaded",value:function(e){this.models=[].concat(i()(this.models),[e.model]),this.onModelBeginLoad(e)}},{key:"__onModelActivated",value:function(e){this.onModelActivated(e)}},{key:"__onModelUnloaded",value:function(e){this.models=this.models.filter(function(n){return n.guid!==e.model.guid}),this.onModelUnloaded(e)}},{key:"initializeEvents",value:function(){var e=this;this.options.eventSink&&(this.eventSink=this.options.eventSink,this.eventSink.on("model.loaded",this.__onModelLoaded),this.eventSink.on("model.activated",this.__onModelActivated),this.eventSink.on("model.unloaded",this.__onModelUnloaded)),this.viewerEvents=[{id:Autodesk.Viewing.EXTENSION_LOADED_EVENT,handler:"onExtensionLoaded"},{id:Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,handler:"onObjectTreeCreated"},{id:Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,handler:"__onModelRootLoaded"},{id:Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,handler:"onModelRootLoaded"},{id:Autodesk.Viewing.GEOMETRY_LOADED_EVENT,handler:"onGeometryLoaded"},{id:Autodesk.Viewing.TOOLBAR_CREATED_EVENT,handler:"onToolbarCreated"},{id:Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT,handler:"onSelection"}],this.viewerEvents.forEach(function(n){e.viewerEvent(n.id,e[n.handler])})}},{key:"viewerEvent",value:function(n,t){var o=this;if(!t){var i=(Array.isArray(n)?n:[n]).map(function(n){return new e(function(e){o.viewer.addEventListener(n,function t(i){o.viewer.removeEventListener(n,t),e(i)})})});return e.all(i)}this.viewer.addEventListener(n,t)}}],[{key:"ExtensionId",get:function(){return"Viewing.Extension.MultiModelExtensionBase"}}]),t}(t(117).a.Composer(Autodesk.Viewing.Extension))}).call(this,t(31))},445:function(e,n,t){var o=t(450);function i(n,t,r){return"undefined"!=typeof Reflect&&Reflect.get?e.exports=i=Reflect.get:e.exports=i=function(e,n,t){var i=o(e,n);if(i){var r=Object.getOwnPropertyDescriptor(i,n);return r.get?r.get.call(t):r.value}},i(n,t,r||n)}e.exports=i},446:function(e,n,t){"use strict";var o=t(116),i=t.n(o),r=t(2),a=t.n(r),l=t(3),s=t.n(l),d=t(5),c=t.n(d),u=t(4),p=t.n(u),f=t(6),h=t.n(f),m=t(17),v=t.n(m),g=t(1),x=t.n(g),b=(t(29),t(447),t(0)),w=t.n(b),y=function(e){function n(){return a()(this,n),c()(this,p()(n).apply(this,arguments))}return h()(n,e),s()(n,[{key:"renderTitle",value:function(){return this.props.showTitle?this.props.renderTitle?this.props.renderTitle():w.a.createElement("div",{className:"title"},w.a.createElement("label",null,this.props.title)):w.a.createElement("div",null)}},{key:"renderChildren",value:function(){var e=this;return this.props.dimensions?w.a.Children.map(this.props.children,function(n){var t=Object.assign({},n.props,{dimensions:e.props.dimensions});return w.a.cloneElement(n,t)}):this.props.children}},{key:"render",value:function(){var e=["widget-container"].concat(i()(this.props.className.split(" "))),n=this.props.showTitle?"calc(100% - 40px)":"100%";return w.a.createElement("div",{className:e.join(" "),style:this.props.style},this.renderTitle(),w.a.createElement("div",{className:"content",style:{height:n}},this.renderChildren()))}}]),n}(w.a.Component);v()(y,"propTypes",{className:x.a.string,showTitle:x.a.bool}),v()(y,"defaultProps",{showTitle:!0,className:""});var E=y;n.a=E},447:function(e,n,t){var o=t(448);"string"==typeof o&&(o=[[e.i,o,""]]);t(28)(o,{});o.locals&&(e.exports=o.locals)},448:function(e,n,t){(e.exports=t(27)(!1)).push([e.i,".widget-container {\n  position: relative;\n  height: 100%;\n  width: 100%; }\n\n.widget-container > .title {\n  border-bottom: 1px solid #cdcdcd;\n  background-color: #f5f5f5;\n  padding-right: 10px;\n  color: black;\n  position: relative;\n  overflow: hidden;\n  text-align: left;\n  height: 40px;\n  width: 100%; }\n\n.widget-container > .title > label {\n  white-space: nowrap;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  margin-left: 27px;\n  margin-top: 10px; }\n\n.widget-container > .content {\n  position: relative;\n  overflow: hidden;\n  height: 100%;\n  width: 100%; }\n",""])},449:function(e,n,t){"use strict";var o=t(116),i=t.n(o),r=t(2),a=t.n(r),l=t(3),s=t.n(l),d=t(5),c=t.n(d),u=t(4),p=t.n(u),f=t(6),h=t.n(f),m=t(17),v=t.n(m),g=t(1),x=t.n(g),b=t(471),w=t.n(b),y=(t(29),t(0)),E=t.n(y),k=(t(455),function(e){function n(e){return a()(this,n),c()(this,p()(n).call(this,e))}return h()(n,e),s()(n,[{key:"render",value:function(){var e=["label-container"].concat(i()(this.props.className.split(" "))),n={width:"center"===this.props.textAlign?"100%":"",textAlign:this.props.textAlign};return E.a.createElement("div",{className:e.join(" "),style:n},E.a.createElement("p",null,w.a.sanitize(this.props.text)))}}]),n}(E.a.Component));v()(k,"propTypes",{textAlign:x.a.string,className:x.a.string,text:x.a.string}),v()(k,"defaultProps",{textAlign:"left",className:"",text:""});n.a=k},450:function(e,n,t){var o=t(4);e.exports=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=o(e)););return e}},455:function(e,n,t){var o=t(456);"string"==typeof o&&(o=[[e.i,o,""]]);t(28)(o,{});o.locals&&(e.exports=o.locals)},456:function(e,n,t){(e.exports=t(27)(!1)).push([e.i,".label-container {\n  position: relative;\n  overflow: hidden;\n  font-size: 100%;\n  color: #343434;\n  height: 100%;\n  float: left; }\n",""])},459:function(e,n,t){var o=t(490),i=t(472);e.exports=function e(n,t,r,a,l){var s=-1,d=n.length;for(r||(r=i),l||(l=[]);++s<d;){var c=n[s];t>0&&r(c)?t>1?e(c,t-1,r,a,l):o(l,c):a||(l[l.length]=c)}return l}},463:function(e,n,t){var o=t(195),i=t(483);e.exports=function(e,n){return e&&o(e,n,i)}},466:function(e,n,t){var o=t(463),i=t(475)(o);e.exports=i},472:function(e,n,t){var o=t(121),i=t(122),r=t(119),a=o?o.isConcatSpreadable:void 0;e.exports=function(e){return r(e)||i(e)||!!(a&&e&&e[a])}},473:function(e,n,t){var o=t(459),i=t(477),r=t(196),a=t(197),l=r(function(e,n){if(null==e)return[];var t=n.length;return t>1&&a(e,n[0],n[1])?n=[]:t>2&&a(n[0],n[1],n[2])&&(n=[n[0]]),i(e,o(n,1),[])});e.exports=l},474:function(e,n,t){var o=t(466),i=t(90);e.exports=function(e,n){var t=-1,r=i(e)?Array(e.length):[];return o(e,function(e,o,i){r[++t]=n(e,o,i)}),r}},475:function(e,n,t){var o=t(90);e.exports=function(e,n){return function(t,i){if(null==t)return t;if(!o(t))return e(t,i);for(var r=t.length,a=n?r:-1,l=Object(t);(n?a--:++a<r)&&!1!==i(l[a],a,l););return t}}},476:function(e,n,t){"use strict";var o,i=this&&this.__extends||(o=function(e,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)n.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(t[o[i]]=e[o[i]])}return t},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var d=l(t(0)),c=s(t(482)),u=l(t(1));function p(e){return e&&e.replace(/&nbsp;|\u202F|\u00A0/g," ")}function f(e){var n=function e(n){if(n.nodeType===Node.TEXT_NODE)return n;for(var t=n.childNodes,o=t.length-1;o>=0;o--){var i=e(t[o]);if(null!==i)return i}return null}(e),t=document.activeElement===e;if(null!==n&&null!==n.nodeValue&&t){var o=window.getSelection();if(null!==o){var i=document.createRange();i.setStart(n,n.nodeValue.length),i.collapse(!0),o.removeAllRanges(),o.addRange(i)}e instanceof HTMLElement&&e.focus()}}var h=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.lastHtml=n.props.html,n.el="function"==typeof n.props.innerRef?{current:null}:d.createRef(),n.getEl=function(){return(n.props.innerRef&&"function"!=typeof n.props.innerRef?n.props.innerRef:n.el).current},n.emitChange=function(e){var t=n.getEl();if(t){var o=t.innerHTML;if(n.props.onChange&&o!==n.lastHtml){var i=Object.assign({},e,{target:{value:o}});n.props.onChange(i)}n.lastHtml=o}},n}return i(n,e),n.prototype.render=function(){var e=this,n=this.props,t=n.tagName,o=n.html,i=n.innerRef,l=a(n,["tagName","html","innerRef"]);return d.createElement(t||"div",r({},l,{ref:"function"==typeof i?function(n){i(n),e.el.current=n}:i||this.el,onInput:this.emitChange,onBlur:this.props.onBlur||this.emitChange,onKeyUp:this.props.onKeyUp||this.emitChange,onKeyDown:this.props.onKeyDown||this.emitChange,contentEditable:!this.props.disabled,dangerouslySetInnerHTML:{__html:o}}),this.props.children)},n.prototype.shouldComponentUpdate=function(e){var n=this.props,t=this.getEl();return!t||(p(e.html)!==p(t.innerHTML)||(n.disabled!==e.disabled||n.tagName!==e.tagName||n.className!==e.className||n.innerRef!==e.innerRef||!c.default(n.style,e.style)))},n.prototype.componentDidUpdate=function(){var e=this.getEl();e&&(this.props.html!==e.innerHTML&&(e.innerHTML=this.lastHtml=this.props.html),f(e))},n.propTypes={html:u.string.isRequired,onChange:u.func,disabled:u.bool,tagName:u.string,className:u.string,style:u.object,innerRef:u.oneOfType([u.object,u.func])},n}(d.Component);n.default=h},477:function(e,n,t){var o=t(498),i=t(486),r=t(474),a=t(478),l=t(194),s=t(479),d=t(123);e.exports=function(e,n,t){var c=-1;n=o(n.length?n:[d],l(i));var u=r(e,function(e,t,i){return{criteria:o(n,function(n){return n(e)}),index:++c,value:e}});return a(u,function(e,n){return s(e,n,t)})}},478:function(e,n){e.exports=function(e,n){var t=e.length;for(e.sort(n);t--;)e[t]=e[t].value;return e}},479:function(e,n,t){var o=t(480);e.exports=function(e,n,t){for(var i=-1,r=e.criteria,a=n.criteria,l=r.length,s=t.length;++i<l;){var d=o(r[i],a[i]);if(d)return i>=s?d:d*("desc"==t[i]?-1:1)}return e.index-n.index}},480:function(e,n,t){var o=t(495);e.exports=function(e,n){if(e!==n){var t=void 0!==e,i=null===e,r=e==e,a=o(e),l=void 0!==n,s=null===n,d=n==n,c=o(n);if(!s&&!c&&!a&&e>n||a&&l&&d&&!s&&!c||i&&l&&d||!t&&d||!r)return 1;if(!i&&!a&&!c&&e<n||c&&t&&r&&!i&&!a||s&&t&&r||!l&&r||!d)return-1}return 0}},482:function(e,n,t){"use strict";var o=Array.isArray,i=Object.keys,r=Object.prototype.hasOwnProperty;e.exports=function e(n,t){if(n===t)return!0;var a,l,s,d=o(n),c=o(t);if(d&&c){if((l=n.length)!=t.length)return!1;for(a=0;a<l;a++)if(!e(n[a],t[a]))return!1;return!0}if(d!=c)return!1;var u=n instanceof Date,p=t instanceof Date;if(u!=p)return!1;if(u&&p)return n.getTime()==t.getTime();var f=n instanceof RegExp,h=t instanceof RegExp;if(f!=h)return!1;if(f&&h)return n.toString()==t.toString();if(n instanceof Object&&t instanceof Object){var m=i(n);if((l=m.length)!==i(t).length)return!1;for(a=0;a<l;a++)if(!r.call(t,m[a]))return!1;for(a=0;a<l;a++)if(!e(n[s=m[a]],t[s]))return!1;return!0}return!1}},507:function(e,n,t){"use strict";var o=t(116),i=t.n(o),r=t(2),a=t.n(r),l=t(3),s=t.n(l),d=t(5),c=t.n(d),u=t(4),p=t.n(u),f=t(50),h=t.n(f),m=t(6),v=t.n(m),g=t(17),x=t.n(g),b=t(1),w=t.n(b),y=t(0),E=t.n(y),k=(t(508),function(e){function n(e){var t;return a()(this,n),(t=c()(this,p()(n).call(this,e))).onError=t.onError.bind(h()(t)),t.onLoad=t.onLoad.bind(h()(t)),t.state={classNames:["default-adsk"],src:t.props.src},t}return v()(n,e),s()(n,[{key:"onLoad",value:function(){this.setState({classNames:[]})}},{key:"onError",value:function(){this.setState({classNames:["default-adsk"]})}},{key:"render",value:function(){var e=[].concat(i()(this.state.classNames),i()(this.props.className.split(" ")));return E.a.createElement("img",{className:e.join(" "),onError:this.onError,onLoad:this.onLoad,src:this.state.src})}}]),n}(E.a.Component));x()(k,"propTypes",{className:w.a.string}),x()(k,"defaultProps",{className:""});n.a=k},508:function(e,n,t){var o=t(509);"string"==typeof o&&(o=[[e.i,o,""]]);t(28)(o,{});o.locals&&(e.exports=o.locals)},509:function(e,n,t){(e.exports=t(27)(!1)).push([e.i,".label-container {\n  position: relative;\n  overflow: hidden;\n  font-size: 100%;\n  color: #343434;\n  height: 100%;\n  float: left; }\n",""])}}]);
//# sourceMappingURL=39.js.map