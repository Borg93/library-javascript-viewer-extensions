(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{1331:function(t,e,n){var i=n(1332);"string"==typeof i&&(i=[[t.i,i,""]]);n(28)(i,{});i.locals&&(t.exports=i.locals)},1332:function(t,e,n){(t.exports=n(27)(!1)).push([t.i,".property-bar-chart > .title, .property-pie-chart > .title {\n  background-color: white !important;\n  position: relative;\n  margin-top: 10px;\n  height: 25px; }\n\n.property-list > .title {\n  background-color: white !important;\n  position: relative;\n  margin-top: 10px;\n  height: 25px; }\n\n.property-bar-chart > .title > label, .property-pie-chart > .title > label {\n  position: relative;\n  z-index: 100;\n  float: left;\n  left: 20%; }\n\n.property-list > .title > label {\n  position: relative;\n  z-index: 100;\n  float: left;\n  left: 4%; }\n\n.property-bar-chart .bar-chart, .property-pie-chart .pie-chart {\n  position: relative;\n  height: 200px; }\n\n.property-list .table {\n  margin-bottom: 0px; }\n\n.property-list .react-bs-container-body {\n  height: calc(100% - 40px) !important;\n  overflow: scroll; }\n\n.property-list-table {\n  border-bottom: 1px solid #dddddd;\n  border-top: 1px solid #dddddd;\n  margin-bottom: 10px;\n  overflow: hidden;\n  height: 192px; }\n\n.property-list-table .react-bs-table-container {\n  height: 100%; }\n\n.property-list-table .table-bordered {\n  border: none; }\n\n.property-list-table td {\n  text-align: left !important;\n  cursor: pointer;\n  outline: none; }\n\n.plant-factory .loader-background {\n  z-index: 1000; }\n",""])},1387:function(t,e,n){"use strict";n.r(e);var i=n(30),a=n.n(i),o=n(42),r=n.n(o),s=n(2),l=n.n(s),d=n(3),u=n.n(d),c=n(5),p=n.n(c),h=n(50),f=n.n(h),g=n(4),v=n.n(g),m=n(445),y=n.n(m),w=n(6),b=n.n(w),E=n(443),k=(n(1331),n(446)),S=n(118),x=n(545),D=n.n(x),P=n(451),_=n(0),T=n.n(_),M=n(503),G=n.n(M),C=n(678),A=function(t){function e(){return l()(this,e),p()(this,v()(e).call(this))}return b()(e,t),u()(e,[{key:"render",value:function(){var t=this.props,e=t.guid,n=t.title,i=t.data,a=t.viewer;return T.a.createElement("div",{className:"property-bar-chart"},T.a.createElement("div",{className:"title controls"},T.a.createElement("label",null,n)),T.a.createElement(C.a,{onGroupClicked:function(t){var e=t.dbIds;P.a.isolateFull(a,e),a.fitToView()},guid:e,data:i}))}}]),e}(T.a.Component),L=n(703),R=function(t){function e(){return l()(this,e),p()(this,v()(e).call(this))}return b()(e,t),u()(e,[{key:"render",value:function(){var t=this.props,e=t.guid,n=t.title,i=t.data,a=t.viewer,o=t.style;return T.a.createElement("div",{className:"property-pie-chart",style:o},T.a.createElement("div",{className:"title controls"},T.a.createElement("label",null,n)),T.a.createElement(L.a,{onSegmentClicked:function(t,e){var n=e?[]:t.dbIds;P.a.isolateFull(a,n),a.fitToView()},dataGuid:e,data:i}))}}]),e}(T.a.Component),O=n(17),I=n.n(O),N=n(830),V=function(t){function e(){var t;return l()(this,e),(t=p()(this,v()(e).call(this))).percentFormatter=function(t,e){return"".concat(t.toFixed(2)," %      ")},t.onRowClick=t.onRowClick.bind(f()(t)),t.lastClickedIndex=-1,t}return b()(e,t),u()(e,[{key:"onRowClick",value:function(t,e){if(this.lastClickedIndex!==t.index){var n=t.dbIds;P.a.isolateFull(e,n),e.fitToView()}else P.a.isolateFull(e),e.fitToView();this.lastClickedIndex=t.index}},{key:"render",value:function(){var t,e=this,n=this.props,i=n.title,a=n.data,o=n.viewer,r=n.style;return T.a.createElement("div",{className:"property-list",style:r},T.a.createElement("div",{className:"title controls"},T.a.createElement("label",null,i)),T.a.createElement("div",{className:"property-list-table"},T.a.createElement(N.BootstrapTable,{data:a,striped:!0,hover:!0,options:{onRowClick:function(t){return e.onRowClick(t,o)}}},T.a.createElement(N.TableHeaderColumn,(t={headerAlign:"left",dataAlign:"left",dataField:"shortLabel",isKey:!0},I()(t,"dataAlign","center"),I()(t,"dataSort",!0),t),"Value"),T.a.createElement(N.TableHeaderColumn,{width:"120",headerAlign:"left",dataAlign:"left",dataField:"percent",dataFormat:this.percentFormatter},"% Components"))))}}]),e}(T.a.Component),F={viewport:{eye:[-1030.0044002713657,689.6647995313627,23.252165301460103],target:[-996.3266755707967,710.4723026870788,-1.3707349423499071],up:[.4493194129425462,.277608276267206,.849144104437472],worldUpVector:[0,0,1],pivotPoint:[-925.7424926757812,757.1752319335938,-43.030099868774414],distanceToOrbit:140.45651469798588,aspectRatio:1.7655609631147542,projection:"perspective",isOrthographic:!1,fieldOfView:48.981823953438095}},j=function(t){function e(t,n){var i;return l()(this,e),(i=p()(this,v()(e).call(this,t,n))).onStopResize=i.onStopResize.bind(f()(i)),i.render=i.render.bind(f()(i)),i.react=n.react,i}var n,i;return b()(e,t),u()(e,[{key:"load",value:function(){var t=this;return this.viewer.setProgressiveRendering(!0),window.addEventListener("resize",this.onStopResize),this.react.setState({showLoader:!0,projectAreaData:[],projectDisciplineData:[],pipingSystemData:[],pipingPriorityData:[],pipingFabricationStatusData:[],pipingMaterialStatusData:[],pipingProgressData:[],pipingIWPData:[],foundationStatusData:[],foundationIWPData:[],structureStatusData:[],structureProgressData:[],equipmentTagData:[],equipmentROSData:[],instrumentationTagData:[],electricalStatusData:[],scheduleActivitiesData:[]}).then(function(){t.react.pushRenderExtension(t)}),this.viewer.loadDynamicExtension("Viewing.Extension.ContextMenu",{buildMenu:function(e){return e.map(function(e){return"show all objects"===e.title.toLowerCase()?{title:"Show All objects",target:function(){P.a.isolateFull(t.viewer),t.viewer.fitToView()}}:e})}}),console.log("Viewing.Extension.PlantFactory loaded"),!0}},{key:"unload",value:function(){return console.log("Viewing.Extension.PlantFactory unloaded"),window.removeEventListener("resize",this.onStopResize),y()(v()(e.prototype),"unload",this).call(this),!0}},{key:"onModelRootLoaded",value:function(){this.options.loader.show(!1)}},{key:"onToolbarCreated",value:function(){this.viewer.restoreState(F)}},{key:"onModelCompletedLoad",value:(i=r()(a.a.mark(function t(){var e=this;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.getLeafNodes(this.viewer.model);case 2:this.componentIds=t.sent,this.buildPropertyData("Yara Area").then(function(t){e.react.setState({projectAreaGuid:e.guid(),projectAreaData:t})}),this.buildPropertyData("Yara Discipline").then(function(t){e.react.setState({projectDisciplineGuid:e.guid(),projectDisciplineData:t})}),this.buildPropertyData("SystemName").then(function(t){e.react.setState({pipingSystemGuid:e.guid(),pipingSystemData:t})}),this.buildPropertyData("ISO_Priority").then(function(t){e.react.setState({pipingPriorityGuid:e.guid(),pipingPriorityData:t})}),this.buildPropertyData("Fab Status").then(function(t){e.react.setState({pipingFabricationStatusGuid:e.guid(),pipingFabricationStatusData:t})}),this.buildPropertyData("PipeFieldMats").then(function(t){e.react.setState({pipingMaterialStatusGuid:e.guid(),pipingMaterialStatusData:t})}),this.buildPropertyData("Cobra_AG_Pipe_P3").then(function(t){e.react.setState({pipingProgressGuid:e.guid(),pipingProgressData:t})}),this.buildPropertyData("WorkPackName").then(function(t){e.react.setState({pipingIWPGuid:e.guid(),pipingIWPData:t})}),this.buildPropertyData("Foundation_Status").then(function(t){e.react.setState({foundationStatusGuid:e.guid(),foundationStatusData:t})}),this.buildPropertyData("Foundation_IWP").then(function(t){e.react.setState({foundationIWPGuid:e.guid(),foundationIWPData:t})}),this.buildPropertyData("Cobra_Sequence_Percent").then(function(t){e.react.setState({structureStatusGuid:e.guid(),structureStatusData:t})}),this.buildPropertyData("Cobra_Sequence_ROC").then(function(t){e.react.setState({structureProgressGuid:e.guid(),structureProgressData:t})}),this.buildPropertyData("Tag Number").then(function(t){e.react.setState({equipmentTagGuid:e.guid(),equipmentTagData:t})}),this.buildPropertyData("ActualReceipt").then(function(t){e.react.setState({equipmentROSGuid:e.guid(),equipmentROSData:t})}),this.buildPropertyData("TAG NUMBER").then(function(t){e.react.setState({instrumentationTagGuid:e.guid(),instrumentationTagData:t})}),this.buildPropertyData("Cobra_Tray").then(function(t){e.react.setState({electricalStatusGuid:e.guid(),electricalStatusData:t})}),this.buildPropertyData("Activity Name").then(function(t){e.react.setState({scheduleActivitiesGuid:e.guid(),scheduleActivitiesData:t})}),this.react.setState({showLoader:!1});case 21:case"end":return t.stop()}},t,this)})),function(){return i.apply(this,arguments)})},{key:"createMaterial",value:function(t){var e=parseInt(t.replace("#",""),16),n={shading:THREE.FlatShading,name:this.guid(),specular:e,shininess:0,emissive:0,diffuse:0,color:e},i=new THREE.MeshPhongMaterial(n);return this.viewer.impl.matman().addMaterial(n.name,i,!0),i}},{key:"groupMap",value:function(t,e,n,i){return D()(t,function(t,a,o){100*a.length/n<i?t[e]=(t[e]||[]).concat(a):t[o]=a})}},{key:"buildPropertyData",value:(n=r()(a.a.mark(function t(e){var n,i,o,r,s,l,d=this;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.mapComponentsByProp(this.viewer.model,e,this.componentIds);case 2:for(i in n=t.sent)(!i.length||i.indexOf("<")>-1)&&delete n[i];return o=this.groupMap(n,"Other",this.componentIds.length,2),r=Object.keys(o),s=G.a.scale.linear().domain([0,.33*r.length,.66*r.length,r.length]).range(["#FCB843","#C2149F","#0CC4BD","#0270E9"]),l=r.map(function(t,e){var n=o[t],i=s(e),a=100*n.length/d.componentIds.length;return{label:"".concat(t,": ").concat(a.toFixed(2),"% (").concat(n.length,")"),material:d.createMaterial(i),value:n.length,shortLabel:t,percent:a,dbIds:n,color:i,index:e}}),t.abrupt("return",l);case 9:case"end":return t.stop()}},t,this)})),function(t){return n.apply(this,arguments)})},{key:"onStopResize",value:function(){this.react.setState({projectAreaGuid:this.guid(),projectDisciplineGuid:this.guid(),pipingSystemGuid:this.guid(),pipingPriorityGuid:this.guid(),pipingFabricationStatusGuid:this.guid(),pipingMaterialStatusGuid:this.guid(),pipingProgressGuid:this.guid(),pipingIWPGuid:this.guid(),foundationStatusGuid:this.guid(),foundationIWPGuid:this.guid(),structureStatusGuid:this.guid(),structureProgressGuid:this.guid(),equipmentTagGuid:this.guid(),equipmentROSGuid:this.guid(),instrumentationTagGuid:this.guid(),electricalStatusGuid:this.guid(),scheduleActivitiesGuid:this.guid()})}},{key:"render",value:function(){var t=this.react.getState(),e=t.showLoader?{overflow:"hidden",height:"100%"}:{};return T.a.createElement("div",{className:this.className,style:e},T.a.createElement(S.b,{show:t.showLoader}),T.a.createElement(k.a,{title:"Project"},T.a.createElement(R,{title:"Area",style:{float:"left",width:"50%"},guid:t.projectAreaGuid,data:t.projectAreaData,viewer:this.viewer}),T.a.createElement(R,{title:"Discipline",style:{float:"left",width:"50%"},guid:t.projectDisciplineGuid,data:t.projectDisciplineData,viewer:this.viewer})),T.a.createElement(k.a,{title:"Piping"},T.a.createElement(R,{title:"System",style:{float:"left",width:"50%"},guid:t.pipingSystemGuid,data:t.pipingSystemData,viewer:this.viewer}),T.a.createElement(R,{title:"Priority",style:{float:"left",width:"50%"},guid:t.pipingPriorityGuid,data:t.pipingPriorityData,viewer:this.viewer}),T.a.createElement(R,{title:"Fabrication Status",style:{float:"left",width:"50%"},guid:t.pipingFabricationStatusGuid,data:t.pipingFabricationStatusData,viewer:this.viewer}),T.a.createElement(R,{title:"Material Status",style:{float:"left",width:"50%"},guid:t.pipingMaterialStatusGuid,data:t.pipingMaterialStatusData,viewer:this.viewer}),T.a.createElement(R,{title:"Progress",style:{float:"left",width:"50%"},guid:t.pipingProgressGuid,data:t.pipingProgressData,viewer:this.viewer}),T.a.createElement(V,{title:"IWP",style:{width:"calc(50% - 0px)",position:"relative",float:"left",left:"-10px"},guid:t.pipingIWPGuid,data:t.pipingIWPData,viewer:this.viewer})),T.a.createElement(k.a,{title:"Foundation"},T.a.createElement(R,{title:"Status",style:{float:"left",width:"50%"},guid:t.foundationStatusGuid,data:t.foundationStatusData,viewer:this.viewer}),T.a.createElement(V,{title:"IWP",style:{width:"calc(50% - 0px)",position:"relative",float:"left",left:"-10px"},guid:t.foundationIWPGuid,data:t.foundationIWPData,viewer:this.viewer})),T.a.createElement(k.a,{title:"Structure"},T.a.createElement(R,{title:"Status",style:{float:"left",width:"50%"},guid:t.structureStatusGuid,data:t.structureStatusData,viewer:this.viewer}),T.a.createElement(R,{title:"Progress",style:{float:"left",width:"50%"},guid:t.structureProgressGuid,data:t.structureProgressData,viewer:this.viewer})),T.a.createElement(k.a,{title:"Equipment"},T.a.createElement(V,{title:"Tag",style:{width:"calc(100% - 20px)",position:"relative",float:"left",left:"10px"},guid:t.equipmentTagGuid,data:t.equipmentTagData,viewer:this.viewer}),T.a.createElement(A,{title:"ROS",style:{float:"left",width:"100%"},guid:t.equipmentROSGuid,data:t.equipmentROSData,viewer:this.viewer})),T.a.createElement(k.a,{title:"Instrumentation",style:{float:"left",width:"50%"}},T.a.createElement(R,{title:"Tag",guid:t.instrumentationTagGuid,data:t.instrumentationTagData,viewer:this.viewer})),T.a.createElement(k.a,{title:"Electrical",style:{float:"left",width:"50%"}},T.a.createElement(R,{title:"Status",guid:t.electricalStatusGuid,data:t.electricalStatusData,viewer:this.viewer})),T.a.createElement(k.a,{title:"Schedule"},T.a.createElement(V,{title:"Activities",style:{width:"calc(100% - 20px)",position:"relative",float:"left",left:"10px"},guid:t.scheduleActivitiesGuid,data:t.scheduleActivitiesData,viewer:this.viewer})))}},{key:"className",get:function(){return"plant-factory"}}],[{key:"ExtensionId",get:function(){return"Viewing.Extension.PlantFactory"}}]),e}(E.a);Autodesk.Viewing.theExtensionManager.registerExtension(j.ExtensionId,j);e.default="Viewing.Extension.PlantFactory"},443:function(t,e,n){"use strict";var i=n(444);e.a=i.a},444:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return m});var i=n(116),a=n.n(i),o=n(2),r=n.n(o),s=n(3),l=n.n(s),d=n(5),u=n.n(d),c=n(4),p=n.n(c),h=n(50),f=n.n(h),g=n(6),v=n.n(g),m=function(e){function n(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r()(this,n),e=u()(this,p()(n).call(this,t)),Object.assign(f()(e),i.serviceContext),e.onModelCompletedLoad=e.onModelCompletedLoad.bind(f()(e)),e.onObjectTreeCreated=e.onObjectTreeCreated.bind(f()(e)),e.onModelRootLoaded=e.onModelRootLoaded.bind(f()(e)),e.onExtensionLoaded=e.onExtensionLoaded.bind(f()(e)),e.onModelActivated=e.onModelActivated.bind(f()(e)),e.onGeometryLoaded=e.onGeometryLoaded.bind(f()(e)),e.onToolbarCreated=e.onToolbarCreated.bind(f()(e)),e.onModelBeginLoad=e.onModelBeginLoad.bind(f()(e)),e.onModelUnloaded=e.onModelUnloaded.bind(f()(e)),e.onSelection=e.onSelection.bind(f()(e)),e.__onModelRootLoaded=e.__onModelRootLoaded.bind(f()(e)),e.__onModelActivated=e.__onModelActivated.bind(f()(e)),e.__onModelUnloaded=e.__onModelUnloaded.bind(f()(e)),e.__onModelLoaded=e.__onModelLoaded.bind(f()(e)),e.defaultOptions=a,e.options=Object.assign({},a,i),e.viewer=t;var o=t.impl.modelQueue().getModels();return e.models=o.map(function(t){return t.guid=t.guid||e.guid(),t}),e.initializeEvents(),e}return v()(n,e),l()(n,[{key:"load",value:function(){return!0}},{key:"unload",value:function(){var t=this;return this.viewerEvents.forEach(function(e){t.viewer.removeEventListener(e.id,t[e.handler])}),this.eventSink&&(this.eventSink.off("model.activated",this.__onModelActivated),this.eventSink.off("model.unloaded",this.__onModelUnloaded),this.eventSink.off("model.loaded",this.__onModelLoaded)),this.off(),!0}},{key:"reload",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.options=Object.assign({},this.defaultOptions,this.options,t),!0}},{key:"onExtensionLoaded",value:function(t){}},{key:"onModelBeginLoad",value:function(t){}},{key:"onModelActivated",value:function(t){}},{key:"__onModelRootLoaded",value:function(t){var e=this;this.viewerEvent([Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,Autodesk.Viewing.GEOMETRY_LOADED_EVENT]).then(function(t){e.onModelCompletedLoad(t[0])})}},{key:"onModelRootLoaded",value:function(t){}},{key:"onObjectTreeCreated",value:function(t){}},{key:"onGeometryLoaded",value:function(t){}},{key:"onModelCompletedLoad",value:function(t){}},{key:"onToolbarCreated",value:function(t){}},{key:"onModelUnloaded",value:function(t){}},{key:"onSelection",value:function(t){}},{key:"__onModelLoaded",value:function(t){this.models=[].concat(a()(this.models),[t.model]),this.onModelBeginLoad(t)}},{key:"__onModelActivated",value:function(t){this.onModelActivated(t)}},{key:"__onModelUnloaded",value:function(t){this.models=this.models.filter(function(e){return e.guid!==t.model.guid}),this.onModelUnloaded(t)}},{key:"initializeEvents",value:function(){var t=this;this.options.eventSink&&(this.eventSink=this.options.eventSink,this.eventSink.on("model.loaded",this.__onModelLoaded),this.eventSink.on("model.activated",this.__onModelActivated),this.eventSink.on("model.unloaded",this.__onModelUnloaded)),this.viewerEvents=[{id:Autodesk.Viewing.EXTENSION_LOADED_EVENT,handler:"onExtensionLoaded"},{id:Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,handler:"onObjectTreeCreated"},{id:Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,handler:"__onModelRootLoaded"},{id:Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,handler:"onModelRootLoaded"},{id:Autodesk.Viewing.GEOMETRY_LOADED_EVENT,handler:"onGeometryLoaded"},{id:Autodesk.Viewing.TOOLBAR_CREATED_EVENT,handler:"onToolbarCreated"},{id:Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT,handler:"onSelection"}],this.viewerEvents.forEach(function(e){t.viewerEvent(e.id,t[e.handler])})}},{key:"viewerEvent",value:function(e,n){var i=this;if(!n){var a=(Array.isArray(e)?e:[e]).map(function(e){return new t(function(t){i.viewer.addEventListener(e,function n(a){i.viewer.removeEventListener(e,n),t(a)})})});return t.all(a)}this.viewer.addEventListener(e,n)}}],[{key:"ExtensionId",get:function(){return"Viewing.Extension.MultiModelExtensionBase"}}]),n}(n(117).a.Composer(Autodesk.Viewing.Extension))}).call(this,n(31))},446:function(t,e,n){"use strict";var i=n(116),a=n.n(i),o=n(2),r=n.n(o),s=n(3),l=n.n(s),d=n(5),u=n.n(d),c=n(4),p=n.n(c),h=n(6),f=n.n(h),g=n(17),v=n.n(g),m=n(1),y=n.n(m),w=(n(29),n(447),n(0)),b=n.n(w),E=function(t){function e(){return r()(this,e),u()(this,p()(e).apply(this,arguments))}return f()(e,t),l()(e,[{key:"renderTitle",value:function(){return this.props.showTitle?this.props.renderTitle?this.props.renderTitle():b.a.createElement("div",{className:"title"},b.a.createElement("label",null,this.props.title)):b.a.createElement("div",null)}},{key:"renderChildren",value:function(){var t=this;return this.props.dimensions?b.a.Children.map(this.props.children,function(e){var n=Object.assign({},e.props,{dimensions:t.props.dimensions});return b.a.cloneElement(e,n)}):this.props.children}},{key:"render",value:function(){var t=["widget-container"].concat(a()(this.props.className.split(" "))),e=this.props.showTitle?"calc(100% - 40px)":"100%";return b.a.createElement("div",{className:t.join(" "),style:this.props.style},this.renderTitle(),b.a.createElement("div",{className:"content",style:{height:e}},this.renderChildren()))}}]),e}(b.a.Component);v()(E,"propTypes",{className:y.a.string,showTitle:y.a.bool}),v()(E,"defaultProps",{showTitle:!0,className:""});var k=E;e.a=k},447:function(t,e,n){var i=n(448);"string"==typeof i&&(i=[[t.i,i,""]]);n(28)(i,{});i.locals&&(t.exports=i.locals)},448:function(t,e,n){(t.exports=n(27)(!1)).push([t.i,".widget-container {\n  position: relative;\n  height: 100%;\n  width: 100%; }\n\n.widget-container > .title {\n  border-bottom: 1px solid #cdcdcd;\n  background-color: #f5f5f5;\n  padding-right: 10px;\n  color: black;\n  position: relative;\n  overflow: hidden;\n  text-align: left;\n  height: 40px;\n  width: 100%; }\n\n.widget-container > .title > label {\n  white-space: nowrap;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  margin-left: 27px;\n  margin-top: 10px; }\n\n.widget-container > .content {\n  position: relative;\n  overflow: hidden;\n  height: 100%;\n  width: 100%; }\n",""])},678:function(t,e,n){"use strict";var i=n(679);e.a=i.a},679:function(t,e,n){"use strict";(function(t){var i=n(2),a=n.n(i),o=n(3),r=n.n(o),s=n(5),l=n.n(s),d=n(4),u=n.n(d),c=n(6),p=n.n(c),h=n(0),f=n.n(h),g=(n(680),n(503)),v=n.n(g),m=function(e){function n(t){return a()(this,n),l()(this,u()(n).call(this,t))}return p()(n,e),r()(n,[{key:"componentDidMount",value:function(){this.draw(this.props.data)}},{key:"shouldComponentUpdate",value:function(t){return t.guid!==this.props.guid}},{key:"componentDidUpdate",value:function(){t(this.container).empty(),this.draw(this.props.data)}},{key:"draw",value:function(e){var n=this;if(e&&e.length){var i=this.container,a=55,o=40,r=50,s=30,l=Math.min(Math.max(t(i).width()-40,30*e.length),100*e.length)-10,d=t(i).height()-93,u=v.a.scale.ordinal().rangeRoundBands([0,l],.1),c=v.a.scale.linear().range([d,0]),p=v.a.svg.axis().scale(u).orient("bottom"),h=v.a.svg.axis().scale(c).orient("left").ticks(10,"%"),f=v.a.select(i).append("svg").attr("width",l+r+o).attr("height",d+s+a).append("g").attr("transform","translate(".concat(r,", ").concat(s,")"));u.domain(e.map(function(t){return t.shortLabel})),c.domain([0,v.a.max(e,function(t){return t.value/1e3})]),f.append("g").attr("class","x axis").attr("transform","translate(0, ".concat(d,")")).call(p).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform",function(t){return"rotate(-20)"}),f.append("g").attr("class","y axis").call(h).append("text").attr("transform","translate(60, -30)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text("Components (% Total)");var g=v.a.select(this.container).append("div").style("background","#bababa").style("position","absolute").style("border-radius","4px").style("padding","0 10px").style("display","none").style("height","auto").style("opacity",.7),m=null;f.selectAll(".bar-item").data(e).enter().append("rect").attr("class","bar-item").attr("x",function(t){return u(t.shortLabel)}).attr("width",u.rangeBand()).attr("y",function(t){return c(t.value/1e3)}).attr("height",function(t){return d-c(t.value/1e3)}).style("fill",function(t,n){return e[n].color}).on("click",function(t){n.props.onGroupClicked&&n.props.onGroupClicked(t)}).on("mouseover",function(e){g.transition().style("opacity",.9);var n=t(i).offset(),a=v.a.event.pageX-n.left,o=v.a.event.pageY-n.top;g.html(e.label).style("left",a+5+"px").style("top",o+15+"px").style("display","block"),m=this.style.fill,v.a.select(this).style("fill","#6AB8E3").style("opacity",.5)}).on("mousemove",function(e){var n=t(i).offset(),a=v.a.event.pageX-n.left,o=v.a.event.pageY-n.top;g.style("left",a+5+"px").style("top",o+15+"px").style("display","block"),v.a.select(this).style("fill","#6AB8E3").style("opacity",.5)}).on("mouseout",function(t){v.a.select(this).style("fill",m).style("opacity",1),g.style("display","none")})}}},{key:"render",value:function(){var t=this;return f.a.createElement("div",{className:"bar-chart",ref:function(e){return t.container=e}})}}]),n}(f.a.Component);e.a=m}).call(this,n(21))},680:function(t,e,n){var i=n(681);"string"==typeof i&&(i=[[t.i,i,""]]);n(28)(i,{});i.locals&&(t.exports=i.locals)},681:function(t,e,n){(t.exports=n(27)(!1)).push([t.i,".bar-chart {\n  background-color: #fdfdfd;\n  overflow-y: scroll;\n  overflow-x: scroll;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  height: 100%;\n  width: 100%; }\n\n.bar-chart .d3.d3-bar {\n  overflow-x: auto; }\n\n.bar-chart .bar-item {\n  cursor: pointer; }\n\n.bar-chart .axis {\n  font: 10px sans-serif; }\n\n.bar-chart .axis path {\n  fill: none;\n  stroke: #000;\n  shape-rendering: crispEdges; }\n\n.bar-chart .axis line {\n  fill: none;\n  stroke: #000;\n  shape-rendering: crispEdges; }\n\n.bar-chart .x.axis path {\n  display: none; }\n",""])},703:function(t,e,n){"use strict";var i=n(704);e.a=i.a},704:function(t,e,n){"use strict";(function(t){var i=n(2),a=n.n(i),o=n(3),r=n.n(o),s=n(5),l=n.n(s),d=n(4),u=n.n(d),c=n(6),p=n.n(c),h=n(0),f=n.n(h),g=n(705),v=n.n(g),m=(n(706),n(503),function(e){function n(t){return a()(this,n),l()(this,u()(n).call(this,t))}return p()(n,e),r()(n,[{key:"componentDidMount",value:function(){this.draw(this.props.data)}},{key:"shouldComponentUpdate",value:function(t){return t.dataGuid!==this.props.dataGuid}},{key:"componentDidUpdate",value:function(){t(this.container).empty(),this.draw(this.props.data,{effects:{load:{effect:"none"}}})}},{key:"draw",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t&&t.length){var i=Math.min(this.container.offsetHeight,this.container.offsetWidth),a=Object.assign({},{size:{canvasHeight:i,canvasWidth:i,pieInnerRadius:"40%",pieOuterRadius:"98%"},data:{content:t},tooltips:{enabled:!0,type:"placeholder",placeholderParser:function(e,n){Object.assign(n,{unit:t[e].unit})},string:"{label}",styles:{fadeInSpeed:250,backgroundColor:"#bababa",backgroundOpacity:.85,color:"#00",borderRadius:2,font:"ArtifaktElementRegular",fontSize:10,padding:4,zIndex:1e3}},labels:{outer:{format:"none",hideWhenLessThanPercentage:5,pieDistance:32},inner:{hideWhenLessThanPercentage:5}},callbacks:{onClickSegment:function(t){e.props.onSegmentClicked&&e.props.onSegmentClicked(t.data,t.expanded)}},misc:{gradient:{enabled:!1,percentage:100}}},n);this.pie=new v.a(this.container,a),this.applyCustomProps()}}},{key:"applyCustomProps",value:function(){var e=this;t(this.container).find("svg").css({transform:"translate(0px, -2px)",overflow:"visible"}),setTimeout(function(){t(e.container).find('g[class*="_arc"] > path').css({"stroke-width":"0"})},100)}},{key:"render",value:function(){var t=this;return f.a.createElement("div",{className:"pie-chart",ref:function(e){t.container=e}})}}]),n}(f.a.Component));e.a=m}).call(this,n(21))},706:function(t,e,n){var i=n(707);"string"==typeof i&&(i=[[t.i,i,""]]);n(28)(i,{});i.locals&&(t.exports=i.locals)},707:function(t,e,n){(t.exports=n(27)(!1)).push([t.i,'.pie-chart {\n  background-color: #fdfdfd;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  overflow: visible;\n  height: 100%;\n  width: 100%; }\n\n.pie-chart > svg {\n  position: relative;\n  margin: 0 auto;\n  display: table; }\n\nsvg [class*="_pieChart"], svg [class*="_labelGroup"] {\n  cursor: pointer; }\n',""])}}]);
//# sourceMappingURL=61.js.map