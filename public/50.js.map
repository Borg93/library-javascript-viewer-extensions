{"version":3,"sources":["webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.Physics.RigidBody/index.js","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.Physics.RigidBody/Viewing.Extension.Physics.RigidBody.js","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.Physics.RigidBody/Viewing.Extension.Physics.RigidBody.scss?8179","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.Physics.RigidBody/Viewing.Extension.Physics.RigidBody.scss","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.Physics.RigidBody/FPSMeter.js","webpack:///./src/client/components/Viewer/Extensions/Viewer.MultiModelExtensionBase/index.js","webpack:///./src/client/components/Viewer/Extensions/Viewer.MultiModelExtensionBase/Viewer.MultiModelExtensionBase.js","webpack:///./node_modules/@babel/runtime/helpers/get.js","webpack:///./src/client/components/WidgetContainer/WidgetContainer.js","webpack:///./src/client/components/WidgetContainer/index.js","webpack:///./src/client/components/WidgetContainer/WidgetContainer.scss?a31d","webpack:///./src/client/components/WidgetContainer/WidgetContainer.scss","webpack:///./src/client/components/Label/Label.js","webpack:///./src/client/components/Label/index.js","webpack:///./node_modules/@babel/runtime/helpers/superPropBase.js","webpack:///./src/client/components/Label/Label.scss?1352","webpack:///./src/client/components/Label/Label.scss","webpack:///./src/client/components/Switch/Switch.js","webpack:///./src/client/components/Switch/index.js","webpack:///./src/client/components/Switch/Switch.scss?8d3d","webpack:///./src/client/components/Switch/Switch.scss","webpack:///./node_modules/react-contenteditable/lib/react-contenteditable.js","webpack:///./node_modules/fast-deep-equal/index.js","webpack:///./src/client/components/Viewer/Viewer.EventTool/Viewer.EventTool.js","webpack:///./src/client/components/Viewer/Viewer.EventTool/index.js","webpack:///./node_modules/core-js/library/modules/_is-array.js","webpack:///./src/client/components/ScriptLoader/index.js","webpack:///./src/client/components/ScriptLoader/ScriptLoader.js"],"names":["__webpack_require__","r","__webpack_exports__","PhysicsExtension","viewer","options","_this","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default","this","_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default","_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default","call","onTransformSelection","bind","_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default","onSimulationStep","onEnablePhysics","onScriptLoaded","renderTitle","onTransform","onReset","projectileMaterial","createMaterial","eventTool","EventTool","react","_this2","setQualityLevel","setProgressiveRendering","setGroundReflection","setGroundShadow","setState","activateControls","modelTransformer","unSelectedBody","selectedBody","physicsCore","showLoader","transform","Vx","Vy","Vz","Ax","Ay","Az","then","pushRenderExtension","on","event","mouseEvent","keyCode","pointer","pointers","rayCaster","pointerToRaycaster","impl","canvas","camera","createProjectile","ray","console","log","color","arguments","length","undefined","material","THREE","MeshPhongMaterial","matman","addMaterial","guid","domElement","pointerVector","Vector3","pointerDir","Raycaster","rect","getBoundingClientRect","px","clientX","py","clientY","x","left","width","y","top","height","isPerspective","set","unproject","position","sub","normalize","transformDirection","matrixWorld","getState","geometry","SphereGeometry","computeFaceNormals","mesh","Mesh","copy","origin","receiveShadow","castShadow","shape","Ammo","btSphereShape","inertia","btVector3","calculateLocalInertia","btTransform","setIdentity","setOrigin","z","motionState","btDefaultMotionState","rbInfo","btRigidBodyConstructionInfo","body","btRigidBody","setLinearVelocity","direction","setFriction","type","addRigidBody","scene","add","sceneUpdated","popViewerPanel","_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_7___default","prototype","$","container","append","css","FPSMeter","document","getElementById","maxFps","smoothing","show","decimals","theme","heat","graph","toggleOn","history","docked","id","ExtensionId","popRenderExtension","pushViewerPanel","loadDynamicExtension","loadPhysicModel","model","loader","nav","navigation","toPerspective","autocam","setHomeViewFrom","getCamera","transformerReactOptions","Promise","resolve","transformerOptions","Object","assign","fullTransform","hideControls","setModel","Toolkit","getWorldBoundingBox","bounds","fps","createFPS","extensionId","getExtension","_this$react$getState2","groundRigidBody","setActivationState","data","_this$react$getState3","getFragmentTransform","fragIds","setRigidBodyTransform","activateAllRigidBodies","_this$react$getState4","velocity","getRigidBodyVelocity","toFixedStr","angular","Math","PI","linear","selections","setSelectedBody","selection","getRigidBody","dbIdArray","run","runAnimation","activate","deactivate","_this$react$getState7","reset","fitBounds","_this$react$getState8","initialState","setTransformState","tick","props","value","dragging","offset","setGravity","react__WEBPACK_IMPORTED_MODULE_26___default","a","createElement","rc_tooltip__WEBPACK_IMPORTED_MODULE_21__","prefixCls","visible","overlay","placement","rc_slider__WEBPACK_IMPORTED_MODULE_22__","Handle","className","setTimeSkew","e","indexOf","stopPropagation","preventDefault","floatValue","parseFloat","isNaN","float","digits","toFixed","toString","key","toFloat","state","target","setVelocityByKey","setRigidBodyVelocity","keys","_this3","forEach","_this4","spanClass","onClick","setDocking","title","_this5","disabled","Label__WEBPACK_IMPORTED_MODULE_25__","text","react_contenteditable__WEBPACK_IMPORTED_MODULE_10___default","onChange","onInputChanged","onKeyDown","onKeyDownNumeric","data-placeholder","html","rotate","clearVelocity","translate","_this6","_this$react$getState11","style","overflow","Loader__WEBPACK_IMPORTED_MODULE_17__","ScriptLoader__WEBPACK_IMPORTED_MODULE_15__","onLoaded","url","Switch__WEBPACK_IMPORTED_MODULE_24__","checked","handle","onGravitySliderChanged","defaultValue","gravity","step","min","max","onTimeSkewSliderChanged","timeSkew","renderVelocity","renderTransformer","render","showTitle","opts","_this7","WidgetContainer__WEBPACK_IMPORTED_MODULE_12__","renderControls","MultiModelExtensionBase","Autodesk","Viewing","theExtensionManager","registerExtension","content","module","i","locals","exports","push","w","newEl","name","applyTheme","element","String","_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default","match","toLowerCase","inArray","array","l","extend","args","hasOwnProperty","slice","apply","concat","Array","componentToHex","c","round","listener","eventName","handler","remove","addEventListener","attachEvent","getTime","perf","performance","now","webkitNow","perfNow","Date","cAF","cancelAnimationFrame","cancelRequestAnimationFrame","rAF","requestAnimationFrame","vendors","lastTime","callback","currTime","timeToCall","setTimeout","clearTimeout","textProp","textContent","anchor","nodeType","heatmaps","time","frameID","renderID","graphHeight","count","j","self","o","defaults","el","cols","heatDepth","heating","frameTime","threshold","frameStart","lastLoop","fpsHistory","durationHistory","showFps","getHeat","heatmap","updateCounter","legend","duration","interval","historyTick","heatOn","column","requestRender","eventHandler","window","returnValue","cancelBubble","toggle","removeMeter","removeChild","createMeter","compiledHeatmaps","h","s","saturation","lightness","g","b","v","sextant","vsf","floor","setTheme","appendChild","spacing","bottom","right","positionMeter","clientHeight","cursor","isPaused","tickStart","pause","resume","rebuilders","repositioners","showDuration","hide","display","destroy","zIndex","margin","base","padding","minWidth","lineHeight","textAlign","textShadow","fontSize","fontFamily","boxSizing","MozBoxSizing","dark","background","border","light","boxShadow","colorful","backgroundColor","transparent","opacity","_Viewer_MultiModelExtensionBase__WEBPACK_IMPORTED_MODULE_0__","defaultOptions","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default","_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default","_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default","serviceContext","onModelCompletedLoad","onObjectTreeCreated","onModelRootLoaded","onExtensionLoaded","onModelActivated","onGeometryLoaded","onToolbarCreated","onModelBeginLoad","onModelUnloaded","onSelection","__onModelRootLoaded","__onModelActivated","__onModelUnloaded","__onModelLoaded","models","modelQueue","getModels","map","initializeEvents","viewerEvents","removeEventListener","eventSink","off","viewerEvent","OBJECT_TREE_CREATED_EVENT","GEOMETRY_LOADED_EVENT","_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default","filter","EXTENSION_LOADED_EVENT","MODEL_ROOT_LOADED_EVENT","TOOLBAR_CREATED_EVENT","AGGREGATE_SELECTION_CHANGED_EVENT","eventId","eventTasks","isArray","__handler","all","EventsEmitter","Composer","Extension","superPropBase","_get","property","receiver","Reflect","get","desc","getOwnPropertyDescriptor","WidgetContainer","react_default","dimensions","React","Children","children","child","newProps","cloneElement","classNames","toConsumableArray_default","split","join","renderChildren","Component","PropTypes","string","bool","Label","classCallCheck_default","possibleConstructorReturn_default","getPrototypeOf_default","DOMPurify","sanitize","getPrototypeOf","object","Switch","ref","autobind","extendStatics","__extends","d","setPrototypeOf","__proto__","p","__","constructor","create","__assign","t","n","__rest","getOwnPropertySymbols","propertyIsEnumerable","__importStar","mod","__esModule","result","k","__importDefault","default","defineProperty","fast_deep_equal_1","normalizeHtml","str","replace","replaceCaret","findLastTextNode","node","Node","TEXT_NODE","childNodes","textNode","isTargetFocused","activeElement","nodeValue","sel","getSelection","range","createRange","setStart","collapse","removeAllRanges","addRange","HTMLElement","focus","ContentEditable","_super","lastHtml","innerRef","current","createRef","getEl","emitChange","originalEvt","innerHTML","evt","_a","tagName","onInput","onBlur","onKeyUp","contentEditable","dangerouslySetInnerHTML","__html","shouldComponentUpdate","nextProps","componentDidUpdate","propTypes","isRequired","func","oneOfType","keyList","hasProp","equal","arrA","arrB","dateA","dateB","regexpA","RegExp","regexpB","toolName","toolController","registerTool","assertThisInitialized_default","getName","active","activateTool","emit","deactivateTool","button","cof","arg","_ScriptLoader__WEBPACK_IMPORTED_MODULE_0__","ScriptLoader","reject","head","getElementsByTagName","script","async","onerror","err","onload","src","obj","loadTasks","toArray","loadScript","error","onError","react__WEBPACK_IMPORTED_MODULE_5___default"],"mappings":"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","file":"50.js","sourcesContent":["import './Viewing.Extension.Physics.RigidBody'\n\nexport default 'Viewing.Extension.Physics.RigidBody'\n\n","/////////////////////////////////////////////////////////\n// Viewing.Extension.Physics\n// by Philippe Leefsma, July 2017\n//\n/////////////////////////////////////////////////////////\nimport MultiModelExtensionBase from 'Viewer.MultiModelExtensionBase'\nimport ContentEditable from 'react-contenteditable'\nimport './Viewing.Extension.Physics.RigidBody.scss'\nimport WidgetContainer from 'WidgetContainer'\nimport EventTool from 'Viewer.EventTool'\nimport 'rc-tooltip/assets/bootstrap.css'\nimport ScriptLoader from 'ScriptLoader'\nimport {ServiceContext} from 'ServiceContext'\nimport { ReactLoader } from 'Loader'\nimport Toolkit from 'Viewer.Toolkit'\nimport 'rc-slider/assets/index.css'\nimport ReactDOM from 'react-dom'\nimport Tooltip from 'rc-tooltip'\nimport Slider from 'rc-slider'\nimport FPS from './FPSMeter'\nimport Switch from 'Switch'\nimport Label from 'Label'\nimport React from 'react'\n\nclass PhysicsExtension extends MultiModelExtensionBase {\n\n  /////////////////////////////////////////////////////////\n  // Class constructor\n  //\n  /////////////////////////////////////////////////////////\n  constructor (viewer, options) {\n\n    super (viewer, options)\n\n    this.onTransformSelection = this.onTransformSelection.bind(this)\n    this.onSimulationStep = this.onSimulationStep.bind(this)\n    this.onEnablePhysics = this.onEnablePhysics.bind(this)\n    this.onScriptLoaded = this.onScriptLoaded.bind(this)\n    this.renderTitle = this.renderTitle.bind(this)\n    this.onTransform = this.onTransform.bind(this)\n    this.onReset = this.onReset.bind(this)\n\n    this.projectileMaterial = this.createMaterial()\n\n    this.eventTool = new EventTool(this.viewer)\n\n    this.react = options.react\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  get className() {\n\n    return 'physics-rigid'\n  }\n\n  /////////////////////////////////////////////////////////\n  // Extension Id\n  //\n  /////////////////////////////////////////////////////////\n  static get ExtensionId() {\n\n    return 'Viewing.Extension.Physics.RigidBody'\n  }\n\n  /////////////////////////////////////////////////////////\n  // Load callback\n  //\n  /////////////////////////////////////////////////////////\n  load () {\n\n    this.viewer.setQualityLevel(false, false)\n    this.viewer.setProgressiveRendering(false)\n    this.viewer.setGroundReflection(false)\n    this.viewer.setGroundShadow(false)\n\n    this.react.setState({\n\n      activateControls: false,\n      modelTransformer: null,\n      unSelectedBody: null,\n      selectedBody: null,\n      physicsCore: null,\n      showLoader: true,\n      transform: null,\n\n      Vx:'', Vy:'', Vz:'',\n      Ax:'', Ay:'', Az:''\n\n    }).then (() => {\n\n      this.react.pushRenderExtension(this)\n    })\n\n    this.eventTool.on ('mousemove', (event) => {\n\n      this.mouseEvent = event\n    })\n\n    this.eventTool.on ('keydown', (event) => {\n\n      if (event.keyCode === 32) { //SPACE\n\n        const pointer = this.mouseEvent.pointers\n          ? this.mouseEvent.pointers[0]\n          : this.mouseEvent\n\n        const rayCaster = this.pointerToRaycaster(\n          this.viewer.impl.canvas,\n          this.viewer.impl.camera,\n          pointer)\n\n        this.createProjectile (rayCaster.ray)\n      }\n    })\n\n    console.log('Viewing.Extension.Physics.RigidBody loaded')\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  createMaterial (color = 0xFF9800) {\n\n    const material = new THREE.MeshPhongMaterial({\n      color\n    })\n\n    this.viewer.impl.matman().addMaterial(\n      this.guid(), material, true)\n\n    return material\n  }\n\n  /////////////////////////////////////////////////////////\n  // Creates Raycatser object from the pointer\n  //\n  /////////////////////////////////////////////////////////\n  pointerToRaycaster (domElement, camera, pointer) {\n\n    const pointerVector = new THREE.Vector3()\n    const pointerDir = new THREE.Vector3()\n    const ray = new THREE.Raycaster()\n\n    const rect = domElement.getBoundingClientRect()\n\n    const px = pointer.clientX\n    const py = pointer.clientY\n\n    const x = ((px - rect.left) / rect.width) * 2 - 1\n    const y = -((py - rect.top) / rect.height) * 2 + 1\n\n    if (camera.isPerspective) {\n\n      pointerVector.set(x, y, 0.5)\n\n      pointerVector.unproject(camera)\n\n      ray.set(camera.position,\n        pointerVector.sub(\n          camera.position).normalize())\n\n    } else {\n\n      pointerVector.set(x, y, -1)\n\n      pointerVector.unproject(camera)\n\n      pointerDir.set(0, 0, -1)\n\n      ray.set(pointerVector,\n        pointerDir.transformDirection(\n          camera.matrixWorld))\n    }\n\n    return ray\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  createProjectile (ray) {\n\n    const { physicsCore } = this.react.getState()\n\n    const radius = 8\n    const mass = 0.25\n\n    const geometry = new THREE.SphereGeometry(\n      radius, 18, 16)\n\n    geometry.computeFaceNormals()\n\n    const mesh = new THREE.Mesh(\n      geometry, this.projectileMaterial)\n\n    mesh.position.copy(ray.origin)\n    mesh.receiveShadow = true\n    mesh.castShadow = true\n\n    const shape = new Ammo.btSphereShape(radius)\n\n    //shape.setMargin(0.05)\n\n    const inertia = new Ammo.btVector3(0, 0, 0)\n\n    shape.calculateLocalInertia(mass, inertia)\n\n    const transform = new Ammo.btTransform\n\n    transform.setIdentity()\n\n    transform.setOrigin(\n      new Ammo.btVector3(\n        ray.origin.x,\n        ray.origin.y,\n        ray.origin.z))\n\n    const motionState =\n      new Ammo.btDefaultMotionState(\n        transform)\n\n    const rbInfo =\n      new Ammo.btRigidBodyConstructionInfo(\n        mass,\n        motionState,\n        shape,\n        inertia)\n\n    const body = new Ammo.btRigidBody(rbInfo)\n\n    body.setLinearVelocity(\n      new Ammo.btVector3(\n        ray.direction.x * 200,\n        ray.direction.y * 200,\n        ray.direction.z * 200))\n\n    body.setFriction(0.8)\n\n    body.type = 'MESH'\n\n    body.mesh = mesh\n\n    physicsCore.addRigidBody(body)\n\n    this.viewer.impl.scene.add(mesh)\n    this.viewer.impl.sceneUpdated(true)\n  }\n\n  /////////////////////////////////////////////////////////\n  // Unload callback\n  //\n  /////////////////////////////////////////////////////////\n  unload () {\n\n    console.log('Viewing.Extension.Physics.RigidBody unloaded')\n\n    this.react.popViewerPanel(this)\n\n    super.unload ()\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Panel docking mode\n  //\n  /////////////////////////////////////////////////////////\n  createFPS () {\n\n    $(this.viewer.container).append(\n      '<div id=\"physics-fps\"> </div>')\n\n    $('#physics-fps').css({\n      position: 'absolute',\n      left: '10px',\n      top: '90px'\n    })\n\n    return new FPSMeter(\n      document.getElementById('physics-fps'), {\n        maxFps:    20, //expected\n        smoothing: 10,\n        show: 'fps',\n        decimals: 1,\n        left: '0px',\n        top: '-80px',\n        theme: 'transparent',\n        heat: 1,\n        graph: 1,\n        toggleOn: null,\n        history: 32\n      })\n  }\n\n  /////////////////////////////////////////////////////////\n  // Panel docking mode\n  //\n  /////////////////////////////////////////////////////////\n  async setDocking (docked) {\n\n    const id = PhysicsExtension.ExtensionId\n\n    if (docked) {\n\n      await this.react.popRenderExtension(id)\n\n      await this.react.pushViewerPanel(this, {\n        height: 250,\n        width: 350\n      })\n\n    } else {\n\n      await this.react.popViewerPanel(id)\n\n      this.react.pushRenderExtension(this)\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  async onScriptLoaded () {\n\n    const physicsCore =\n      await this.viewer.loadDynamicExtension(\n      'Viewing.Extension.Physics.Core',\n        this.options)\n\n    await physicsCore.loadPhysicModel(\n      this.viewer.model)\n\n    physicsCore.on('simulation.step',\n      this.onSimulationStep)\n\n    this.react.setState({\n      showLoader: false,\n      physicsCore\n    })\n\n    this.options.loader.show(false)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onModelRootLoaded (event) {\n\n    super.onModelRootLoaded()\n\n    const nav = this.viewer.navigation\n\n    nav.toPerspective()\n\n    this.viewer.autocam.setHomeViewFrom(\n      nav.getCamera())\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  async onModelCompletedLoad (event) {\n\n    const transformerReactOptions = {\n      pushRenderExtension: () => {\n        return Promise.resolve()\n      },\n      popRenderExtension: () => {\n        return Promise.resolve()\n      }\n    }\n\n    const transformerOptions = Object.assign({}, {\n      react: transformerReactOptions,\n      fullTransform : false,\n      hideControls : true\n    })\n\n    const modelTransformer =\n      await this.viewer.loadDynamicExtension(\n        'Viewing.Extension.ModelTransformer',\n        transformerOptions)\n\n    modelTransformer.setModel(this.viewer.model)\n\n    this.bounds =\n      await Toolkit.getWorldBoundingBox(\n        this.viewer.model)\n\n    this.react.setState({\n      activateControls: true,\n      modelTransformer\n    })\n\n    this.fps = this.createFPS()\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onExtensionLoaded (event) {\n\n    const transformExtensionId =\n      'Viewing.Extension.Transform'\n\n    if (event.extensionId === transformExtensionId) {\n\n      const transform = this.viewer.getExtension(\n        transformExtensionId)\n\n      transform.on('selection',\n        this.onTransformSelection)\n\n      transform.on('transform',\n        this.onTransform)\n\n      this.react.setState({\n        transform\n      })\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onTransformSelection () {\n\n    const { physicsCore, selectedBody, unSelectedBody } =\n      this.react.getState()\n\n    if (selectedBody) {\n\n      physicsCore.groundRigidBody(\n        selectedBody, true)\n\n      selectedBody.setActivationState(4)\n    }\n\n    if (unSelectedBody) {\n\n      physicsCore.groundRigidBody(\n        unSelectedBody, false)\n\n      unSelectedBody.setActivationState(4)\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onTransform (data) {\n\n    const { physicsCore, selectedBody } =\n      this.react.getState()\n\n    const transform =\n      physicsCore.getFragmentTransform(\n        data.fragIds[0])\n\n    physicsCore.setRigidBodyTransform(\n      selectedBody, transform)\n\n    physicsCore.activateAllRigidBodies()\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  setSelectedBody (body) {\n\n    const { physicsCore, selectedBody } =\n      this.react.getState()\n\n    if (!body) {\n\n      return this.react.setState({\n\n        Ax: '', Ay: '', Az: '',\n        Vx: '', Vy: '', Vz: '',\n\n        unSelectedBody: selectedBody,\n        selectedBody: null\n      })\n    }\n\n    const velocity = physicsCore.getRigidBodyVelocity(body)\n\n    this.react.setState({\n\n      Ax: this.toFixedStr(velocity.angular.x * 180/Math.PI),\n      Ay: this.toFixedStr(velocity.angular.y * 180/Math.PI),\n      Az: this.toFixedStr(velocity.angular.z * 180/Math.PI),\n\n      Vx: this.toFixedStr(velocity.linear.x),\n      Vy: this.toFixedStr(velocity.linear.y),\n      Vz: this.toFixedStr(velocity.linear.z),\n\n      unSelectedBody: selectedBody,\n      selectedBody: body\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onSelection (event) {\n\n    const { physicsCore } = this.react.getState()\n\n    if (!event.selections.length) {\n\n      return this.setSelectedBody(null)\n    }\n\n    const selection = event.selections[0]\n\n    const body = physicsCore.getRigidBody(\n      selection.dbIdArray[0])\n\n    this.setSelectedBody(body)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onEnablePhysics (run) {\n\n    const { physicsCore } = this.react.getState()\n\n    physicsCore.runAnimation(run)\n\n    run\n      ? this.eventTool.activate()\n      : this.eventTool.deactivate()\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onReset () {\n\n    const { physicsCore, selectedBody} =\n      this.react.getState()\n\n    physicsCore.reset ()\n\n    this.setSelectedBody(\n      selectedBody)\n\n    const nav = this.viewer.navigation\n\n    nav.fitBounds(true, this.bounds)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onSimulationStep () {\n\n    const { modelTransformer, selectedBody } =\n      this.react.getState()\n\n    if (selectedBody) {\n\n      this.setSelectedBody(\n        selectedBody)\n\n      const transform =\n        modelTransformer.getFragmentTransform (\n          selectedBody.initialState.fragIds[0])\n\n      modelTransformer.setTransformState (transform)\n    }\n\n    this.fps.tick()\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onGravitySliderChanged (props) {\n\n    const { value, dragging, offset } = props\n\n    const { physicsCore } = this.react.getState()\n\n    physicsCore.setGravity(value)\n\n    return (\n      <Tooltip\n        prefixCls=\"rc-slider-tooltip\"\n        visible={dragging}\n        overlay={value}\n        placement=\"top\">\n        <Slider.Handle className=\"rc-slider-handle\"\n          offset={offset}/>\n      </Tooltip>\n    )\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onTimeSkewSliderChanged (props) {\n\n    const { value, dragging, offset } = props\n\n    const { physicsCore } = this.react.getState()\n\n    physicsCore.setTimeSkew(value/500)\n\n    return (\n      <Tooltip\n        prefixCls=\"rc-slider-tooltip\"\n        visible={dragging}\n        overlay={value}\n        placement=\"top\">\n        <Slider.Handle className=\"rc-slider-handle\"\n          offset={offset}/>\n      </Tooltip>\n    )\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onKeyDownNumeric (e) {\n\n    //backspace, ENTER, ->, <-, delete, '.', '-', ',',\n    const allowed = [8, 13, 37, 39, 46, 188, 189, 190]\n\n    if (allowed.indexOf(e.keyCode) > -1 ||\n      (e.keyCode > 47 && e.keyCode < 58)) {\n\n      return\n    }\n\n    e.stopPropagation()\n    e.preventDefault()\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  toFloat (value) {\n\n    const floatValue = parseFloat(value)\n\n    return isNaN(floatValue) ? 0 : floatValue\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  toFixedStr (float, digits = 2) {\n\n    return float.toFixed(digits).toString()\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  setVelocityByKey (key, value, velocity) {\n\n    switch (key) {\n\n      case 'Vx':\n        velocity.linear.x = this.toFloat(value)\n        break\n      case 'Vy':\n        velocity.linear.y = this.toFloat(value)\n        break\n      case 'Vz':\n        velocity.linear.z = this.toFloat(value)\n        break\n\n      case 'Ax':\n        velocity.angular.x =\n          this.toFloat(value) * Math.PI/180\n        break\n      case 'Ay':\n        velocity.angular.y =\n          this.toFloat(value) * Math.PI/180\n        break\n      case 'Az':\n        velocity.angular.z =\n          this.toFloat(value) * Math.PI/180\n        break\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onInputChanged (e, key) {\n\n    const state = this.react.getState()\n\n    const value = e.target.value\n\n    state[key] = value\n\n    const velocity =\n      state.physicsCore.getRigidBodyVelocity(\n        state.selectedBody)\n\n    this.setVelocityByKey(\n      key, value, velocity)\n\n    state.physicsCore.setRigidBodyVelocity(\n      state.selectedBody,\n      velocity)\n\n    this.react.setState(state)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  clearVelocity (keys) {\n\n    const state = this.react.getState()\n\n    const velocity =\n      state.physicsCore.getRigidBodyVelocity(\n        state.selectedBody)\n\n    keys.forEach((key) => {\n\n      state[key] = this.toFixedStr(0)\n\n      this.setVelocityByKey(\n        key, 0.0, velocity)\n    })\n\n    state.physicsCore.setRigidBodyVelocity(\n      state.selectedBody,\n      velocity)\n\n    this.react.setState(state)\n  }\n\n  /////////////////////////////////////////////////////////\n  // React method - render panel title\n  //\n  /////////////////////////////////////////////////////////\n  renderTitle (docked) {\n\n    const spanClass = docked\n      ? 'fa fa-chain-broken'\n      : 'fa fa-chain'\n\n    return (\n      <div className=\"title\">\n        <label>\n          Physics\n        </label>\n        <div className=\"physics-controls\">\n          <button onClick={() => this.setDocking(docked)}\n            title=\"Toggle docking mode\">\n            <span className={spanClass}/>\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  renderVelocity () {\n\n    const state = this.react.getState()\n\n    const disabled = !state.selectedBody\n\n    return (\n      <div className=\"velocity\">\n\n        <div className=\"row\">\n\n          <Label text={'Angular:'}/>\n\n          <ContentEditable\n            onChange={(e) => this.onInputChanged(e, 'Ax')}\n            onKeyDown={(e) => this.onKeyDownNumeric(e)}\n            className=\"input-vel\"\n            data-placeholder=\"Ax\"\n            disabled={disabled}\n            html={state.Ax}\n          />\n\n          <ContentEditable\n            onChange={(e) => this.onInputChanged(e, 'Ay')}\n            onKeyDown={(e) => this.onKeyDownNumeric(e)}\n            className=\"input-vel\"\n            data-placeholder=\"Ay\"\n            disabled={disabled}\n            html={state.Ay}\n          />\n\n          <ContentEditable\n            onChange={(e) => this.onInputChanged(e, 'Az')}\n            onKeyDown={(e) => this.onKeyDownNumeric(e)}\n            className=\"input-vel\"\n            data-placeholder=\"Az\"\n            html={state.Az}\n          />\n\n          <button className={state.rotate ? 'active':''}\n            onClick={() => this.clearVelocity(['Ax','Ay','Az'])}\n            disabled={disabled}\n            title=\"Clear\">\n            <span className=\"fa fa-times\"/>\n          </button>\n\n        </div>\n\n        <div className=\"row\">\n\n          <Label text={'Linear:'}/>\n\n          <ContentEditable\n            onChange={(e) => this.onInputChanged(e, 'Vx')}\n            onKeyDown={(e) => this.onKeyDownNumeric(e)}\n            className=\"input-vel\"\n            data-placeholder=\"Vx\"\n            disabled={disabled}\n            html={state.Vx}\n          />\n\n          <ContentEditable\n            onChange={(e) => this.onInputChanged(e, 'Vy')}\n            onKeyDown={(e) => this.onKeyDownNumeric(e)}\n            className=\"input-vel\"\n            data-placeholder=\"Vy\"\n            disabled={disabled}\n            html={state.Vy}\n          />\n\n          <ContentEditable\n            onChange={(e) => this.onInputChanged(e, 'Vz')}\n            onKeyDown={(e) => this.onKeyDownNumeric(e)}\n            className=\"input-vel\"\n            data-placeholder=\"Vz\"\n            disabled={disabled}\n            html={state.Vz}\n          />\n\n          <button className={state.translate ? 'active':''}\n            onClick={() => this.clearVelocity(['Vx','Vy','Vz'])}\n            disabled={disabled}\n            title=\"Clear\">\n            <span className=\"fa fa-times\"/>\n          </button>\n\n        </div>\n\n      </div>\n    )\n  }\n\n  /////////////////////////////////////////////////////////\n  // React method - render panel controls\n  //\n  /////////////////////////////////////////////////////////\n  renderControls () {\n\n    const {\n      activateControls,\n      physicsCore,\n      showLoader\n    } = this.react.getState()\n\n    return (\n      <div style={{overflow: 'scroll', height: '100%'}}>\n        <ReactLoader show={showLoader}/>\n        {\n          activateControls &&\n          <ScriptLoader onLoaded={this.onScriptLoaded}\n            url={['/resources/libs/ammo/ammo.js']}\n          />\n        }\n\n        {\n          physicsCore &&\n          <div className=\"controls\">\n            <div className=\"control-element\">\n              <label>\n                Simulation controls:\n              </label>\n              <div>\n                <Switch\n                  onChange={this.onEnablePhysics}\n                  checked={false}\n                />\n                <label>\n                  Run\n                </label>\n                <button className=\"reset\"\n                  onClick={this.onReset}>\n                  <span className=\"fa fa-refresh\"/>\n                  <label>\n                    Reset\n                  </label>\n                </button>\n              </div>\n            </div>\n\n            <br/><hr/>\n\n            <div className=\"control-element\">\n              <label>\n                Gravity:\n              </label>\n\n              <Slider\n                handle={(props) => this.onGravitySliderChanged(props)}\n                defaultValue={physicsCore.gravity}\n                step={0.01}\n                min={-9.8}\n                max={0.0}\n              />\n            </div>\n\n            <br/><hr/>\n\n            <div className=\"control-element\">\n              <label>\n                Time Skew: <br/> (Runs simulation slower > faster)\n              </label>\n\n              <Slider\n                handle={(props) => this.onTimeSkewSliderChanged(props)}\n                defaultValue={physicsCore.timeSkew * 500}\n                max={1000}\n                step={1}\n                min={1}\n              />\n            </div>\n\n            <br/><hr/>\n\n            <div className=\"control-element\">\n\n              <label>\n                Component velocity:\n              </label>\n\n              { this.renderVelocity() }\n            </div>\n\n            <br/><hr/>\n\n            <div className=\"control-element\" style={{height:'120px'}}>\n\n              <label>\n                Component transform:\n              </label>\n\n              { this.renderTransformer() }\n            </div>\n\n          </div>\n        }\n\n      </div>\n    )\n  }\n\n  /////////////////////////////////////////////////////////\n  // React method - render transformer extension UI\n  //\n  /////////////////////////////////////////////////////////\n  renderTransformer () {\n\n    const {modelTransformer} = this.react.getState()\n\n    return modelTransformer\n      ? modelTransformer.render({showTitle: false})\n      : false\n  }\n\n  /////////////////////////////////////////////////////////\n  // React method - render extension UI\n  //\n  /////////////////////////////////////////////////////////\n  render (opts) {\n\n    return (\n      <WidgetContainer\n        renderTitle={() => this.renderTitle(opts.docked)}\n        showTitle={opts.showTitle}\n        className={this.className}>\n        {this.renderControls()}\n      </WidgetContainer>\n    )\n  }\n}\n\nAutodesk.Viewing.theExtensionManager.registerExtension(\n  PhysicsExtension.ExtensionId,\n  PhysicsExtension)\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../../node_modules/sass-loader/lib/loader.js!./Viewing.Extension.Physics.RigidBody.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../../node_modules/sass-loader/lib/loader.js!./Viewing.Extension.Physics.RigidBody.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../../node_modules/sass-loader/lib/loader.js!./Viewing.Extension.Physics.RigidBody.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".physics-rigid .title {\\n  display: -ms-inline-flexbox;\\n  display: inline-flex;\\n  float: left; }\\n\\n.physics-rigid .title > label {\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  white-space: nowrap;\\n  font-weight: normal;\\n  user-select: none;\\n  margin-left: 27px;\\n  margin-top: 10px;\\n  select: none;\\n  width: 144px;\\n  float: left; }\\n\\n.physics-rigid .content > .controls {\\n  margin: 10px 10px 0px 10px;\\n  display: inline-block;\\n  white-space: nowrap;\\n  width: 100%; }\\n\\n.physics-rigid .content > .controls > .row {\\n  width: 100%;\\n  margin: 0; }\\n\\n.physics-rigid .content > .controls .dropdown {\\n  width: calc(100% - 88px);\\n  margin-bottom: 6px;\\n  float: left; }\\n\\n.physics-rigid .content > .controls .dropdown > button {\\n  padding: 0 10px 0 10px;\\n  overflow: hidden;\\n  height: 26px;\\n  width: 100%;\\n  margin: 0; }\\n\\n.physics-rigid .content > .controls button {\\n  background: whitesmoke;\\n  border-radius: 4px;\\n  margin-left: 4px;\\n  outline: none;\\n  height: 26px;\\n  width: 30px;\\n  float: left; }\\n\\n.physics-rigid .content > .controls button > span {\\n  position: relative;\\n  font-size: 16px;\\n  color: #9b9b9b;\\n  top: -1px; }\\n\\n.physics-rigid .content > .controls button:disabled > span {\\n  color: #d0d0d0; }\\n\\n.physics-rigid .content > .controls button:hover:not(:disabled) > span {\\n  color: #FF9800; }\\n\\n.physics-rigid .content > .controls button:disabled > span {\\n  color: #d0d0d0; }\\n\\n.physics-rigid .content > .controls label {\\n  margin: 4px 10px 0 10px;\\n  font-weight: normal;\\n  float: left; }\\n\\n.physics-rigid .control-element:first-child {\\n  margin-top: 16px; }\\n\\n.physics-rigid .control-element {\\n  width: calc(100% - 46px);\\n  margin: 0 0 0 16px;\\n  text-align: left;\\n  float: left; }\\n  .physics-rigid .control-element .switch-container {\\n    border: 1px solid #cdcdcd;\\n    border-radius: 10px;\\n    position: relative;\\n    margin-right: 6px;\\n    float: left;\\n    top: 4px; }\\n  .physics-rigid .control-element input[type=\\\"checkbox\\\"].switch + div {\\n    width: 34px;\\n    height: 16px; }\\n  .physics-rigid .control-element input[type=\\\"checkbox\\\"].switch:checked + div {\\n    width: 34px; }\\n  .physics-rigid .control-element input[type=\\\"checkbox\\\"].switch:checked + div > div {\\n    transform: translate3d(18px, 0, 0); }\\n  .physics-rigid .control-element input[type=\\\"checkbox\\\"].switch + div > div {\\n    height: 16px;\\n    width: 16px;\\n    margin: 0; }\\n  .physics-rigid .control-element input[type=\\\"checkbox\\\"].switch:checked + div {\\n    background-color: #FF9800; }\\n  .physics-rigid .control-element label:first-child {\\n    margin: 0 0 10px 0;\\n    color: #000000; }\\n  .physics-rigid .control-element .reset {\\n    background: whitesmoke;\\n    position: relative;\\n    border-radius: 4px;\\n    margin-left: 20px;\\n    height: 26px;\\n    float: none;\\n    width: 80px;\\n    top: 2px; }\\n  .physics-rigid .control-element .row {\\n    width: 100%;\\n    margin: 0; }\\n  .physics-rigid .control-element .row > .label-container {\\n    margin: 2px 0 0 9px;\\n    width: 78px; }\\n  .physics-rigid .control-element button {\\n    background: whitesmoke;\\n    border-radius: 4px;\\n    margin-left: 4px;\\n    outline: none;\\n    height: 26px;\\n    width: 30px;\\n    float: left; }\\n  .physics-rigid .control-element button > span {\\n    position: relative;\\n    font-size: 16px;\\n    color: #9b9b9b;\\n    top: -1px; }\\n  .physics-rigid .control-element button:hover > span {\\n    color: #FF9800; }\\n  .physics-rigid .control-element button > label {\\n    position: relative;\\n    margin: 0 0 0 6px;\\n    top: -2px; }\\n  .physics-rigid .control-element .rc-slider-handle {\\n    border: solid 2px #FF9800; }\\n  .physics-rigid .control-element .rc-slider-track {\\n    background-color: #FF9800; }\\n  .physics-rigid .control-element .input-vel {\\n    border: 1px solid #dedede;\\n    width: calc(33% - 48px);\\n    padding: 2px 0 0 4px;\\n    background: #eaeaea;\\n    border-radius: 4px;\\n    margin: 0 0 6px 5px;\\n    overflow: hidden;\\n    text-align: left;\\n    color: #000000;\\n    height: 26px;\\n    float: left; }\\n\\n.physics-rigid hr {\\n  border-top: 1px solid #cdcdcd;\\n  margin: 20px 10px 16px 45px;\\n  width: calc(100% - 120px);\\n  float: left; }\\n\\n.physics-controls {\\n  margin: auto 0 auto calc(100% - 140px);\\n  position: relative;\\n  float: left; }\\n\\n.physics-controls > button {\\n  border: 1px solid #c6c6c6;\\n  background-color: #e1e1e1;\\n  border-radius: 6px;\\n  position: relative;\\n  overflow: hidden;\\n  outline: none;\\n  height: 24px;\\n  width: 26px; }\\n\\n.physics-controls > button:hover {\\n  border: 1px solid #878787;\\n  background-color: #f5f5f5; }\\n\\n.physics-controls > button > label {\\n  position: relative;\\n  font-size: 20px;\\n  color: #f0fcff;\\n  top: -8px; }\\n\\n.physics-controls > button > span {\\n  pointer-events: none;\\n  color: #9b9b9b; }\\n\", \"\"]);\n","/*!\n * FPSMeter 0.3.1 - 9th May 2013\n * https://github.com/Darsain/fpsmeter\n *\n * Licensed under the MIT license.\n * http://opensource.org/licenses/MIT\n */\n;(function (w, undefined) {\n\t'use strict';\n\n\t/**\n\t * Create a new element.\n\t *\n\t * @param  {String} name Element type name.\n\t *\n\t * @return {Element}\n\t */\n\tfunction newEl(name) {\n\t\treturn document.createElement(name);\n\t}\n\n\t/**\n\t * Apply theme CSS properties to element.\n\t *\n\t * @param  {Element} element DOM element.\n\t * @param  {Object}  theme   Theme object.\n\t *\n\t * @return {Element}\n\t */\n\tfunction applyTheme(element, theme) {\n\t\tfor (var name in theme) {\n\t\t\ttry {\n\t\t\t\telement.style[name] = theme[name];\n\t\t\t} catch (e) {}\n\t\t}\n\t\treturn element;\n\t}\n\n\t/**\n\t * Return type of the value.\n\t *\n\t * @param  {Mixed} value\n\t *\n\t * @return {String}\n\t */\n\tfunction type(value) {\n\t\tif (value == null) {\n\t\t\treturn String(value);\n\t\t}\n\n\t\tif (typeof value === 'object' || typeof value === 'function') {\n\t\t\treturn Object.prototype.toString.call(value).match(/\\s([a-z]+)/i)[1].toLowerCase() || 'object';\n\t\t}\n\n\t\treturn typeof value;\n\t}\n\n\t/**\n\t * Check whether the value is in an array.\n\t *\n\t * @param  {Mixed} value\n\t * @param  {Array} array\n\t *\n\t * @return {Integer} Array index or -1 when not found.\n\t */\n\tfunction inArray(value, array) {\n\t\tif (type(array) !== 'array') {\n\t\t\treturn -1;\n\t\t}\n\t\tif (array.indexOf) {\n\t\t\treturn array.indexOf(value);\n\t\t}\n\t\tfor (var i = 0, l = array.length; i < l; i++) {\n\t\t\tif (array[i] === value) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t}\n\n\t/**\n\t * Poor man's deep object extend.\n\t *\n\t * Example:\n\t *   extend({}, defaults, options);\n\t *\n\t * @return {Void}\n\t */\n\tfunction extend() {\n\t\tvar args = arguments;\n\t\tfor (var key in args[1]) {\n\t\t\tif (args[1].hasOwnProperty(key)) {\n\t\t\t\tswitch (type(args[1][key])) {\n\t\t\t\t\tcase 'object':\n\t\t\t\t\t\targs[0][key] = extend({}, args[0][key], args[1][key]);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'array':\n\t\t\t\t\t\targs[0][key] = args[1][key].slice(0);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\targs[0][key] = args[1][key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn args.length > 2 ?\n\t\t\textend.apply(null, [args[0]].concat(Array.prototype.slice.call(args, 2))) :\n\t\t\targs[0];\n\t}\n\n\t/**\n\t * Convert HSL color to HEX string.\n\t *\n\t * @param  {Array} hsl Array with [hue, saturation, lightness].\n\t *\n\t * @return {Array} Array with [red, green, blue].\n\t */\n\tfunction hslToHex(h, s, l) {\n\t\tvar r, g, b;\n\t\tvar v, min, sv, sextant, fract, vsf;\n\n\t\tif (l <= 0.5) {\n\t\t\tv = l * (1 + s);\n\t\t} else {\n\t\t\tv = l + s - l * s;\n\t\t}\n\n\t\tif (v === 0) {\n\t\t\treturn '#000';\n\t\t} else {\n\t\t\tmin = 2 * l - v;\n\t\t\tsv = (v - min) / v;\n\t\t\th = 6 * h;\n\t\t\tsextant = Math.floor(h);\n\t\t\tfract = h - sextant;\n\t\t\tvsf = v * sv * fract;\n\t\t\tif (sextant === 0 || sextant === 6) {\n\t\t\t\tr = v;\n\t\t\t\tg = min + vsf;\n\t\t\t\tb = min;\n\t\t\t} else if (sextant === 1) {\n\t\t\t\tr = v - vsf;\n\t\t\t\tg = v;\n\t\t\t\tb = min;\n\t\t\t} else if (sextant === 2) {\n\t\t\t\tr = min;\n\t\t\t\tg = v;\n\t\t\t\tb = min + vsf;\n\t\t\t} else if (sextant === 3) {\n\t\t\t\tr = min;\n\t\t\t\tg = v - vsf;\n\t\t\t\tb = v;\n\t\t\t} else if (sextant === 4) {\n\t\t\t\tr = min + vsf;\n\t\t\t\tg = min;\n\t\t\t\tb = v;\n\t\t\t} else {\n\t\t\t\tr = v;\n\t\t\t\tg = min;\n\t\t\t\tb = v - vsf;\n\t\t\t}\n\t\t\treturn '#' + componentToHex(r) + componentToHex(g) + componentToHex(b);\n\t\t}\n\t}\n\n\t/**\n\t * Helper function for hslToHex.\n\t */\n\tfunction componentToHex(c) {\n\t\tc = Math.round(c * 255).toString(16);\n\t\treturn c.length === 1 ? '0' + c : c;\n\t}\n\n\t/**\n\t * Manage element event listeners.\n\t *\n\t * @param  {Node}     element\n\t * @param  {Event}    eventName\n\t * @param  {Function} handler\n\t * @param  {Bool}     remove\n\t *\n\t * @return {Void}\n\t */\n\tfunction listener(element, eventName, handler, remove) {\n\t\tif (element.addEventListener) {\n\t\t\telement[remove ? 'removeEventListener' : 'addEventListener'](eventName, handler, false);\n\t\t} else if (element.attachEvent) {\n\t\t\telement[remove ? 'detachEvent' : 'attachEvent']('on' + eventName, handler);\n\t\t}\n\t}\n\n\t// Preferred timing funtion\n\tvar getTime;\n\t(function () {\n\t\tvar perf = w.performance;\n\t\tif (perf && (perf.now || perf.webkitNow)) {\n\t\t\tvar perfNow = perf.now ? 'now' : 'webkitNow';\n\t\t\tgetTime = perf[perfNow].bind(perf);\n\t\t} else {\n\t\t\tgetTime = function () {\n\t\t\t\treturn +new Date();\n\t\t\t};\n\t\t}\n\t}());\n\n\t// Local WindowAnimationTiming interface polyfill\n\tvar cAF = w.cancelAnimationFrame || w.cancelRequestAnimationFrame;\n\tvar rAF = w.requestAnimationFrame;\n\t(function () {\n\t\tvar vendors = ['moz', 'webkit', 'o'];\n\t\tvar lastTime = 0;\n\n\t\t// For a more accurate WindowAnimationTiming interface implementation, ditch the native\n\t\t// requestAnimationFrame when cancelAnimationFrame is not present (older versions of Firefox)\n\t\tfor (var i = 0, l = vendors.length; i < l && !cAF; ++i) {\n\t\t\tcAF = w[vendors[i]+'CancelAnimationFrame'] || w[vendors[i]+'CancelRequestAnimationFrame'];\n\t\t\trAF = cAF && w[vendors[i]+'RequestAnimationFrame'];\n\t\t}\n\n\t\tif (!cAF) {\n\t\t\trAF = function (callback) {\n\t\t\t\tvar currTime = getTime();\n\t\t\t\tvar timeToCall = Math.max(0, 16 - (currTime - lastTime));\n\t\t\t\tlastTime = currTime + timeToCall;\n\t\t\t\treturn w.setTimeout(function () { callback(currTime + timeToCall); }, timeToCall);\n\t\t\t};\n\n\t\t\tcAF = function (id) {\n\t\t\t\tclearTimeout(id);\n\t\t\t};\n\t\t}\n\t}());\n\n\t// Property name for assigning element text content\n\tvar textProp = type(document.createElement('div').textContent) === 'string' ? 'textContent' : 'innerText';\n\n\t/**\n\t * FPSMeter class.\n\t *\n\t * @param {Element} anchor  Element to append the meter to. Default is document.body.\n\t * @param {Object}  options Object with options.\n\t */\n\tfunction FPSMeter(anchor, options) {\n\t\t// Optional arguments\n\t\tif (type(anchor) === 'object' && anchor.nodeType === undefined) {\n\t\t\toptions = anchor;\n\t\t\tanchor = document.body;\n\t\t}\n\t\tif (!anchor) {\n\t\t\tanchor = document.body;\n\t\t}\n\n\t\t// Private properties\n\t\tvar self = this;\n\t\tvar o = extend({}, FPSMeter.defaults, options || {});\n\n\t\tvar el = {};\n\t\tvar cols = [];\n\t\tvar theme, heatmaps;\n\t\tvar heatDepth = 100;\n\t\tvar heating = [];\n\n\t\tvar thisFrameTime = 0;\n\t\tvar frameTime = o.threshold;\n\t\tvar frameStart = 0;\n\t\tvar lastLoop = getTime() - frameTime;\n\t\tvar time;\n\n\t\tvar fpsHistory = [];\n\t\tvar durationHistory = [];\n\n\t\tvar frameID, renderID;\n\t\tvar showFps = o.show === 'fps';\n\t\tvar graphHeight, count, i, j;\n\n\t\t// Exposed properties\n\t\tself.options = o;\n\t\tself.fps = 0;\n\t\tself.duration = 0;\n\t\tself.isPaused = 0;\n\n\t\t/**\n\t\t * Tick start for measuring the actual rendering duration.\n\t\t *\n\t\t * @return {Void}\n\t\t */\n\t\tself.tickStart = function () {\n\t\t\tframeStart = getTime();\n\t\t};\n\n\t\t/**\n\t\t * FPS tick.\n\t\t *\n\t\t * @return {Void}\n\t\t */\n\t\tself.tick = function () {\n\t\t\ttime = getTime();\n\t\t\tthisFrameTime = time - lastLoop;\n\t\t\tframeTime += (thisFrameTime - frameTime) / o.smoothing;\n\t\t\tself.fps = 1000 / frameTime;\n\t\t\tself.duration = frameStart < lastLoop ? frameTime : time - frameStart;\n\t\t\tlastLoop = time;\n\t\t};\n\n\t\t/**\n\t\t * Pause display rendering.\n\t\t *\n\t\t * @return {Object} FPSMeter instance.\n\t\t */\n\t\tself.pause = function () {\n\t\t\tif (frameID) {\n\t\t\t\tself.isPaused = 1;\n\t\t\t\tclearTimeout(frameID);\n\t\t\t\tcAF(frameID);\n\t\t\t\tcAF(renderID);\n\t\t\t\tframeID = renderID = 0;\n\t\t\t}\n\t\t\treturn self;\n\t\t};\n\n\t\t/**\n\t\t * Resume display rendering.\n\t\t *\n\t\t * @return {Object} FPSMeter instance.\n\t\t */\n\t\tself.resume = function () {\n\t\t\tif (!frameID) {\n\t\t\t\tself.isPaused = 0;\n\t\t\t\trequestRender();\n\t\t\t}\n\t\t\treturn self;\n\t\t};\n\n\t\t/**\n\t\t * Update options.\n\t\t *\n\t\t * @param {String} name  Option name.\n\t\t * @param {Mixed}  value New value.\n\t\t *\n\t\t * @return {Object} FPSMeter instance.\n\t\t */\n\t\tself.set = function (name, value) {\n\t\t\to[name] = value;\n\t\t\tshowFps = o.show === 'fps';\n\n\t\t\t// Rebuild or reposition elements when specific option has been updated\n\t\t\tif (inArray(name, rebuilders) !== -1) {\n\t\t\t\tcreateMeter();\n\t\t\t}\n\t\t\tif (inArray(name, repositioners) !== -1) {\n\t\t\t\tpositionMeter();\n\t\t\t}\n\t\t\treturn self;\n\t\t};\n\n\t\t/**\n\t\t * Change meter into rendering duration mode.\n\t\t *\n\t\t * @return {Object} FPSMeter instance.\n\t\t */\n\t\tself.showDuration = function () {\n\t\t\tself.set('show', 'ms');\n\t\t\treturn self;\n\t\t};\n\n\t\t/**\n\t\t * Change meter into FPS mode.\n\t\t *\n\t\t * @return {Object} FPSMeter instance.\n\t\t */\n\t\tself.showFps = function () {\n\t\t\tself.set('show', 'fps');\n\t\t\treturn self;\n\t\t};\n\n\t\t/**\n\t\t * Toggles between show: 'fps' and show: 'duration'.\n\t\t *\n\t\t * @return {Object} FPSMeter instance.\n\t\t */\n\t\tself.toggle = function () {\n\t\t\tself.set('show', showFps ? 'ms' : 'fps');\n\t\t\treturn self;\n\t\t};\n\n\t\t/**\n\t\t * Hide the FPSMeter. Also pauses the rendering.\n\t\t *\n\t\t * @return {Object} FPSMeter instance.\n\t\t */\n\t\tself.hide = function () {\n\t\t\tself.pause();\n\t\t\tel.container.style.display = 'none';\n\t\t\treturn self;\n\t\t};\n\n\t\t/**\n\t\t * Show the FPSMeter. Also resumes the rendering.\n\t\t *\n\t\t * @return {Object} FPSMeter instance.\n\t\t */\n\t\tself.show = function () {\n\t\t\tself.resume();\n\t\t\tel.container.style.display = 'block';\n\t\t\treturn self;\n\t\t};\n\n\t\t/**\n\t\t * Check the current FPS and save it in history.\n\t\t *\n\t\t * @return {Void}\n\t\t */\n\t\tfunction historyTick() {\n\t\t\tfor (i = o.history; i--;) {\n\t\t\t\tfpsHistory[i] = i === 0 ? self.fps : fpsHistory[i-1];\n\t\t\t\tdurationHistory[i] = i === 0 ? self.duration : durationHistory[i-1];\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Returns heat hex color based on values passed.\n\t\t *\n\t\t * @param  {Integer} heatmap\n\t\t * @param  {Integer} value\n\t\t * @param  {Integer} min\n\t\t * @param  {Integer} max\n\t\t *\n\t\t * @return {Integer}\n\t\t */\n\t\tfunction getHeat(heatmap, value, min, max) {\n\t\t\treturn heatmaps[0|heatmap][Math.round(Math.min((value - min) / (max - min) * heatDepth, heatDepth))];\n\t\t}\n\n\t\t/**\n\t\t * Update counter number and legend.\n\t\t *\n\t\t * @return {Void}\n\t\t */\n\t\tfunction updateCounter() {\n\t\t\t// Update legend only when changed\n\t\t\tif (el.legend.fps !== showFps) {\n\t\t\t\tel.legend.fps = showFps;\n\t\t\t\tel.legend[textProp] = showFps ? o.legend[0] : o.legend[1]; //ADN modif\n\t\t\t}\n\t\t\t// Update counter with a nicely formated & readable number\n\t\t\tcount = showFps ? self.fps : self.duration;\n\t\t\tel.count[textProp] = count.toFixed(count > 99 ? 0 : o.decimals);\n\t\t}\n\n\t\t/**\n\t\t * Render current FPS state.\n\t\t *\n\t\t * @return {Void}\n\t\t */\n\t\tfunction render() {\n\t\t\ttime = getTime();\n\t\t\t// If renderer stopped reporting, do a simulated drop to 0 fps\n\t\t\tif (lastLoop < time - o.threshold) {\n\t\t\t\tself.fps -= self.fps / Math.max(1, o.smoothing * 60 / o.interval);\n\t\t\t\tself.duration = 1000 / self.fps;\n\t\t\t}\n\n\t\t\thistoryTick();\n\t\t\tupdateCounter();\n\n\t\t\t// Apply heat to elements\n\t\t\tif (o.heat) {\n\t\t\t\tif (heating.length) {\n\t\t\t\t\tfor (i = heating.length; i--;) {\n\t\t\t\t\t\theating[i].el.style[theme[heating[i].name].heatOn] = showFps ?\n\t\t\t\t\t\t\tgetHeat(theme[heating[i].name].heatmap, self.fps, 0, o.maxFps) :\n\t\t\t\t\t\t\tgetHeat(theme[heating[i].name].heatmap, self.duration, o.threshold, 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (el.graph && theme.column.heatOn) {\n\t\t\t\t\tfor (i = cols.length; i--;) {\n\t\t\t\t\t\tcols[i].style[theme.column.heatOn] = showFps ?\n\t\t\t\t\t\t\tgetHeat(theme.column.heatmap, fpsHistory[i], 0, o.maxFps) :\n\t\t\t\t\t\t\tgetHeat(theme.column.heatmap, durationHistory[i], o.threshold, 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Update graph columns height\n\t\t\tif (el.graph) {\n\t\t\t\tfor (j = 0; j < o.history; j++) {\n\t\t\t\t\tcols[j].style.height = (showFps ?\n\t\t\t\t\t\t(fpsHistory[j] ? Math.round(graphHeight / o.maxFps * Math.min(fpsHistory[j], o.maxFps)) : 0) :\n\t\t\t\t\t\t(durationHistory[j] ? Math.round(graphHeight / o.threshold * Math.min(durationHistory[j], o.threshold)) : 0)\n\t\t\t\t\t) + 'px';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Request rendering loop.\n\t\t *\n\t\t * @return {Int} Animation frame index.\n\t\t */\n\t\tfunction requestRender() {\n\t\t\tif (o.interval < 20) {\n\t\t\t\tframeID = rAF(requestRender);\n\t\t\t\trender();\n\t\t\t} else {\n\t\t\t\tframeID = setTimeout(requestRender, o.interval);\n\t\t\t\trenderID = rAF(render);\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Meter events handler.\n\t\t *\n\t\t * @return {Void}\n\t\t */\n\t\tfunction eventHandler(event) {\n\t\t\tevent = event || window.event;\n\t\t\tif (event.preventDefault) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t} else {\n\t\t\t\tevent.returnValue = false;\n\t\t\t\tevent.cancelBubble = true;\n\t\t\t}\n\t\t\tself.toggle();\n\t\t}\n\n\t\t/**\n\t\t * Destroys the current FPSMeter instance.\n\t\t *\n\t\t * @return {Void}\n\t\t */\n\t\tself.destroy = function () {\n\t\t\t// Stop rendering\n\t\t\tself.pause();\n\t\t\t// Remove elements\n\t\t\tremoveMeter();\n\t\t\t// Stop listening\n\t\t\tself.tick = self.tickStart = function () {};\n\t\t};\n\n\t\t/**\n\t\t * Remove meter element.\n\t\t *\n\t\t * @return {Void}\n\t\t */\n\t\tfunction removeMeter() {\n\t\t\t// Unbind listeners\n\t\t\tif (o.toggleOn) {\n\t\t\t\tlistener(el.container, o.toggleOn, eventHandler, 1);\n\t\t\t}\n\t\t\t// Detach element\n\t\t\tanchor.removeChild(el.container);\n\t\t}\n\n\t\t/**\n\t\t * Sets the theme, and generates heatmaps when needed.\n\t\t */\n\t\tfunction setTheme() {\n\t\t\ttheme = FPSMeter.theme[o.theme];\n\n\t\t\t// Generate heatmaps\n\t\t\theatmaps = theme.compiledHeatmaps || [];\n\t\t\tif (!heatmaps.length && theme.heatmaps.length) {\n\t\t\t\tfor (j = 0; j < theme.heatmaps.length; j++) {\n\t\t\t\t\theatmaps[j] = [];\n\t\t\t\t\tfor (i = 0; i <= heatDepth; i++) {\n\t\t\t\t\t\theatmaps[j][i] = hslToHex(0.33 / heatDepth * i, theme.heatmaps[j].saturation, theme.heatmaps[j].lightness);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttheme.compiledHeatmaps = heatmaps;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Creates and attaches the meter element.\n\t\t *\n\t\t * @return {Void}\n\t\t */\n\t\tfunction createMeter() {\n\t\t\t// Remove old meter if present\n\t\t\tif (el.container) {\n\t\t\t\tremoveMeter();\n\t\t\t}\n\n\t\t\t// Set theme\n\t\t\tsetTheme();\n\n\t\t\t// Create elements\n\t\t\tel.container = applyTheme(newEl('div'), theme.container);\n\t\t\tel.count = el.container.appendChild(applyTheme(newEl('div'), theme.count));\n\t\t\tel.legend = el.container.appendChild(applyTheme(newEl('div'), theme.legend));\n\t\t\tel.graph = o.graph ? el.container.appendChild(applyTheme(newEl('div'), theme.graph)) : 0;\n\n\t\t\t// Add elements to heating array\n\t\t\theating.length = 0;\n\t\t\tfor (var key in el) {\n\t\t\t\tif (el[key] && theme[key].heatOn) {\n\t\t\t\t\theating.push({\n\t\t\t\t\t\tname: key,\n\t\t\t\t\t\tel: el[key]\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Graph\n\t\t\tcols.length = 0;\n\t\t\tif (el.graph) {\n\t\t\t\t// Create graph\n\t\t\t\tel.graph.style.width = (o.history * theme.column.width + (o.history - 1) * theme.column.spacing) + 'px';\n\n\t\t\t\t// Add columns\n\t\t\t\tfor (i = 0; i < o.history; i++) {\n\t\t\t\t\tcols[i] = el.graph.appendChild(applyTheme(newEl('div'), theme.column));\n\t\t\t\t\tcols[i].style.position = 'absolute';\n\t\t\t\t\tcols[i].style.bottom = 0;\n\t\t\t\t\tcols[i].style.right = (i * theme.column.width + i * theme.column.spacing) + 'px';\n\t\t\t\t\tcols[i].style.width = theme.column.width + 'px';\n\t\t\t\t\tcols[i].style.height = '0px';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set the initial state\n\t\t\tpositionMeter();\n\t\t\tupdateCounter();\n\n\t\t\t// Append container to anchor\n\t\t\tanchor.appendChild(el.container);\n\n\t\t\t// Retrieve graph height after it was appended to DOM\n\t\t\tif (el.graph) {\n\t\t\t\tgraphHeight = el.graph.clientHeight;\n\t\t\t}\n\n\t\t\t// Add event listeners\n\t\t\tif (o.toggleOn) {\n\t\t\t\tif (o.toggleOn === 'click') {\n\t\t\t\t\tel.container.style.cursor = 'pointer';\n\t\t\t\t}\n\t\t\t\tlistener(el.container, o.toggleOn, eventHandler);\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Positions the meter based on options.\n\t\t *\n\t\t * @return {Void}\n\t\t */\n\t\tfunction positionMeter() {\n\t\t\tapplyTheme(el.container, o);\n\t\t}\n\n\t\t/**\n\t\t * Construct.\n\t\t */\n\t\t(function () {\n\t\t\t// Create meter element\n\t\t\tcreateMeter();\n\t\t\t// Start rendering\n\t\t\trequestRender();\n\t\t}());\n\t}\n\n\t// Expose the extend function\n\tFPSMeter.extend = extend;\n\n\t// Expose the FPSMeter class\n\twindow.FPSMeter = FPSMeter;\n\n\t// Default options\n\tFPSMeter.defaults = {\n\t\tinterval:  100,     // Update interval in milliseconds.\n\t\tsmoothing: 10,      // Spike smoothing strength. 1 means no smoothing.\n\t\tshow:      'fps',   // Whether to show 'fps', or 'ms' = frame duration in milliseconds.\n\t\ttoggleOn:  'click', // Toggle between show 'fps' and 'ms' on this event.\n\t\tdecimals:  1,       // Number of decimals in FPS number. 1 = 59.9, 2 = 59.94, ...\n\t\tmaxFps:    60,      // Max expected FPS value.\n\t\tthreshold: 100,     // Minimal tick reporting interval in milliseconds.\n\n\t\t// Meter position\n\t\tposition: 'absolute', // Meter position.\n\t\tzIndex:   10,         // Meter Z index.\n\t\tleft:     '5px',      // Meter left offset.\n\t\ttop:      '5px',      // Meter top offset.\n\t\tright:    'auto',     // Meter right offset.\n\t\tbottom:   'auto',     // Meter bottom offset.\n\t\tmargin:   '0 0 0 0',  // Meter margin. Helps with centering the counter when left: 50%;\n\n\t\t// Theme\n\t\ttheme: 'dark', // Meter theme. Build in: 'dark', 'light', 'transparent', 'colorful'.\n\t\theat:  0,      // Allow themes to use coloring by FPS heat. 0 FPS = red, maxFps = green.\n\n\t\t// Graph\n\t\tgraph:   0, // Whether to show history graph.\n\t\thistory: 20, // How many history states to show in a graph.\n\t\tlegend: ['FPS', 'ms']\n\t};\n\n\t// Option names that trigger FPSMeter rebuild or reposition when modified\n\tvar rebuilders = [\n\t\t'toggleOn',\n\t\t'theme',\n\t\t'heat',\n\t\t'graph',\n\t\t'history'\n\t];\n\tvar repositioners = [\n\t\t'position',\n\t\t'zIndex',\n\t\t'left',\n\t\t'top',\n\t\t'right',\n\t\t'bottom',\n\t\t'margin'\n\t];\n}(window));\n;(function (w, FPSMeter, undefined) {\n\t'use strict';\n\n\t// Themes object\n\tFPSMeter.theme = {};\n\n\t// Base theme with layout, no colors\n\tvar base = FPSMeter.theme.base = {\n\t\theatmaps: [],\n\t\tcontainer: {\n\t\t\t// Settings\n\t\t\theatOn: null,\n\t\t\theatmap: null,\n\n\t\t\t// Styles\n\t\t\tpadding: '5px',\n\t\t\tminWidth: '95px',\n\t\t\theight: '30px',\n\t\t\tlineHeight: '30px',\n\t\t\ttextAlign: 'right',\n\t\t\ttextShadow: 'none'\n\t\t},\n\t\tcount: {\n\t\t\t// Settings\n\t\t\theatOn: null,\n\t\t\theatmap: null,\n\n\t\t\t// Styles\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tright: 0,\n\t\t\tpadding: '5px 10px',\n\t\t\theight: '30px',\n\t\t\tfontSize: '24px',\n\t\t\tfontFamily: 'Consolas, Andale Mono, monospace',\n\t\t\tzIndex: 2\n\t\t},\n\t\tlegend: {\n\t\t\t// Settings\n\t\t\theatOn: null,\n\t\t\theatmap: null,\n\n\t\t\t// Styles\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tpadding: '5px 10px',\n\t\t\theight: '30px',\n\t\t\tfontSize: '12px',\n\t\t\tlineHeight: '32px',\n\t\t\tfontFamily: 'sans-serif',\n\t\t\ttextAlign: 'left',\n\t\t\tzIndex: 2\n\t\t},\n\t\tgraph: {\n\t\t\t// Settings\n\t\t\theatOn: null,\n\t\t\theatmap: null,\n\n\t\t\t// Styles\n\t\t\tposition: 'relative',\n\t\t\tboxSizing: 'padding-box',\n\t\t\tMozBoxSizing: 'padding-box',\n\t\t\theight: '100%',\n\t\t\tzIndex: 1\n\t\t},\n\t\tcolumn: {\n\t\t\t// Settings\n\t\t\twidth: 4,\n\t\t\tspacing: 1,\n\t\t\theatOn: null,\n\t\t\theatmap: null\n\t\t}\n\t};\n\n\t// Dark theme\n\tFPSMeter.theme.dark = FPSMeter.extend({}, base, {\n\t\theatmaps: [{\n\t\t\tsaturation: 0.8,\n\t\t\tlightness: 0.8\n\t\t}],\n\t\tcontainer: {\n\t\t\tbackground: 'rgba(60, 60, 60, 0.5)',\n\t\t\tcolor: '#fff',\n\t\t\tborder: '1px solid #1a1a1a',\n\t\t\ttextShadow: '1px 1px 0 #222'\n\t\t},\n\t\tcount: {\n\t\t\theatOn: 'color'\n\t\t},\n\t\tcolumn: {\n\t\t\tbackground: '#3f3f3f'\n\t\t}\n\t});\n\n\t// Light theme\n\tFPSMeter.theme.light = FPSMeter.extend({}, base, {\n\t\theatmaps: [{\n\t\t\tsaturation: 0.5,\n\t\t\tlightness: 0.5\n\t\t}],\n\t\tcontainer: {\n\t\t\tcolor: '#666',\n\t\t\tbackground: '#fff',\n\t\t\ttextShadow: '1px 1px 0 rgba(255,255,255,.5), -1px -1px 0 rgba(255,255,255,.5)',\n\t\t\tboxShadow: '0 0 0 1px rgba(0,0,0,.1)'\n\t\t},\n\t\tcount: {\n\t\t\theatOn: 'color'\n\t\t},\n\t\tcolumn: {\n\t\t\tbackground: '#eaeaea'\n\t\t}\n\t});\n\n\t// Colorful theme\n\tFPSMeter.theme.colorful = FPSMeter.extend({}, base, {\n\t\theatmaps: [{\n\t\t\tsaturation: 0.5,\n\t\t\tlightness: 0.6\n\t\t}],\n\t\tcontainer: {\n\t\t\theatOn: 'backgroundColor',\n\t\t\tbackground: '#888',\n\t\t\tcolor: '#fff',\n\t\t\ttextShadow: '1px 1px 0 rgba(0,0,0,.2)',\n\t\t\tboxShadow: '0 0 0 1px rgba(0,0,0,.1)'\n\t\t},\n\t\tcolumn: {\n\t\t\tbackground: '#777',\n\t\t\tbackgroundColor: 'rgba(0,0,0,.2)'\n\t\t}\n\t});\n\n\t// Transparent theme\n\tFPSMeter.theme.transparent = FPSMeter.extend({}, base, {\n\t\theatmaps: [{\n\t\t\tsaturation: 0.8,\n\t\t\tlightness: 0.5\n\t\t}],\n\t\tcontainer: {\n\t\t\tbackground: 'rgba(60, 60, 60, 0.5)',\n\t\t\tcolor: '#fff',\n\t\t\tborder: '1px solid #1a1a1a',\n\t\t\ttextShadow: '1px 1px 0 #222'\n\t\t},\n\t\tcount: {\n\t\t\tpadding: '0 5px',\n\t\t\theight: '40px',\n\t\t\tlineHeight: '40px'\n\t\t},\n\t\t//legend: {\n\t\t//\tpadding: '0 5px',\n\t\t//\theight: '40px',\n\t\t//\tlineHeight: '42px'\n\t\t//},\n\t\t//graph: {\n\t\t//\theight: '40px'\n\t\t//},\n\t\tcolumn: {\n\t\t\twidth: 5,\n\t\t\tbackground: '#999',\n\t\t\theatOn: 'backgroundColor',\n\t\t\topacity: 0.5\n\t\t}\n\t});\n}(window, FPSMeter));","import MultiModelExtensionBase from './Viewer.MultiModelExtensionBase'\n\nexport default MultiModelExtensionBase\n","import EventsEmitter from 'EventsEmitter'\n\nexport default class MultiModelExtensionBase extends\n  EventsEmitter.Composer (Autodesk.Viewing.Extension) {\n\n  /////////////////////////////////////////////////////////\n  // Class constructor\n  //\n  /////////////////////////////////////////////////////////\n  constructor (viewer, options = {}, defaultOptions = {}) {\n\n    super (viewer)\n    // bindings\n    Object.assign(this, options.serviceContext)\n\n    this.onModelCompletedLoad = this.onModelCompletedLoad.bind(this)\n    this.onObjectTreeCreated  = this.onObjectTreeCreated.bind(this)\n    this.onModelRootLoaded    = this.onModelRootLoaded.bind(this)\n    this.onExtensionLoaded    = this.onExtensionLoaded.bind(this)\n    this.onModelActivated     = this.onModelActivated.bind(this)\n    this.onGeometryLoaded     = this.onGeometryLoaded.bind(this)\n    this.onToolbarCreated     = this.onToolbarCreated.bind(this)\n    this.onModelBeginLoad     = this.onModelBeginLoad.bind(this)\n    this.onModelUnloaded      = this.onModelUnloaded.bind(this)\n    this.onSelection          = this.onSelection.bind(this)\n\n    this.__onModelRootLoaded  = this.__onModelRootLoaded.bind(this)\n    this.__onModelActivated   = this.__onModelActivated.bind(this)\n    this.__onModelUnloaded    = this.__onModelUnloaded.bind(this)\n    this.__onModelLoaded      = this.__onModelLoaded.bind(this)\n\n    this.defaultOptions = defaultOptions\n\n    this.options = Object.assign({},\n      defaultOptions,\n      options)\n\n    this.viewer = viewer\n\n    // read the modelQueue to detect currently loaded models\n    // when the extension gets loaded\n    const models = viewer.impl.modelQueue().getModels()\n\n    this.models = models.map((model) => {\n\n      model.guid = model.guid || this.guid()\n\n      return model\n    })\n\n    this.initializeEvents ()\n  }\n\n  /////////////////////////////////////////////////////////\n  // Extension Id\n  //\n  /////////////////////////////////////////////////////////\n  static get ExtensionId() {\n\n    return 'Viewing.Extension.MultiModelExtensionBase'\n  }\n\n  /////////////////////////////////////////////////////////\n  // Load callback\n  //\n  /////////////////////////////////////////////////////////\n  load () {\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Unload callback\n  //\n  /////////////////////////////////////////////////////////\n  unload () {\n\n    this.viewerEvents.forEach((event) => {\n\n      this.viewer.removeEventListener(\n        event.id, this[event.handler])\n    })\n\n    if (this.eventSink) {\n\n      this.eventSink.off('model.activated',\n        this.__onModelActivated)\n\n      this.eventSink.off('model.unloaded',\n        this.__onModelUnloaded)\n\n      this.eventSink.off('model.loaded',\n        this.__onModelLoaded)\n    }\n\n    this.off()\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Reload callback, in case the extension is re-loaded\n  // more than once\n  //\n  /////////////////////////////////////////////////////////\n  reload (options = {}) {\n\n    this.options = Object.assign({},\n      this.defaultOptions,\n      this.options,\n      options)\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when extension gets loaded\n  //\n  /////////////////////////////////////////////////////////\n  onExtensionLoaded (event) {\n\n    //console.log('MultiModelExtensionBase.onExtensionLoaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when the model starts to load\n  // The geometry and instanceTree may not be available\n  // at this time\n  //\n  /////////////////////////////////////////////////////////\n  onModelBeginLoad (event) {\n\n    //console.log('MultiModelExtensionBase.onModelBeginLoad')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Triggered by ModelLoader extension when a model is\n  // selected in a multi-model environment\n  //\n  /////////////////////////////////////////////////////////\n  onModelActivated (event) {\n\n    //console.log('MultiModelExtensionBase.onModelActivated')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when model root node has been loaded\n  // Extensions that do require access to full\n  // model geometry or component tree may use that\n  // event to know a new model has been loaded\n  //\n  /////////////////////////////////////////////////////////\n  __onModelRootLoaded (event) {\n\n    this.viewerEvent([\n\n      Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,\n      Autodesk.Viewing.GEOMETRY_LOADED_EVENT\n\n    ]).then((args) => {\n\n      this.onModelCompletedLoad (args[0])\n    })\n  }\n\n  onModelRootLoaded (event) {\n\n    //console.log('MultiModelExtensionBase.onModelRootLoaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when object tree is fully loaded.\n  // Extensions that are interested in using the\n  // instanceTree need to use that event to make sure\n  // it is available\n  //\n  ////////////////////////////////////////////////////////\n  onObjectTreeCreated (event) {\n\n    //console.log('MultiModelExtensionBase.onObjectTreeCreated')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when geometry is fully loaded\n  //\n  /////////////////////////////////////////////////////////\n  onGeometryLoaded (event) {\n\n    //console.log('MultiModelExtensionBase.onGeometryLoaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked after onObjectTreeCreated and onGeometryLoaded\n  // have both been fired\n  //\n  /////////////////////////////////////////////////////////\n  onModelCompletedLoad (event) {\n\n    //console.log('MultiModelExtensionBase.onModelCompletedLoad')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked once the viewer toolbar has been created\n  //\n  /////////////////////////////////////////////////////////\n  onToolbarCreated (event) {\n\n    //console.log('MultiModelExtensionBase.onToolbarCreated')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Triggered by ModelLoader extension when a model has\n  // been unloaded as per user request\n  //\n  /////////////////////////////////////////////////////////\n  onModelUnloaded (event) {\n\n    //console.log('MultiModelExtensionBase.onModelUnloaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when a model is being selected\n  //\n  /////////////////////////////////////////////////////////\n  onSelection (event) {\n\n    //console.log('MultiModelExtensionBase.onSelection')\n  }\n\n  /////////////////////////////////////////////////////////\n  //Sink Events\n  //\n  /////////////////////////////////////////////////////////\n  __onModelLoaded (event) {\n\n    this.models = [...this.models, event.model]\n\n    this.onModelBeginLoad (event)\n  }\n\n  __onModelActivated (event) {\n\n    this.onModelActivated (event)\n  }\n\n  __onModelUnloaded (event) {\n\n    this.models = this.models.filter((model) => {\n\n      return model.guid !== event.model.guid\n    })\n\n    this.onModelUnloaded(event)\n  }\n\n  /////////////////////////////////////////////////////////\n  // Initialize all events for the extension\n  // Each event will invoke a predefined handler\n  // implemented or not by the derived extension\n  //\n  /////////////////////////////////////////////////////////\n  initializeEvents () {\n\n    if (this.options.eventSink) {\n\n      // event object passed in options\n      this.eventSink = this.options.eventSink\n\n      this.eventSink.on('model.loaded',\n        this.__onModelLoaded)\n\n      this.eventSink.on('model.activated',\n        this.__onModelActivated)\n\n      this.eventSink.on('model.unloaded',\n        this.__onModelUnloaded)\n    }\n\n    this.viewerEvents = [\n      {\n        id: Autodesk.Viewing.EXTENSION_LOADED_EVENT,\n        handler: 'onExtensionLoaded'\n      },\n      {\n        id: Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,\n        handler: 'onObjectTreeCreated'\n      },\n      {\n        id: Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,\n        handler: '__onModelRootLoaded'\n      },\n      {\n        id: Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,\n        handler: 'onModelRootLoaded'\n      },\n      {\n        id: Autodesk.Viewing.GEOMETRY_LOADED_EVENT,\n        handler: 'onGeometryLoaded'\n      },\n      {\n        id: Autodesk.Viewing.TOOLBAR_CREATED_EVENT,\n        handler: 'onToolbarCreated'\n      },\n      {\n        id: Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT,\n        handler: 'onSelection'\n      }\n    ]\n\n    this.viewerEvents.forEach((event) => {\n\n      this.viewerEvent(event.id, this[event.handler])\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  // Async viewer event\n  //\n  /////////////////////////////////////////////////////////\n  viewerEvent (eventId, handler) {\n\n    if (handler) {\n\n      this.viewer.addEventListener (eventId, handler)\n      return\n    }\n\n    const eventIdArray = Array.isArray(eventId)\n      ? eventId : [eventId]\n\n    const eventTasks = eventIdArray.map((id) => {\n      return new Promise ((resolve) => {\n        const __handler = (args) => {\n          this.viewer.removeEventListener (id, __handler)\n          resolve (args)\n        }\n        this.viewer.addEventListener (id, __handler)\n      })\n    })\n\n    return Promise.all (eventTasks)\n  }\n}\n","var superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","import PropTypes from 'prop-types'\nimport ReactDOM from 'react-dom'\nimport './WidgetContainer.scss'\nimport React from 'react'\n\nclass WidgetContainer extends React.Component {\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static propTypes = {\n    className: PropTypes.string,\n    showTitle: PropTypes.bool\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static defaultProps = {\n    showTitle: true,\n    className: ''\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  renderTitle () {\n\n    if (!this.props.showTitle) {\n\n      return <div/>\n    }\n\n    if (this.props.renderTitle) {\n\n      return this.props.renderTitle()\n    }\n\n    return (\n      <div className=\"title\">\n        <label>\n          { this.props.title }\n        </label>\n      </div>\n    )\n  }\n\n  ///////////////////////////////////////////////////////////////////\n  //\n  //\n  ///////////////////////////////////////////////////////////////////\n  renderChildren() {\n\n    if (this.props.dimensions) {\n\n      return React.Children.map(this.props.children, (child) => {\n\n        const newProps = Object.assign({},\n          child.props, {\n            dimensions: this.props.dimensions\n          })\n\n        return React.cloneElement(child, newProps)\n      })\n    }\n\n    return this.props.children\n  }\n\n  ///////////////////////////////////////////////////////////////////\n  //\n  //\n  ///////////////////////////////////////////////////////////////////\n  render() {\n\n    const classNames = [\n      'widget-container',\n      ...this.props.className.split(' ')\n    ]\n\n    const height = this.props.showTitle\n      ? 'calc(100% - 40px)'\n      : '100%'\n\n    return (\n      <div className={classNames.join(' ')} style={this.props.style}>\n         { this.renderTitle() }\n        <div className=\"content\" style={{height}}>\n          {this.renderChildren()}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default WidgetContainer\n","import WidgetContainer from './WidgetContainer'\n\nexport default WidgetContainer\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./WidgetContainer.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./WidgetContainer.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./WidgetContainer.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".widget-container {\\n  position: relative;\\n  height: 100%;\\n  width: 100%; }\\n\\n.widget-container > .title {\\n  border-bottom: 1px solid #cdcdcd;\\n  background-color: #f5f5f5;\\n  padding-right: 10px;\\n  color: black;\\n  position: relative;\\n  overflow: hidden;\\n  text-align: left;\\n  height: 40px;\\n  width: 100%; }\\n\\n.widget-container > .title > label {\\n  white-space: nowrap;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  margin-left: 27px;\\n  margin-top: 10px; }\\n\\n.widget-container > .content {\\n  position: relative;\\n  overflow: hidden;\\n  height: 100%;\\n  width: 100%; }\\n\", \"\"]);\n","import PropTypes from 'prop-types'\nimport DOMPurify from 'dompurify'\nimport ReactDOM from 'react-dom'\nimport React from 'react'\nimport './Label.scss'\n\nexport default class Label extends React.Component {\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static propTypes = {\n    textAlign: PropTypes.string,\n    className: PropTypes.string,\n    text: PropTypes.string\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static defaultProps = {\n    textAlign: 'left',\n    className: '',\n    text: ''\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  constructor (props) {\n\n    super (props)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  render () {\n\n    const classNames = [\n      'label-container',\n      ...this.props.className.split(' ')\n    ]\n\n    const style = {\n      width: this.props.textAlign === 'center'\n        ? '100%' : '',\n      textAlign: this.props.textAlign\n    }\n\n    return(\n      <div className={classNames.join(' ')}\n        style={style}>\n        <p>\n          { DOMPurify.sanitize(this.props.text) }\n        </p>\n      </div>\n    )\n  }\n}\n","import Label from './Label'\n\nexport default Label\n","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./Label.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./Label.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./Label.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".label-container {\\n  position: relative;\\n  overflow: hidden;\\n  font-size: 100%;\\n  color: #343434;\\n  height: 100%;\\n  float: left; }\\n\", \"\"]);\n","import autobind from 'autobind-decorator'\nimport PropTypes from 'prop-types'\nimport React from 'react'\n\nexport default class Switch extends React.Component {\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static propTypes = {\n    className: PropTypes.string,\n    checked: PropTypes.bool\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static defaultProps = {\n    checked: true,\n    className: ''\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  constructor () {\n\n    super ()\n\n    this.state = {\n      checked: true\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  componentWillMount () {\n\n    this.setState({\n      checked: this.props.checked\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  @autobind\n  toggle () {\n\n    if (this.props.disabled) {\n      return\n    }\n\n    const checked = !this.state.checked\n\n    this.setState({\n      checked\n    })\n\n    if (this.props.onChange) {\n\n      this.props.onChange (checked)\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  render () {\n\n    const classNames = [\n      'switch-container',\n      this.props.disabled ? 'disabled' : '',\n      ...this.props.className.split(' ')\n    ]\n\n    return(\n      <div className={classNames.join(' ')}\n        onClick={this.toggle}>\n        <input ref=\"switch\" className=\"switch\"\n          checked={this.state.checked}\n          value={this.state.checked}\n          onChange={()=> {}}\n          type=\"checkbox\"\n        />\n        <div>\n          <span>\n            <g className=\"icon icon-toolbar grid-view\"/>\n          </span>\n          <span>\n            <g className=\"icon icon-toolbar ticket-view\"/>\n          </span>\n          <div/>\n        </div>\n      </div>\n    )\n  }\n}\n","import Switch from './Switch'\nimport './Switch.scss'\n\nexport default Switch\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./Switch.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./Switch.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./Switch.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".switch-container {\\n  position: relative; }\\n\\n.switch-container *:hover {\\n  cursor: pointer; }\\n\\n.switch-container.disabled *:hover {\\n  cursor: not-allowed; }\\n\\ninput[type=\\\"checkbox\\\"].switch {\\n  pointer-events: none;\\n  position: absolute;\\n  cursor: pointer;\\n  opacity: 0; }\\n\\ninput[type=\\\"checkbox\\\"].switch + div {\\n  vertical-align: middle;\\n  width: 40px;\\n  height: 20px;\\n  border-radius: 999px;\\n  background-color: #9d9d9d;\\n  transition-duration: .4s;\\n  transition-property: background-color, box-shadow;\\n  cursor: pointer; }\\n\\ninput[type=\\\"checkbox\\\"].switch + div span {\\n  position: absolute;\\n  font-size: 1.6rem;\\n  color: #f5f5f5;\\n  margin-top: 12px; }\\n\\ninput[type=\\\"checkbox\\\"].switch + div span:nth-child(1) {\\n  margin-left: 15px; }\\n\\ninput[type=\\\"checkbox\\\"].switch + div span:nth-child(2) {\\n  margin-left: 55px; }\\n\\ninput[type=\\\"checkbox\\\"].switch:checked + div {\\n  width: 60px;\\n  background-position: 0 0;\\n  background-color: #57BB00; }\\n\\n.switch-container.disabled input[type=\\\"checkbox\\\"].switch + div {\\n  background-color: rgba(157, 157, 157, 0.5); }\\n\\ninput[type=\\\"checkbox\\\"].switch + div {\\n  width: 60px;\\n  height: 26px; }\\n\\ninput[type=\\\"checkbox\\\"].switch + div > div {\\n  float: left;\\n  width: 24px;\\n  height: 24px;\\n  border-radius: inherit;\\n  background: #f5f5f5;\\n  transition-timing-function: cubic-bezier(1, 0, 0, 1);\\n  transition-duration: 0.4s;\\n  transition-property: transform, background-color;\\n  pointer-events: none;\\n  margin-top: 1px;\\n  margin-left: 1px; }\\n\\ninput[type=\\\"checkbox\\\"].switch:checked + div > div {\\n  transform: translate3d(20px, 0, 0);\\n  background-color: #f5f5f5; }\\n\\ninput[type=\\\"checkbox\\\"].bigswitch.switch + div > div {\\n  width: 44px;\\n  height: 44px;\\n  margin-top: 1px; }\\n\\ninput[type=\\\"checkbox\\\"].switch:checked + div > div {\\n  transform: translate3d(34px, 0, 0); }\\n\", \"\"]);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __importStar(require(\"react\"));\nvar fast_deep_equal_1 = __importDefault(require(\"fast-deep-equal\"));\nvar PropTypes = __importStar(require(\"prop-types\"));\nfunction normalizeHtml(str) {\n    return str && str.replace(/&nbsp;|\\u202F|\\u00A0/g, ' ');\n}\nfunction findLastTextNode(node) {\n    if (node.nodeType === Node.TEXT_NODE)\n        return node;\n    var children = node.childNodes;\n    for (var i = children.length - 1; i >= 0; i--) {\n        var textNode = findLastTextNode(children[i]);\n        if (textNode !== null)\n            return textNode;\n    }\n    return null;\n}\nfunction replaceCaret(el) {\n    // Place the caret at the end of the element\n    var target = findLastTextNode(el);\n    // do not move caret if element was not focused\n    var isTargetFocused = document.activeElement === el;\n    if (target !== null && target.nodeValue !== null && isTargetFocused) {\n        var sel = window.getSelection();\n        if (sel !== null) {\n            var range = document.createRange();\n            range.setStart(target, target.nodeValue.length);\n            range.collapse(true);\n            sel.removeAllRanges();\n            sel.addRange(range);\n        }\n        if (el instanceof HTMLElement)\n            el.focus();\n    }\n}\n/**\n * A simple component for an html element with editable contents.\n */\nvar ContentEditable = /** @class */ (function (_super) {\n    __extends(ContentEditable, _super);\n    function ContentEditable() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.lastHtml = _this.props.html;\n        _this.el = typeof _this.props.innerRef === 'function' ? { current: null } : React.createRef();\n        _this.getEl = function () { return (_this.props.innerRef && typeof _this.props.innerRef !== 'function' ? _this.props.innerRef : _this.el).current; };\n        _this.emitChange = function (originalEvt) {\n            var el = _this.getEl();\n            if (!el)\n                return;\n            var html = el.innerHTML;\n            if (_this.props.onChange && html !== _this.lastHtml) {\n                // Clone event with Object.assign to avoid\n                // \"Cannot assign to read only property 'target' of object\"\n                var evt = Object.assign({}, originalEvt, {\n                    target: {\n                        value: html\n                    }\n                });\n                _this.props.onChange(evt);\n            }\n            _this.lastHtml = html;\n        };\n        return _this;\n    }\n    ContentEditable.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, tagName = _a.tagName, html = _a.html, innerRef = _a.innerRef, props = __rest(_a, [\"tagName\", \"html\", \"innerRef\"]);\n        return React.createElement(tagName || 'div', __assign({}, props, { ref: typeof innerRef === 'function' ? function (current) {\n                innerRef(current);\n                _this.el.current = current;\n            } : innerRef || this.el, onInput: this.emitChange, onBlur: this.props.onBlur || this.emitChange, onKeyUp: this.props.onKeyUp || this.emitChange, onKeyDown: this.props.onKeyDown || this.emitChange, contentEditable: !this.props.disabled, dangerouslySetInnerHTML: { __html: html } }), this.props.children);\n    };\n    ContentEditable.prototype.shouldComponentUpdate = function (nextProps) {\n        var props = this.props;\n        var el = this.getEl();\n        // We need not rerender if the change of props simply reflects the user's edits.\n        // Rerendering in this case would make the cursor/caret jump\n        // Rerender if there is no element yet... (somehow?)\n        if (!el)\n            return true;\n        // ...or if html really changed... (programmatically, not by user edit)\n        if (normalizeHtml(nextProps.html) !== normalizeHtml(el.innerHTML)) {\n            return true;\n        }\n        // Handle additional properties\n        return props.disabled !== nextProps.disabled ||\n            props.tagName !== nextProps.tagName ||\n            props.className !== nextProps.className ||\n            props.innerRef !== nextProps.innerRef ||\n            !fast_deep_equal_1.default(props.style, nextProps.style);\n    };\n    ContentEditable.prototype.componentDidUpdate = function () {\n        var el = this.getEl();\n        if (!el)\n            return;\n        // Perhaps React (whose VDOM gets outdated because we often prevent\n        // rerendering) did not update the DOM. So we update it manually now.\n        if (this.props.html !== el.innerHTML) {\n            el.innerHTML = this.lastHtml = this.props.html;\n        }\n        replaceCaret(el);\n    };\n    ContentEditable.propTypes = {\n        html: PropTypes.string.isRequired,\n        onChange: PropTypes.func,\n        disabled: PropTypes.bool,\n        tagName: PropTypes.string,\n        className: PropTypes.string,\n        style: PropTypes.object,\n        innerRef: PropTypes.oneOfType([\n            PropTypes.object,\n            PropTypes.func,\n        ])\n    };\n    return ContentEditable;\n}(React.Component));\nexports.default = ContentEditable;\n","'use strict';\n\nvar isArray = Array.isArray;\nvar keyList = Object.keys;\nvar hasProp = Object.prototype.hasOwnProperty;\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  var arrA = isArray(a)\n    , arrB = isArray(b)\n    , i\n    , length\n    , key;\n\n  if (arrA && arrB) {\n    length = a.length;\n    if (length != b.length) return false;\n    for (i = 0; i < length; i++)\n      if (!equal(a[i], b[i])) return false;\n    return true;\n  }\n\n  if (arrA != arrB) return false;\n\n  var dateA = a instanceof Date\n    , dateB = b instanceof Date;\n  if (dateA != dateB) return false;\n  if (dateA && dateB) return a.getTime() == b.getTime();\n\n  var regexpA = a instanceof RegExp\n    , regexpB = b instanceof RegExp;\n  if (regexpA != regexpB) return false;\n  if (regexpA && regexpB) return a.toString() == b.toString();\n\n  if (a instanceof Object && b instanceof Object) {\n    var keys = keyList(a);\n    length = keys.length;\n\n    if (length !== keyList(b).length)\n      return false;\n\n    for (i = 0; i < length; i++)\n      if (!hasProp.call(b, keys[i])) return false;\n\n    for (i = 0; i < length; i++) {\n      key = keys[i];\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  return false;\n};\n","import EventsEmitter from 'EventsEmitter'\n\nexport default class EventTool extends EventsEmitter {\n\n  constructor (viewer) {\n\n    super()\n\n    this.viewer = viewer\n\n    this.toolName = this.guid()\n\n    viewer.toolController.registerTool(this)\n  }\n\n  /////////////////////////////////////////////////////////\n  // Tool names\n  //\n  /////////////////////////////////////////////////////////\n  getNames () {\n\n    return [this.getName()]\n  }\n\n  /////////////////////////////////////////////////////////\n  // Tool name\n  //\n  /////////////////////////////////////////////////////////\n  getName () {\n\n    return this.toolName\n  }\n\n  /////////////////////////////////////////////////////////\n  // Tool Priority\n  //\n  /////////////////////////////////////////////////////////\n  getPriority () {\n\n    return 1000\n  }\n\n  /////////////////////////////////////////////////////////\n  // Activate Tool\n  //\n  /////////////////////////////////////////////////////////\n  activate () {\n\n    if(!this.active) {\n\n      this.active = true\n\n      this.viewer.toolController.activateTool(\n        this.toolName)\n\n      this.emit('activate', this)\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  // Deactivate tool\n  //\n  /////////////////////////////////////////////////////////\n  deactivate () {\n\n    if (this.active) {\n\n      this.active = false\n\n      this.viewer.toolController.deactivateTool(\n        this.toolName)\n\n      this.emit('deactivate', this)\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  handleSingleClick (event, button) {\n\n    return this.emit('singleclick', event, button)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  handleDoubleClick (event, button) {\n\n    return this.emit('doubleclick', event, button)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  handleMouseMove (event) {\n\n    return this.emit('mousemove', event)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  handleWheelInput (event) {\n\n    return this.emit('mousewheel', event)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  handleGesture (event) {\n\n    return this.emit('gesture', event)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  handleKeyDown (event, keyCode) {\n\n    return this.emit('keydown', event, keyCode)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  handleButtonDown (event, button) {\n\n    return this.emit('buttondown', event, button)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  handleButtonUp (event, button) {\n\n    return this.emit('buttonup', event, button)\n  }\n}\n\n\n","import EventTool from './Viewer.EventTool'\n\nexport default EventTool\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","import ScriptLoader from './ScriptLoader'\n\nexport default ScriptLoader\n","//import fetchInject from 'fetch-inject'\nimport React from 'react'\n\nexport default class ScriptLoader extends React.Component {\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  loadScript (url) {\n\n    return new Promise((resolve, reject) => {\n\n      const head = document.head ||\n        document.getElementsByTagName(\"head\")[0]\n\n      let script = document.createElement(\"script\")\n\n      script.type = \"text\\/javascript\"\n      script.async = true\n\n      script.onerror = (err) => reject(err)\n\n      script.onload = () => resolve ()\n\n      head.appendChild(script)\n\n      script.src = url\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  toArray (obj) {\n\n    return obj ? (Array.isArray(obj) ? obj : [obj]) : []\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  componentDidMount () {\n\n    const urls = this.toArray(this.props.url)\n\n    const loadTasks = urls.map((url) => {\n\n      return this.loadScript(url)\n    })\n\n    Promise.all(loadTasks).then(() => {\n\n      if (this.props.onLoaded) {\n\n        this.props.onLoaded()\n      }\n    }, (error) => {\n\n      if (this.props.onError) {\n\n        this.props.onError()\n      }\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  render () {\n\n    return <div/>\n  }\n}\n"],"sourceRoot":""}