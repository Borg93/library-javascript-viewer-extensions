(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{457:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(199),r=n.n(a);function o(){return(o=r.a||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}},459:function(e,t,n){var a=n(490),r=n(472);e.exports=function e(t,n,o,i,l){var s=-1,d=t.length;for(o||(o=r),l||(l=[]);++s<d;){var c=t[s];n>0&&o(c)?n>1?e(c,n-1,o,i,l):a(l,c):i||(l[l.length]=c)}return l}},463:function(e,t,n){var a=n(195),r=n(483);e.exports=function(e,t){return e&&a(e,t,r)}},464:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(201),r=n.n(a);function o(e,t){e.prototype=r()(t.prototype),e.prototype.constructor=e,e.__proto__=t}},465:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(200),r=n.n(a);function o(e,t){if(null==e)return{};var n,a,o={},i=r()(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}},466:function(e,t,n){var a=n(463),r=n(475)(a);e.exports=r},472:function(e,t,n){var a=n(121),r=n(122),o=n(119),i=a?a.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||r(e)||!!(i&&e&&e[i])}},473:function(e,t,n){var a=n(459),r=n(477),o=n(196),i=n(197),l=o(function(e,t){if(null==e)return[];var n=t.length;return n>1&&i(e,t[0],t[1])?t=[]:n>2&&i(t[0],t[1],t[2])&&(t=[t[0]]),r(e,a(t,1),[])});e.exports=l},474:function(e,t,n){var a=n(466),r=n(90);e.exports=function(e,t){var n=-1,o=r(e)?Array(e.length):[];return a(e,function(e,a,r){o[++n]=t(e,a,r)}),o}},475:function(e,t,n){var a=n(90);e.exports=function(e,t){return function(n,r){if(null==n)return n;if(!a(n))return e(n,r);for(var o=n.length,i=t?o:-1,l=Object(n);(t?i--:++i<o)&&!1!==r(l[i],i,l););return n}}},476:function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=l(n(0)),c=s(n(482)),u=l(n(1));function p(e){return e&&e.replace(/&nbsp;|\u202F|\u00A0/g," ")}function h(e){var t=function e(t){if(t.nodeType===Node.TEXT_NODE)return t;for(var n=t.childNodes,a=n.length-1;a>=0;a--){var r=e(n[a]);if(null!==r)return r}return null}(e),n=document.activeElement===e;if(null!==t&&null!==t.nodeValue&&n){var a=window.getSelection();if(null!==a){var r=document.createRange();r.setStart(t,t.nodeValue.length),r.collapse(!0),a.removeAllRanges(),a.addRange(r)}e instanceof HTMLElement&&e.focus()}}var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastHtml=t.props.html,t.el="function"==typeof t.props.innerRef?{current:null}:d.createRef(),t.getEl=function(){return(t.props.innerRef&&"function"!=typeof t.props.innerRef?t.props.innerRef:t.el).current},t.emitChange=function(e){var n=t.getEl();if(n){var a=n.innerHTML;if(t.props.onChange&&a!==t.lastHtml){var r=Object.assign({},e,{target:{value:a}});t.props.onChange(r)}t.lastHtml=a}},t}return r(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.tagName,a=t.html,r=t.innerRef,l=i(t,["tagName","html","innerRef"]);return d.createElement(n||"div",o({},l,{ref:"function"==typeof r?function(t){r(t),e.el.current=t}:r||this.el,onInput:this.emitChange,onBlur:this.props.onBlur||this.emitChange,onKeyUp:this.props.onKeyUp||this.emitChange,onKeyDown:this.props.onKeyDown||this.emitChange,contentEditable:!this.props.disabled,dangerouslySetInnerHTML:{__html:a}}),this.props.children)},t.prototype.shouldComponentUpdate=function(e){var t=this.props,n=this.getEl();return!n||(p(e.html)!==p(n.innerHTML)||(t.disabled!==e.disabled||t.tagName!==e.tagName||t.className!==e.className||t.innerRef!==e.innerRef||!c.default(t.style,e.style)))},t.prototype.componentDidUpdate=function(){var e=this.getEl();e&&(this.props.html!==e.innerHTML&&(e.innerHTML=this.lastHtml=this.props.html),h(e))},t.propTypes={html:u.string.isRequired,onChange:u.func,disabled:u.bool,tagName:u.string,className:u.string,style:u.object,innerRef:u.oneOfType([u.object,u.func])},t}(d.Component);t.default=f},477:function(e,t,n){var a=n(498),r=n(486),o=n(474),i=n(478),l=n(194),s=n(479),d=n(123);e.exports=function(e,t,n){var c=-1;t=a(t.length?t:[d],l(r));var u=o(e,function(e,n,r){return{criteria:a(t,function(t){return t(e)}),index:++c,value:e}});return i(u,function(e,t){return s(e,t,n)})}},478:function(e,t){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},479:function(e,t,n){var a=n(480);e.exports=function(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,l=o.length,s=n.length;++r<l;){var d=a(o[r],i[r]);if(d)return r>=s?d:d*("desc"==n[r]?-1:1)}return e.index-t.index}},480:function(e,t,n){var a=n(495);e.exports=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e==e,i=a(e),l=void 0!==t,s=null===t,d=t==t,c=a(t);if(!s&&!c&&!i&&e>t||i&&l&&d&&!s&&!c||r&&l&&d||!n&&d||!o)return 1;if(!r&&!i&&!c&&e<t||c&&n&&o&&!r&&!i||s&&n&&o||!l&&o||!d)return-1}return 0}},482:function(e,t,n){"use strict";var a=Array.isArray,r=Object.keys,o=Object.prototype.hasOwnProperty;e.exports=function e(t,n){if(t===n)return!0;var i,l,s,d=a(t),c=a(n);if(d&&c){if((l=t.length)!=n.length)return!1;for(i=0;i<l;i++)if(!e(t[i],n[i]))return!1;return!0}if(d!=c)return!1;var u=t instanceof Date,p=n instanceof Date;if(u!=p)return!1;if(u&&p)return t.getTime()==n.getTime();var h=t instanceof RegExp,f=n instanceof RegExp;if(h!=f)return!1;if(h&&f)return t.toString()==n.toString();if(t instanceof Object&&n instanceof Object){var m=r(t);if((l=m.length)!==r(n).length)return!1;for(i=0;i<l;i++)if(!o.call(n,m[i]))return!1;for(i=0;i<l;i++)if(!e(t[s=m[i]],n[s]))return!1;return!0}return!1}},488:function(e,t,n){"use strict";n.d(t,"e",function(){return p}),n.d(t,"a",function(){return h}),n.d(t,"c",function(){return f}),n.d(t,"b",function(){return m}),n.d(t,"d",function(){return v}),n.d(t,"f",function(){return y}),n.d(t,"g",function(){return b});var a=n(124),r=n.n(a),o=n(457),i=n(26),l=n.n(i),s=n(1),d=n.n(s),c=n(514);function u(e){return function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var r=n[n.length-1];return"function"==typeof r?e.apply(void 0,n):function(t){return e.apply(void 0,n.concat([t]))}}}function p(e,t){var n=(e.bsClass||"").trim();return null==n&&l()(!1),n+(t?"-"+t:"")}var h=u(function(e,t){var n=t.propTypes||(t.propTypes={}),a=t.defaultProps||(t.defaultProps={});return n.bsClass=d.a.string,a.bsClass=e,t}),f=u(function(e,t,n){"string"!=typeof t&&(n=t,t=void 0);var a=n.STYLES||[],r=n.propTypes||{};e.forEach(function(e){-1===a.indexOf(e)&&a.push(e)});var i=d.a.oneOf(a);(n.STYLES=a,i._values=a,n.propTypes=Object(o.a)({},r,{bsStyle:i}),void 0!==t)&&((n.defaultProps||(n.defaultProps={})).bsStyle=t);return n}),m=u(function(e,t,n){"string"!=typeof t&&(n=t,t=void 0);var a=n.SIZES||[],r=n.propTypes||{};e.forEach(function(e){-1===a.indexOf(e)&&a.push(e)});var i=[];a.forEach(function(e){var t=c.a[e];t&&t!==e&&i.push(t),i.push(e)});var l=d.a.oneOf(i);return l._values=i,n.SIZES=a,n.propTypes=Object(o.a)({},r,{bsSize:l}),void 0!==t&&(n.defaultProps||(n.defaultProps={}),n.defaultProps.bsSize=t),n});function v(e){var t,n=((t={})[p(e)]=!0,t);e.bsSize&&(n[p(e,c.a[e.bsSize]||e.bsSize)]=!0);return e.bsStyle&&(n[p(e,e.bsStyle)]=!0),n}function A(e){return{bsClass:e.bsClass,bsSize:e.bsSize,bsStyle:e.bsStyle,bsRole:e.bsRole}}function g(e){return"bsClass"===e||"bsSize"===e||"bsStyle"===e||"bsRole"===e}function y(e){var t={};return r()(e).forEach(function(e){var n=e[0],a=e[1];g(n)||(t[n]=a)}),[A(e),t]}function b(e,t){var n={};t.forEach(function(e){n[e]=!0});var a={};return r()(e).forEach(function(e){var t=e[0],r=e[1];g(t)||n[t]||(a[t]=r)}),[A(e),a]}},496:function(e,t,n){"use strict";function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return a})},497:function(e,t,n){"use strict";t.a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return null!=e}).reduce(function(e,t){if("function"!=typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];e.apply(this,a),t.apply(this,a)}},null)}},514:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return i});var a={LARGE:"large",SMALL:"small",XSMALL:"xsmall"},r={large:"lg",medium:"md",small:"sm",xsmall:"xs",lg:"lg",md:"md",sm:"sm",xs:"xs"},o={SUCCESS:"success",WARNING:"warning",DANGER:"danger",INFO:"info"},i={DEFAULT:"default",PRIMARY:"primary",LINK:"link",INVERSE:"inverse"}},515:function(e,t,n){"use strict";var a=n(518);t.a=a.a},518:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return l});var a=n(2),r=n.n(a),o=n(3),i=n.n(o),l=(n(519),function(){function t(e){r()(this,t),this.viewer=e,this.menus=[],this.container=null,this.open=!1}return i()(t,[{key:"addCallbackToMenuItem",value:function(e,t){var n=this;e.addEventListener("click",function(e){return n.hide(),t(),e.preventDefault(),!1},!1)}},{key:"addSubmenuCallbackToMenuItem",value:function(e,t,n,a){var r=this;e.addEventListener("click",function(){r.showMenu(t,n,a)},!1)}},{key:"show",value:function(e,t){var n=this.viewer.container.getBoundingClientRect();Array.isArray(e.changedPointers)&&e.changedPointers.length>0&&(e.clientX=e.changedPointers[0].clientX,e.clientY=e.changedPointers[0].clientY);var a=e.clientX-n.left,r=e.clientY-n.top;if(!this.open){var o=this;this.showMenu(t,a,r),this.open=!0,this.hideEventListener=function(e){"menuItem-base"!==e.target.className&&o.hide(e)},this.isTouch="press"===e.type,document.body.addEventListener(this.isTouch?"touchstart":"mousedown",this.hideEventListener,!0)}}},{key:"showMenu",value:function(e,t,n){var a,r=document.createElement("div"),o=[];r.className="menu-base",this.viewer.container.appendChild(r),this.menus.push(r);for(var i=0;i<e.length;++i){var l=e[i],s=l.target;a=this.createMenuItem(r,l),"function"==typeof s?this.addCallbackToMenuItem(a,s):Array.isArray(s)?o.push({menuItem:a,target:s}):console.warn("Invalid context menu option:",title,s)}var d=r.getBoundingClientRect(),c=d.width,u=d.height,p=this.viewer.container.getBoundingClientRect(),h=p.width,f=p.height,m=Autodesk.Viewing.isTouchDevice()&&!this.viewer.navigation.getUseLeftHandedInput();for(m&&(t-=c),t<0&&(t=0),h<t+c&&(t=h-c)<0&&(t=0),n<0&&(n=0),f<n+u&&(n=f-u)<0&&(n=0),r.style.top=Math.round(n)+"px",r.style.left=Math.round(t)+"px",i=0;i<o.length;++i){var v=o[i];d=(a=v.menuItem).getBoundingClientRect(),t=Math.round((m?d.left:d.right)-p.left),n=Math.round(d.top-p.top),this.addSubmenuCallbackToMenuItem(a,v.target,t,n)}}},{key:"createMenuItem",value:function(t,n){var a=this.guid(),r=n.title;return e(t).append('\n      <div id="'.concat(a,'" class="menuItem-base" data-i18n=').concat(r,'>\n        <span class="').concat(n.icon||"",'">\n        </span>\n        ').concat(Autodesk.Viewing.i18n.translate(r),"\n      </div>\n    ")),document.getElementById(a)}},{key:"hide",value:function(){if(this.open){for(var e=0;e<this.menus.length;++e)this.menus[e]&&this.menus[e].parentNode.removeChild(this.menus[e]);return this.menus=[],this.open=!1,document.body.removeEventListener(this.isTouch?"touchstart":"mousedown",this.hideEventListener),this.isTouch=!1,!0}return!1}},{key:"guid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"xxxxxxxx",t=(new Date).getTime(),n=e.replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:7&n|8).toString(16)});return n}}]),t}())}).call(this,n(21))},519:function(e,t,n){var a=n(520);"string"==typeof a&&(a=[[e.i,a,""]]);n(28)(a,{});a.locals&&(e.exports=a.locals)},520:function(e,t,n){(e.exports=n(27)(!1)).push([e.i,".menu-base {\n  position: absolute;\n  min-width: 120px;\n  padding: 0;\n  background: rgba(255, 255, 255, 0.9);\n  border: 1px solid rgba(150, 150, 150, 0.15);\n  border-radius: 5px;\n  z-index: 20; }\n\n.menuItem-base {\n  background-color: rgba(255, 255, 255, 0.12);\n  border: 1px solid #868686;\n  position: relative;\n  display: table-row;\n  box-sizing: content-box;\n  padding: 5px 10px 5px 10px;\n  width: calc(100% - 22px);\n  vertical-align: middle;\n  white-space: nowrap;\n  border-radius: 4px;\n  margin-bottom: 1px;\n  text-align: left;\n  font-size: 14px;\n  cursor: pointer;\n  display: table; }\n\n.menuItem-base .menuItemIcon {\n  padding: 8px 0 5px 8px; }\n\n.menuItem-base > span {\n  pointer-events: none;\n  position: relative;\n  margin-left: -2px;\n  margin-right: 5px;\n  font-size: 18px;\n  float: left;\n  top: 2px; }\n",""])},523:function(e,t,n){var a=n(459);e.exports=function(e){return null!=e&&e.length?a(e,1):[]}},586:function(e,t,n){var a=n(698);"string"==typeof a&&(a=[[e.i,a,""]]);n(28)(a,{});a.locals&&(e.exports=a.locals)},694:function(e,t,n){"use strict";(function(e,a){n.d(t,"a",function(){return J});var r=n(30),o=n.n(r),i=n(42),l=n.n(i),s=n(2),d=n.n(s),c=n(3),u=n.n(c),p=n(5),h=n.n(p),f=n(4),m=n.n(f),v=n(50),A=n.n(v),g=n(6),y=n.n(g),b=n(1425),w=n(1419),E=n(117),I=n(530),N=n.n(I),C=n(523),x=n.n(C),k=n(473),S=n.n(k),M=(n(1),n(29)),j=n.n(M),L=n(449),F=n(0),Q=n.n(F),J=function(t){function n(e){var t;d()(this,n),(t=h()(this,m()(n).call(this))).onVersionSelected=t.onVersionSelected.bind(A()(t)),t.onFolderSearch=t.onFolderSearch.bind(A()(t)),t.onLoadViewable=t.onLoadViewable.bind(A()(t)),t.onDeleteItem=t.onDeleteItem.bind(A()(t)),t.onCreateFolder=t.onCreateFolder.bind(A()(t)),t.onUpload=t.onUpload.bind(A()(t)),t.onReload=t.onReload.bind(A()(t)),t.onExpand=t.onExpand.bind(A()(t));var a=e.delegate.rootNode?e.delegate.rootNode.props.hubType:null;return t.on("expand",t.onExpand),t.delegate=e.delegate,t.parent=e.parent,t.level=e.level,t.group=e.group,t.dmAPI=e.dmAPI,t.name=e.name,t.type=e.type,t.id=e.id,t.renderProps={onFolderSearch:t.onFolderSearch,onCreateFolder:t.onCreateFolder,onDeleteItem:t.onDeleteItem,onUpload:t.onUpload,hubType:a},t.children=null,t.props=e,t}var r,i,s,c;return y()(n,t),u()(n,[{key:"onExpand",value:function(){this.off("expand",this.onExpand),this.loadChildren()}},{key:"setViewerUrn",value:function(e){this.parentDomElement.classList.add("derivated"),this.viewerUrn=e,this.render({onLoadViewable:this.onLoadViewable,viewerUrn:e})}},{key:"setThumbnail",value:function(e){this.render({thumbnail:e})}},{key:"setName",value:function(e){this.props.name=this.name=e,this.render({name:e})}},{key:"setActiveVersion",value:function(e){this.activeVersion=e,this.render({activeVersion:e})}},{key:"setVersions",value:function(e){this.versions=e,this.render({onVersionSelected:this.onVersionSelected,versions:e})}},{key:"setControl",value:function(e){this.render({control:e})}},{key:"showLoader",value:function(e){this.render({showLoader:e})}},{key:"setLoaded",value:function(e){this.render({onReload:this.onReload,loaded:e})}},{key:"getNodeName",value:function(e){return e.attributes.displayName||e.attributes.name||""}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(this.renderProps,this.props,e),this.reactNode=j.a.render(Q.a.createElement(q,this.renderProps),this.domContainer)}},{key:"mount",value:function(e){e.className="click-trigger",this.domContainer=e,this.collapse(),this.render()}},{key:"destroy",value:function(){this.children&&this.children.forEach(function(e){e.destroy()}),j.a.unmountComponentAtNode(this.domContainer),this.delegate.emit("node.destroy",this.id)}},{key:"onDeleteItem",value:function(e){this.delegate.emit("item.delete",e)}},{key:"onFolderSearch",value:function(){this.delegate.emit("folder.search",this.props)}},{key:"onCreateFolder",value:function(){this.delegate.emit("folder.create",this.props)}},{key:"onUpload",value:function(){this.delegate.emit("folder.upload",this.props)}},{key:"onReload",value:function(){"items"===this.type?(this.parentDomElement.classList.remove("derivated"),this.render({viewerUrn:null,thumbnail:null,versions:null,loaded:null}),this.delegate.emit("item.created",this)):this.children&&(this.children.forEach(function(e){e.destroy()}),this.loadChildren())}},{key:"expand",value:function(){var e=this.domContainer.parentElement.parentElement;e.classList.remove("collapsed"),e.classList.add("expanded"),this.expanded=!0,this.emit("expand")}},{key:"collapse",value:function(){var e=this.domContainer.parentElement.parentElement;e.classList.remove("expanded"),e.classList.add("collapsed"),this.expanded=!1}},{key:"loadChildren",value:(c=l()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.showLoader(!0),this.children=[],e.t0=this.type,e.next="projects"===e.t0?5:"folders"===e.t0?8:"hubs"===e.t0?11:14;break;case 5:return e.next=7,this.loadProjectChildren();case 7:return e.abrupt("break",15);case 8:return e.next=10,this.loadFolderChildren();case 10:return e.abrupt("break",15);case 11:return e.next=13,this.loadHubChildren();case 13:case 14:return e.abrupt("break",15);case 15:this.showLoader(!1),this.setLoaded(!0);case 17:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:"loadHubChildren",value:(s=l()(o.a.mark(function t(){var a,r,i,s,d,c,u=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.dmAPI.getProjects(this.props.hubId);case 2:if(a=t.sent,r=S()(a.data,function(e){return u.getNodeName(e).toLowerCase()}),i=this.props.details.attributes.extension.type,!("hubs:autodesk.bim360:Account"===i)){t.next=10;break}r.map(function(t){return new e(function(e){var a=t.relationships.rootFolder.data.id,r=new n(Object.assign({},u.props,{name:u.getNodeName(t),hubId:u.props.hubId,projectId:t.id,level:u.level+1,type:t.type,details:t,folderId:a,id:t.id,parent:u}));u.children.push(r),u.addChild(r)})}),t.next=16;break;case 10:return s=r.map(function(t){return new e(function(){var e=l()(o.a.mark(function e(n){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.dmAPI.getProjectTopFolders(u.props.hubId,t.id);case 2:return(a=e.sent).data.forEach(function(e){e.projectId=t.id}),e.abrupt("return",n(a.data));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}),t.next=13,e.all(s);case 13:d=t.sent,c=S()(x()(d),function(e){return u.getNodeName(e).toLowerCase()}),c.map(function(t){return new e(function(e){var a=new n(Object.assign({},u.props,{name:u.getNodeName(t),projectId:t.projectId,hubId:u.props.hubId,level:u.level+1,folderId:t.id,type:t.type,details:t,id:t.id,parent:u}));u.children.push(a),u.addChild(a)})});case 16:case"end":return t.stop()}},t,this)})),function(){return s.apply(this,arguments)})},{key:"loadProjectChildren",value:(i=l()(o.a.mark(function t(){var a,r,i,l,s=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.dmAPI.getProjectTopFolders(this.props.hubId,this.props.projectId);case 2:a=t.sent,r=S()(a.data,function(e){return s.getNodeName(e).toLowerCase()}),i=r.filter(function(e){return"folders"===e.type}),l=r.filter(function(e){return"items"===e.type}),i.map(function(t){return new e(function(e){var a=new n(Object.assign({},s.props,{name:s.getNodeName(t),level:s.level+1,folderId:t.id,type:t.type,details:t,id:t.id,parent:s}));s.children.push(a),s.addChild(a)})}),l.map(function(t){return new e(function(e){var a=new n(Object.assign({},s.props,{name:s.getNodeName(t),level:s.level+1,type:t.type,itemId:t.id,details:t,parent:s,id:t.id}));s.children.push(a),s.addChild(a),s.delegate.emit("item.created",a)})});case 8:case"end":return t.stop()}},t,this)})),function(){return i.apply(this,arguments)})},{key:"loadFolderChildren",value:(r=l()(o.a.mark(function t(){var a,r,i,l,s=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.dmAPI.getFolderContent(this.props.projectId,this.props.folderId);case 2:a=t.sent,r=S()(a.data,function(e){return s.getNodeName(e).toLowerCase()}),i=r.filter(function(e){return"folders"===e.type}),l=r.filter(function(e){return"items"===e.type}),i.map(function(t){return new e(function(e){var a=new n(Object.assign({},s.props,{name:s.getNodeName(t),level:s.level+1,folderId:t.id,type:t.type,details:t,id:t.id,parent:s}));s.children.push(a),s.addChild(a)})}),l.map(function(t){return new e(function(e){var a=new n(Object.assign({},s.props,{name:s.getNodeName(t),level:s.level+1,type:t.type,itemId:t.id,details:t,parent:s,id:t.id}));s.children.push(a),s.addChild(a),s.delegate.emit("item.created",a)})});case 8:case"end":return t.stop()}},t,this)})),function(){return r.apply(this,arguments)})},{key:"onLoadViewable",value:function(e){this.delegate.emit("load.viewable",Object.assign(e,{node:this}))}},{key:"onVersionSelected",value:function(e,t){this.setActiveVersion(e),this.delegate.emit("version.selected",Object.assign(t,{node:this}))}},{key:"insertChildNode",value:function(e){var t=new n(Object.assign({},this.props,{name:this.getNodeName(e),level:this.level+1,type:e.type,itemId:e.id,details:e,id:e.id,parent:this})),r=this.domContainer.parentElement.parentElement,o=a(r),i=-1;o.find("> group").each(function(e){if(a(this).find("lmvheader").hasClass(t.type)){var n=a(this).find(".label-container").text().replace(/^(?=\n)$|^\s*|\s*$|\n\n+/gm,"").replace(/(\r\n|\n|\r)/gm,"");t.name.localeCompare(n)>0&&(i=e)}else"items"===t.type&&(i=e)}),this.children.push(t),this.addChild(t);var l=t.domContainer.parentElement.parentElement,s=a(l).detach();return o.insertAt(i+2,s),t}}]),n}(E.a),q=function(e){function t(e){var n;return d()(this,t),(n=h()(this,m()(t).call(this,e))).renderers={projects:n.renderProjectNode.bind(A()(n)),folders:n.renderFolderNode.bind(A()(n)),items:n.renderItemNode.bind(A()(n)),hubs:n.renderHubNode.bind(A()(n))},n}return y()(t,e),u()(t,[{key:"renderHubNode",value:function(e){return Q.a.createElement("div",{className:"treenode click-trigger"},Q.a.createElement(L.a,{className:"name",text:this.props.name}),e.showLoader&&Q.a.createElement("div",{className:"node-loader"},Q.a.createElement("span",null)),e.loaded&&Q.a.createElement("div",null,Q.a.createElement("span",{className:"fa fa-refresh","data-for":"reload-".concat(e.id),style:{marginRight:"190px"},onClick:e.onReload,"data-tip":!0}),Q.a.createElement(N.a,{id:"reload-".concat(e.id),className:"tooltip-text",effect:"solid"},Q.a.createElement("div",null,"Reload child nodes ..."))))}},{key:"renderProjectNode",value:function(e){return Q.a.createElement("div",{className:"treenode click-trigger"},Q.a.createElement(L.a,{className:"name",text:e.name}),e.showLoader&&Q.a.createElement("div",{className:"node-loader"},Q.a.createElement("span",null)),e.loaded&&Q.a.createElement("div",null,Q.a.createElement("span",{className:"fa fa-refresh","data-for":"reload-".concat(e.id),onClick:e.onReload,"data-tip":!0}),Q.a.createElement(N.a,{id:"reload-".concat(e.id),className:"tooltip-text",effect:"solid"},Q.a.createElement("div",null,"Reload child nodes ..."))))}},{key:"renderFolderNode",value:function(e){return Q.a.createElement("div",{className:"treenode click-trigger"},Q.a.createElement(L.a,{className:"name",text:e.name}),e.showLoader&&Q.a.createElement("div",{className:"node-loader"},Q.a.createElement("span",null)),Q.a.createElement("div",null,Q.a.createElement("span",{className:"fa fa-cloud-upload","data-for":"upload-".concat(e.id),onClick:e.onUpload,"data-tip":!0}),Q.a.createElement(N.a,{id:"upload-".concat(e.id),className:"tooltip-text",effect:"solid"},Q.a.createElement("div",null,"Upload file to that folder ..."))),e.loaded&&Q.a.createElement("div",null,Q.a.createElement("span",{className:"fa fa-refresh","data-for":"reload-".concat(e.id),onClick:e.onReload,"data-tip":!0}),Q.a.createElement(N.a,{id:"reload-".concat(e.id),className:"tooltip-text",effect:"solid"},Q.a.createElement("div",null,"Reload child nodes ..."))),Q.a.createElement("div",null,Q.a.createElement("span",{className:"fa fa fa-plus","data-for":"create-folder-".concat(e.id),onClick:e.onCreateFolder,"data-tip":!0}),Q.a.createElement(N.a,{id:"create-folder-".concat(e.id),className:"tooltip-text",effect:"solid"},Q.a.createElement("div",null,"Create folder ..."))),Q.a.createElement("div",null,Q.a.createElement("span",{className:"fa fa fa-search","data-for":"search-".concat(e.id),onClick:e.onFolderSearch,"data-tip":!0}),Q.a.createElement(N.a,{id:"search-".concat(e.id),className:"tooltip-text",effect:"solid"},Q.a.createElement("div",null,"Search that folder ..."))))}},{key:"renderItemNode",value:function(e){return Q.a.createElement("div",{className:"treenode click-trigger"},Q.a.createElement(L.a,{className:"name",text:e.name}),e.showLoader&&Q.a.createElement("div",{className:"node-loader"},Q.a.createElement("span",null)),e.viewerUrn&&Q.a.createElement("div",null,Q.a.createElement("span",{className:"fa fa-eye","data-for":"load-".concat(e.id),onClick:function(){return e.onLoadViewable(e)},"data-tip":!0}),Q.a.createElement(N.a,{id:"load-".concat(e.id),className:"tooltip-text",effect:"solid"},Q.a.createElement("div",null,"Load ".concat(e.name," in viewer ...")))),e.versions&&Q.a.createElement("div",null,Q.a.createElement(b.a,{trigger:"click",overlay:this.renderVersionsControl(e),placement:"right",rootClose:!0},Q.a.createElement("span",{className:"fa fa-clock-o","data-for":"versions-".concat(e.id),"data-tip":!0})),Q.a.createElement(N.a,{id:"versions-".concat(e.id),className:"tooltip-text",effect:"solid"},Q.a.createElement("div",null,"Versions control"))),e.thumbnail&&Q.a.createElement("div",null,Q.a.createElement("span",{className:"fa fa-file-image-o","data-for":"thumbnail-".concat(e.id),"data-tip":!0}),Q.a.createElement(N.a,{id:"thumbnail-".concat(e.id),className:"tooltip-thumbnail",effect:"solid"},Q.a.createElement("div",null,Q.a.createElement("img",{src:e.thumbnail,height:"120"})))),e.loaded&&Q.a.createElement("div",null,Q.a.createElement("span",{className:"fa fa-refresh","data-for":"reload-".concat(e.id),onClick:e.onReload,"data-tip":!0}),Q.a.createElement(N.a,{id:"reload-".concat(e.id),className:"tooltip-text",effect:"solid"},Q.a.createElement("div",null,"Reload item ..."))),"hubs:autodesk.bim360:Account"===e.hubType&&e.versions&&Q.a.createElement("div",null,Q.a.createElement("span",{className:"fa fa-times","data-for":"delete-".concat(e.id),onClick:function(){return e.onDeleteItem(e)},"data-tip":!0}),Q.a.createElement(N.a,{id:"delete-".concat(e.id),className:"tooltip-text",effect:"solid"},Q.a.createElement("div",null,"Delete item ..."))),e.control&&Q.a.createElement("div",null,Q.a.createElement("span",{className:e.control.className,"data-for":"control-".concat(e.id),onClick:e.control.onClick,"data-tip":!0}),Q.a.createElement(N.a,{id:"control-".concat(e.id),className:"tooltip-text",effect:"solid"},Q.a.createElement("div",null,e.control.tooltip))))}},{key:"renderVersionsControl",value:function(e){var t=e.activeVersion.id,n=e.versions.map(function(n,a){var r=n.id===t,o=e.versions.length-a,i=n.attributes.name;return Q.a.createElement("div",{className:"version ".concat(r?"active":""),onClick:function(){return e.onVersionSelected(n,e)},key:n.id},r&&Q.a.createElement("span",{className:"fa fa-check"}),Q.a.createElement("label",null,"v".concat(o," - ").concat(i)))});return Q.a.createElement(w.a,{className:"data-management",title:"Versions Control",id:"versions-ctrl"},Q.a.createElement("label",null,"Select active version:"),Q.a.createElement("div",{className:"versions"},n))}},{key:"render",value:function(e){return this.renderers[this.props.type](Object.assign(e||{},this.props))}}]),t}(Q.a.Component)}).call(this,n(31),n(21))},698:function(e,t,n){(e.exports=n(27)(!1)).push([e.i,'.datatree-container {\n  background: #dcdcdc;\n  overflow-x: hidden;\n  overflow-y: scroll;\n  text-align: left;\n  height: 100%; }\n  .datatree-container .filter {\n    border: 1px solid #888888;\n    background: #fafafa;\n    border-radius: 4px;\n    position: absolute;\n    padding: 0 4px;\n    width: 180px;\n    right: 17px;\n    z-index: 10;\n    top: 38px; }\n  .datatree-container .treeview-base group {\n    width: 100%; }\n  .datatree-container .treeview-base lmvheader {\n    transition-property: background, border;\n    transition-timing-function: ease;\n    transition-duration: 1.5s;\n    transition-delay: 0.0s;\n    background: white;\n    margin-bottom: -2px;\n    border: none;\n    height: 30px; }\n    .datatree-container .treeview-base lmvheader:hover {\n      background: #bcdaff; }\n    .datatree-container .treeview-base lmvheader .treenode {\n      width: calc(100% - 22px);\n      float: left; }\n      .datatree-container .treeview-base lmvheader .treenode .name {\n        pointer-events: none; }\n    .datatree-container .treeview-base lmvheader .treenode span {\n      transition-property: color;\n      transition-timing-function: ease;\n      transition-duration: 1.0s;\n      transition-delay: 0.0s;\n      margin-right: 8px;\n      font-size: 20px;\n      color: #fafafa;\n      display: none;\n      float: right; }\n    .datatree-container .treeview-base lmvheader .treenode span.fa-edit {\n      position: relative;\n      top: 1px; }\n    .datatree-container .treeview-base lmvheader .treenode span.fa-search {\n      position: relative;\n      top: -1px; }\n    .datatree-container .treeview-base lmvheader .node-loader span {\n      content: url("data:image/gif;base64,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");\n      color: rgba(47, 47, 47, 0.6);\n      position: relative;\n      margin-left: 10px;\n      display: inline;\n      height: 19px;\n      float: left;\n      width: 19px;\n      top: 0px; }\n    .datatree-container .treeview-base lmvheader .tooltip-text {\n      background-color: #ededed !important;\n      border: 1px solid grey;\n      color: grey !important;\n      padding: 4px; }\n    .datatree-container .treeview-base lmvheader .tooltip-thumbnail {\n      background-color: #ededed !important;\n      border: 1px solid grey;\n      padding: 2px; }\n      .datatree-container .treeview-base lmvheader .tooltip-thumbnail div {\n        height: 120px;\n        width: 120px; }\n  .datatree-container .treeview-base group > lmvheader > icon {\n    height: 20px;\n    float: left; }\n  .datatree-container .treeview-base lmvheader:hover .treenode span {\n    color: rgba(47, 47, 47, 0.6);\n    display: inline; }\n  .datatree-container .treeview-base lmvheader:hover .treenode span:hover {\n    color: #FF9800; }\n  .datatree-container .treeview-base lmvheader.items icon {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAAAsTAAALEwEAmpwYAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAAD0klEQVQ4ETVUS2hjVRg+j/uYtE06UErVJDeZEDptA1XbWimmEsXNIF04kI6I6IwoghRxLQULyigiKMosfCymKjhDUTciFhXjAwqWLpNOJGXSNqGmXUxtpp2b+zp+/2174XDu/zjf+f7H+SXDVywW5ezsLC+VSqpQKGjd3d3a3t6eTzbLeiDf0xOLt9vtBsm5XM6wLEvs7OwECwsLor+/X1QqFRWC5HJFAz5iamoqQkB0YGhoKJ1KJT/AsrHuWVb8ajYbT5CNvgsXsiZ8zxxLjHNCxWLj4+NybW3NHRgY6I5EzOeDQM1LKRJBEKwzprgQcigI/C3P8696XvB1q9U6BAgHQx2sAolwCFTl83m+v7//lGnqnwshXlMq0Dnn1zTNeBlkF33fJ6bTuq4/I6V8IhqNNsfGxuqrq6vu5ct1xglleHg4dXjYnuecXcElHljcME3t01ptc4XsSilgcpVM3veIlMYc7LNQm7jwS9f155vNZkOQY7v932NQ4mYufT+4FYno752CIOTeZDIZ5mJ7+99Vx/HeVYptwJ/jgheFUNOEQXSZpknolIMc2KD9oG17fyHBH0aj2hfIW4t8BgcH47Z99AqYvQExhgvvSMm7NE0LqxsyAlUSdCT3hu+r1/HPAf5Ou+3+mkgknjt3znqh0zn6Bbq3EL7j+96rALwJN911Aw/+7ASI+8dUeavRaHxiGGceR3WuIYQR3PoVbr8O30FU8mMQf7TR2EFB+D7sQsrjPIeh6ToihRbLJPRarVbGNpdKpX5Uyv+GdJxrl+r1+k9wAxnG0AJC0wTOkPWEkYvUExDnIqwieqMH3W647mYJPnuA2cVeKhZzxsTEeAz/zDC0EAJtEe5haIyBH+cBwMJ44/G4WlpaCqLR82fpDGOBBntvpcLYzMxMm4AQOvkz9JUk+aRqnEICqLqYTqf/dhznB/Jl7IjCVciHMAxDlstlx7I6ZiqVeBoNe1FKjQWBG2KEjDzv6A8k8joSfh45+f727drNkZGRh6vV7V2E66EfvWq1upvJJCfK5c4SQv2WfMHqM9flfxIjygmt8NVvbPzzJA7Oo8zTSOYd6BdhunTMSqDc7CWw64X8O1rm7a2t5m/QBTQ9wke7vLxsrqys2ASYzWZjtm0/i556E4dS6BmoBYOMMPwtPN73u7p6FhHmXZoWpmm6eK+epHkCIIfGRywWi6yvr989ODhY6+vr+w7U7yGEh/DM0PXqIyG0uXp982fMKmd0dLQ7k8l0JicnqWphwrEzfjqHiGahkD6dMyyTsfLJ5P3heyJH8qPhRmdOZfr/H6pDy54J8vNgAAAAAElFTkSuQmCC");\n    position: relative;\n    margin-right: 2px;\n    top: -1px; }\n  .datatree-container .treeview-base lmvheader.items.derivated icon {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAA4VJREFUOBGdVF1Ik2EU/vYvEw3XMqaikcKma/4MmduczpzYhCB3EUmQF0pkEUjYRZSQEAReRUWYUV2HXYRRWFJhZJJGhKipEwdr0ykqarrp3NzXcz7XxyeZFx04e9/3vOc873N+vjHMPsKyrGiPa/Eetv1NbW1tFMQFdnV1Serq6soyMjIMgij+XmD7e0tAer1eLrwpLy+/ZjKZWNhIzwnvsJdBJVA+E34DI70agzLV1dWpYrH4qcfjKXS73W9hmoBGKisrC9bX108NDQ19w7kJOg3dJYROQsBsc3OzNikp6TICinw+X9Hs7Kw6MzNztKamZnpra0s0NTV1CI8cpQCHw3FQo9HUwo+YT5GNk3i9GKPReMZsNq+np6eTgz83N9fsdDqPFBcXNxoMhj8pP3G5XMe0Wm1pfn7+l5SUFM4ulUrb43BcxhxLiUTSASM59KJm9QD7kJOTE8L5PfQStMFqtXaWlJRERCLRDM63oXfkcjmL2B7sSUTSnZVhtre3JxUKBRMOhyfn5uYc4+Pjx9fW1pjU1FQWQAe8Xq9qYGBgHv6jACxMSEhoikajd1EKgqCaknAMufHIysoywukjmtGKizdYie1DMHpAKYMFneeUSuUFsPLEzy15eXkvUZ4q3JGI+XlaXV21Y5DNsVjsB5j2gAUjk8kkg4ODVSMjIwzsQZwPRyIRM1iFkVE3gIZBwrGwsGAjtIqKCjGf8srKig8gcrzckJyc3IMHXiHwE5jaAMTgscR4eh6UwAu7pr+//yxwlNDvBNjX18dSQygVBg1Y2NzcTEKQG+oEoxPoXjfAh0OhkA71kmICenHuQp1v+v3+so2NjWc6nW5CpVI9X1paWgOMiACJJeJjJxB0BdqBvRtsXdAoUsoH4Izdbn+HMSnA3KUEAgELwO5ZLJav8Lk1NjY2AAyaxZ2JwYaklBoBh89paWm1qON92E5D58GUzc7OjtKK81WbzdaCtFuw74OSjRt2rBwg1ni7xeKLAG1HF19TF6G1+HIasHrgE8Mjj5G2GZ0NqNXqn7C1JiYmOgkAwk2L8FveMeMXAOfRhEdg9AIB4eXl5UX8SXhhN+Gz/BUMBhvhdgNKw/1PIXCeMsCqAFCPEqxgZcFqEcWn9K5jtQpQ+BiBbdeWgHnmxBZKHSSwTkyDIu5NKfJ+cdu+C3WfqwtWPWp5UuBN/4P/LcKUdrHfC/E3Q9JQP3uZLWgAAAAASUVORK5CYII="); }\n',""])},890:function(e,t,n){"use strict";n.r(t);var a=n(30),r=n.n(a),o=n(42),i=n.n(o),l=n(2),s=n.n(l),d=n(3),c=n.n(d),u=n(5),p=n.n(u),h=n(4),f=n.n(h),m=n(50),v=n.n(m),A=n(6),g=n.n(A),y=n(476),b=n.n(y),w=n(117),E=n(515),I=function(e){function t(e){var n;return s()(this,t),(n=p()(this,f()(t).call(this,e))).contextMenu=new E.a(e),n}return g()(t,e),c()(t,[{key:"buildMenu",value:function(e,t){var n=this,a=[];switch(t.type){case"hubs":a.push({title:"Show details",icon:"fa fa-share",target:[{title:"Hub details",icon:"fa fa-cloud",target:function(){n.emit("context.details",{event:e,node:t,type:"hubs"})}},{title:"Projects details",icon:"fa fa-folder",target:function(){n.emit("context.details",{event:e,node:t,type:"hubs.projects"})}}]});break;case"projects":a.push({title:"Show details",icon:"fa fa-share",target:[{title:"Project details",icon:"fa fa-clone",target:function(){n.emit("context.details",{event:e,node:t,type:"projects"})}},{title:"Root folder details",icon:"fa fa-folder",target:function(){n.emit("context.details",{event:e,node:t,type:"folders"})}},{title:"Root folder content",icon:"fa fa-folder-open",target:function(){n.emit("context.details",{event:e,node:t,type:"folders.content"})}},{title:"Top folder content",icon:"fa fa-folder-open",target:function(){n.emit("context.details",{event:e,node:t,type:"top.folders.content"})}}]});break;case"folders":a.push({title:"Show details",icon:"fa fa-share",target:[{title:"Folder details",icon:"fa fa-folder",target:function(){n.emit("context.details",{event:e,node:t,type:"folders"})}},{title:"Folder content",icon:"fa fa-folder-open",target:function(){n.emit("context.details",{event:e,node:t,type:"folders.content"})}}]});break;case"items":a.push({title:"Show item details",icon:"fa fa-file-text",target:function(){n.emit("context.details",{event:e,node:t,type:"items"})}}),a.push({title:"Show item versions",icon:"fa fa-clock-o",target:function(){n.emit("context.details",{event:e,node:t,type:"versions"})}}),t.viewerUrn&&a.push({title:"Show manifest",icon:"fa fa-cubes",target:function(){n.emit("context.details",{event:e,node:t,type:"items.manifest"})}})}return a}},{key:"show",value:function(e,t){var n=this.buildMenu(e,t);n&&n.length>0&&this.contextMenu.show(e,n)}}]),t}(w.a.Composer(Autodesk.Viewing.UI.ObjectContextMenu)),N=n(694),C=n(458),x=function(e){function t(e){var n;return s()(this,t),(n=p()(this,f()(t).call(this))).onContextDetails=n.onContextDetails.bind(v()(n)),n.contextMenu=new I({container:e.menuContainer}),n.contextMenu.on("context.details",n.onContextDetails),n.on("node.dblClick",function(e){}),n.derivativesAPI=e.derivativesAPI,n.dmAPI=e.dmAPI,n}return g()(t,e),c()(t,[{key:"onContextDetails",value:function(e){switch(e.type){case"hubs":this.showPayload("".concat(this.dmAPI.apiUrl,"/hubs/")+"".concat(e.node.props.hubId));break;case"hubs.projects":this.showPayload("".concat(this.dmAPI.apiUrl,"/hubs/")+"".concat(e.node.props.hubId,"/projects"));break;case"projects":this.showPayload("".concat(this.dmAPI.apiUrl,"/hubs/")+"".concat(e.node.props.hubId,"/projects/")+"".concat(e.node.props.projectId));break;case"top.folders.content":this.showPayload("".concat(this.dmAPI.apiUrl,"/hubs/")+"".concat(e.node.props.hubId,"/projects/")+"".concat(e.node.props.projectId,"/topFolders"));break;case"folders":this.showPayload("".concat(this.dmAPI.apiUrl,"/projects/")+"".concat(e.node.props.projectId,"/folders/")+"".concat(e.node.props.folderId));break;case"folders.content":this.showPayload("".concat(this.dmAPI.apiUrl,"/projects/")+"".concat(e.node.props.projectId,"/folders/")+"".concat(e.node.props.folderId,"/content"));break;case"items":this.showPayload("".concat(this.dmAPI.apiUrl,"/projects/")+"".concat(e.node.props.projectId,"/items/")+"".concat(e.node.props.itemId));break;case"items.manifest":this.showPayload("".concat(this.derivativesAPI.apiUrl,"/manifest/")+"".concat(e.node.viewerUrn));break;case"versions":this.showPayload("".concat(this.dmAPI.apiUrl,"/projects/")+"".concat(e.node.props.projectId,"/items/")+"".concat(e.node.props.itemId,"/versions"))}}},{key:"showPayload",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_blank",n=document.createElement("a");document.body.appendChild(n),n.target=t,n.href=e,n.click(),document.body.removeChild(n)}},{key:"createRootNode",value:function(e){return this.rootNode=new N.a(e),this.rootNode}},{key:"destroy",value:function(){this.rootNode.destroy(),this.off()}},{key:"createTreeNode",value:function(e,t){var n=document.createElement("div");t.appendChild(n),e.type.split(".").forEach(function(e){t.classList.add(e)}),t.classList.add("click-trigger"),t.style.width="calc(100% - ".concat(25*e.level,"px)"),e.parentDomElement=t,e.mount(n)}},{key:"nodeClickSelector",value:function(e){return e.target.className.toLowerCase().indexOf("click-trigger")>-1}},{key:"forEachChild",value:function(e,t){e.addChild=t}},{key:"filterNodes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootNode,a=n.name.toLowerCase(),r=0;return n.children?(n.children.forEach(function(n){r+=t.filterNodes(e,n)}),n.parentDomElement.style.display=r?"inline-block":a.indexOf(e)<0?"none":"inline-block"):a.indexOf(e)<0?n.parentDomElement.style.display="none":(n.parentDomElement.style.display="inline-block",++r),r}}]),t}(C.a),k=n(453),S=(n(29),n(586),n(0)),M=n.n(S),j=function(e){function t(e){var n;return s()(this,t),(n=p()(this,f()(t).call(this,e))).onUploadComplete=n.onUploadComplete.bind(v()(n)),n.onInputChanged=n.onInputChanged.bind(v()(n)),n.onKeyDown=n.onKeyDown.bind(v()(n)),n.onFilter=n.onFilter.bind(v()(n)),n.delegate=new x({derivativesAPI:e.derivativesAPI,menuContainer:e.menuContainer,dmAPI:e.dmAPI}),n.delegate.on("node.destroy",function(e){n.tree.destroyNode(e)}),n.delegate.on("item.created",function(e){n.props.onItemNodeCreated&&n.props.onItemNodeCreated(e)}),n.delegate.on("item.delete",function(e){n.props.onDeleteItem&&n.props.onDeleteItem(e)}),n.delegate.on("load.viewable",function(e){n.props.onLoadViewable&&n.props.onLoadViewable(e)}),n.delegate.on("folder.upload",function(e){n.props.onFolderUpload&&n.props.onFolderUpload(e)}),n.delegate.on("folder.search",function(e){n.props.onFolderSearch&&n.props.onFolderSearch(e)}),n.delegate.on("folder.create",function(e){n.props.onCreateFolder&&n.props.onCreateFolder(e)}),n.dmEvents=e.dmEvents,n.dmEvents.on("upload.complete",n.onUploadComplete),n.state={filter:""},n}var n;return g()(t,e),c()(t,[{key:"loadHub",value:function(e){var t=e.attributes.extension.type,n=this.delegate.createRootNode({name:e.attributes.name,delegate:this.delegate,dmAPI:this.props.dmAPI,type:e.type,hubId:e.id,details:e,group:!0,id:e.id,level:0,hubType:t});this.tree=new C.b(this.delegate,n,this.treeContainer,{excludeRoot:!1})}},{key:"componentDidMount",value:function(){this.loadHub(this.props.hub)}},{key:"componentWillUnmount",value:function(){this.delegate.destroy(),this.tree.destroy(),this.dmEvents.off("upload.complete",this.onUploadComplete)}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"onInputChanged",value:(n=i()(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assignState({filter:t.target.value});case 2:this.onFilter();case 3:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"onKeyDown",value:function(e){13===e.keyCode&&(e.stopPropagation(),e.preventDefault(),this.onFilter())}},{key:"onFilter",value:function(){var e=this.state.filter;this.delegate.filterNodes(e)}},{key:"onUploadComplete",value:function(e){if(e.hubId===this.props.hub.id){var t=this.tree.getNodeById(e.nodeId);if(1===e.version.attributes.versionNumber&&t.expanded){var n=t.insertChildNode(e.item);this.props.onItemNodeCreated&&this.props.onItemNodeCreated(n)}}}},{key:"render",value:function(){var e=this,t=this.state.filter;return M.a.createElement("div",{className:"datatree-container",ref:function(t){return e.treeContainer=t}},M.a.createElement("div",{className:"filter"},M.a.createElement(b.a,{onChange:this.onInputChanged,onKeyDown:this.onKeyDown,"data-placeholder":"Filter ...",className:"input-filter",html:t})))}}]),t}(k.a);t.default=j}}]);
//# sourceMappingURL=40.js.map