(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{597:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return b});var n=a(2),i=a.n(n),l=a(3),r=a.n(l),s=a(5),o=a.n(s),p=a(4),d=a.n(p),u=a(50),c=a.n(u),y=a(6),m=a.n(y),h=a(476),f=a.n(h),g=a(564),v=(a(29),a(0)),w=a.n(v),k=a(1421),C=a(1420),b=function(t){function a(e){var t;return i()(this,a),(t=o()(this,d()(a).call(this,e))).onDrop=t.onDrop.bind(c()(t)),t.state=Object.assign({metaType:"Text"},e),t}return m()(a,t),r()(a,[{key:"componentDidMount",value:function(){this.updateOK()}},{key:"assignState",value:function(t){var a=this;return new e(function(e){var n=Object.assign({},a.state,t);switch(a.setState(n,function(){a.updateOK(),e()}),n.metaType){case"Double":case"Text":case"Int":return a.props.onChanged({displayCategory:n.displayCategory,displayValue:n.displayValue,displayName:n.displayName,metaType:n.metaType});case"Link":return a.props.onChanged({link:n.link?n.link.trim():null,displayCategory:n.displayCategory,displayValue:n.displayValue,displayName:n.displayName,metaType:n.metaType});case"File":return a.props.onChanged({displayCategory:n.displayCategory,displayValue:n.displayValue,displayName:n.displayName,metaType:n.metaType,filename:n.filename,filesize:n.filesize,filelink:n.filelink,fileId:n.fileId,file:n.file})}})}},{key:"onKeyDown",value:function(e,t){switch(t){case"Double":if([8,13,37,39,46,188,189,190].indexOf(e.keyCode)>-1||e.keyCode>47&&e.keyCode<58)return;e.stopPropagation(),e.preventDefault();break;case"Int":if([8,13,37,39,46,189].indexOf(e.keyCode)>-1||e.keyCode>47&&e.keyCode<58)return;e.stopPropagation(),e.preventDefault();break;case"Text":13===e.keyCode&&(e.stopPropagation(),e.preventDefault())}}},{key:"onInputChanged",value:function(e,t){var a=Object.assign({},this.state);a[t]=e.target.value?e.target.value.replace(/&nbsp;/g,""):e.target.value,this.assignState(a)}},{key:"onDrop",value:function(e){this.state.file&&window.URL.revokeObjectURL(this.state.file.preview);var t=e[0];this.assignState({filename:t.name,filesize:t.size,file:t})}},{key:"updateOK",value:function(){switch(this.state.metaType){case"Double":case"Text":case"Int":var e=!this.state.displayCategory||!this.state.displayValue||!this.state.displayName;this.props.disableOK(e);break;case"Link":var t=!(this.state.displayCategory&&this.state.displayValue&&this.state.displayName&&this.state.link);this.props.disableOK(t);break;case"File":var a=!(this.state.displayCategory&&this.state.displayValue&&this.state.displayName&&this.state.filename);this.props.disableOK(a)}}},{key:"renderContent",value:function(){var e=this;switch(this.state.metaType){case"Double":case"Text":case"Int":return w.a.createElement(f.a,{onKeyDown:function(t){return e.onKeyDown(t,e.state.metaType)},onChange:function(t){return e.onInputChanged(t,"displayValue")},"data-placeholder":"Property value ...",html:this.state.displayValue,className:"input meta-value"});case"Link":return w.a.createElement("div",null,w.a.createElement("div",{className:"row"},w.a.createElement(f.a,{onChange:function(t){return e.onInputChanged(t,"displayValue")},"data-placeholder":"Property value ...",onKeyDown:function(t){return e.onKeyDown(t)},html:this.state.displayValue,className:"input meta-value"})),w.a.createElement("div",{className:"row"},w.a.createElement(f.a,{onChange:function(t){return e.onInputChanged(t,"link")},onKeyDown:function(t){return e.onKeyDown(t)},className:"input meta-value","data-placeholder":"Link ...",html:this.state.link})));case"File":return w.a.createElement("div",null,w.a.createElement("div",{className:"row"},w.a.createElement(f.a,{onChange:function(t){return e.onInputChanged(t,"displayValue")},"data-placeholder":"Property value ...",onKeyDown:function(t){return e.onKeyDown(t)},html:this.state.displayValue,className:"input meta-value"})),w.a.createElement("div",{className:"row"},w.a.createElement(g.a,{className:"drop-target",onDrop:this.onDrop,multiple:!1},w.a.createElement("p",null,"Drop a file here or click to browse ..."),w.a.createElement("ul",null,this.state.filename&&w.a.createElement("li",null,w.a.createElement("b",null,this.state.filename),w.a.createElement("br",null),this.state.filesize," bytes")))))}}},{key:"render",value:function(){var e=this;return w.a.createElement("div",{className:"add-meta-property"},w.a.createElement("div",{className:"row"},w.a.createElement(k.a,{title:"Type: "+this.state.metaType,className:"type-dropdown",key:"type-dropdown",id:"type-dropdown"},w.a.createElement(C.a,{eventKey:1,key:1,onClick:function(){e.assignState({displayValue:"",metaType:"Text"})}},"Text"),w.a.createElement(C.a,{eventKey:2,key:2,onClick:function(){e.assignState({displayValue:"",metaType:"Double"})}},"Double"),w.a.createElement(C.a,{eventKey:3,key:3,onClick:function(){e.assignState({displayValue:"",metaType:"Int"})}},"Int"),w.a.createElement(C.a,{eventKey:4,key:4,onClick:function(){e.assignState({displayValue:"",metaType:"Link"})}},"Link"),w.a.createElement(C.a,{eventKey:5,key:5,onClick:function(){e.assignState({displayValue:"",metaType:"File"})}},"File")),w.a.createElement(f.a,{onChange:function(t){return e.onInputChanged(t,"displayCategory")},onKeyDown:function(t){return e.onKeyDown(t)},"data-placeholder":"Property category ...",disabled:this.state.disableCategory,html:this.state.displayCategory,className:"input meta-category"})),w.a.createElement("div",{className:"row"},w.a.createElement(f.a,{onChange:function(t){return e.onInputChanged(t,"displayName")},onKeyDown:function(t){return e.onKeyDown(t)},"data-placeholder":"Property name ...",disabled:this.state.disableName,html:this.state.displayName,className:"input meta-name"})),w.a.createElement("div",{className:"row"},this.renderContent()))}}]),a}(w.a.Component)}).call(this,a(31))},826:function(e,t,a){"use strict";a.r(t);var n=a(597);a.d(t,"AddMetaProperty",function(){return n.a});a(827)},827:function(e,t,a){var n=a(828);"string"==typeof n&&(n=[[e.i,n,""]]);a(28)(n,{});n.locals&&(e.exports=n.locals)},828:function(e,t,a){(e.exports=a(27)(!1)).push([e.i,".add-meta-property {\n  width: 100%; }\n  .add-meta-property .row {\n    min-height: 38px;\n    margin: 0; }\n  .add-meta-property .row > div {\n    width: 100%;\n    float: left; }\n  .add-meta-property .row > .dropdown {\n    width: 130px; }\n  .add-meta-property .type-dropdown {\n    width: 124px; }\n  .add-meta-property .input {\n    border: 1px solid #d2d2d2;\n    white-space: nowrap;\n    overflow-x: scroll;\n    border-radius: 4px;\n    background: white;\n    text-align: left;\n    height: 34px;\n    padding: 5px; }\n  .add-meta-property .meta-category.input {\n    width: calc(100% - 130px); }\n  .add-meta-property .meta-name.input {\n    width: 100%; }\n  .add-meta-property .meta-value.input {\n    width: 100%; }\n  .add-meta-property .drop-target {\n    border: 1px solid #d2d2d2;\n    padding: 10px 10px 0 0;\n    border-radius: 4px;\n    cursor: pointer; }\n    .add-meta-property .drop-target p {\n      color: #909090; }\n    .add-meta-property .drop-target li {\n      text-align: left; }\n",""])}}]);
//# sourceMappingURL=100.js.map