(window.webpackJsonp=window.webpackJsonp||[]).push([[112],{884:function(t,e,i){"use strict";i.r(e);var n=i(2),r=i.n(n),s=i(3),a=i.n(s),u=i(5),o=i.n(u),l=i(4),c=i.n(l),h=i(6),_=i.n(h),f=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;r()(this,t),this._x=e,this._y=i,this._z=n}return a()(t,[{key:"getX",value:function(){return this._x}},{key:"getY",value:function(){return this._y}},{key:"getZ",value:function(){return this._z}},{key:"magnitude",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z)}},{key:"asUnitVector",value:function(){var e=this.magnitude();return new t(this._x/e,this._y/e,this._z/e)}},{key:"scaled",value:function(e){var i=this.magnitude();return new t(this._x*e/i,this._y*e/i,this._z*e/i)}},{key:"multiply",value:function(t){return this._x*=t,this._y*=t,this._z*=t,this}},{key:"add",value:function(t){return this._x+=t._x,this._y+=t._y,this._z+=t._z,this}},{key:"vectorTo",value:function(e){return new t(e._x-this._x,e._y-this._y,e._z-this._z)}},{key:"withinSphere",value:function(t,e){return(this._x-t._x)*(this._x-t._x)+(this._y-t._y)*(this._y-t._y)+(this._z-t._z)*(this._z-t._z)<e*e}},{key:"withinBox",value:function(t,e){return!0}},{key:"copy",value:function(){return new t(this._x,this._y,this._z)}}],[{key:"fromArray",value:function(e){return new t(e[0],e[1],e[2])}}]),t}(),y=function(){function t(e,i){r()(this,t),this._offset=new f,this._position=new f,this._selectable=!0,this._transformable=!0,this._type=i,this._id=e}return a()(t,[{key:"setPosition",value:function(t,e,i){this._position=new f(t+this._offset._x,e+this._offset._y,i+this._offset._z)}},{key:"getPosition",value:function(){return this._position}},{key:"setOffset",value:function(t,e,i){this._offset=new f(t,e,i)}},{key:"getOffset",value:function(){return this._offset}},{key:"setTransformable",value:function(t){this._transformable=t}},{key:"getTransformable",value:function(){return this._transformable}},{key:"setSelectable",value:function(t){this._selectable=t}},{key:"getSelectable",value:function(){return this._selectable}},{key:"getType",value:function(){return this._type}},{key:"getId",value:function(){return this._id}}]),t}(),v=function(t){function e(t){var i;return r()(this,e),(i=o()(this,c()(e).call(this,t,0)))._spread=2*Math.PI/180,i._emissionRate=500,i._velocity=10,i._charge=1,i}return _()(e,t),a()(e,[{key:"emitNumber",value:function(t){return Math.floor(this._emissionRate*t)}},{key:"emitParticle",value:function(t){var e=this._spread*(2*Math.random()-1),i=this._spread*(2*Math.random()-1);t._velocity._x=this._velocity*Math.cos(e)*Math.cos(i),t._velocity._y=this._velocity*Math.sin(e)*Math.cos(i),t._velocity._z=this._velocity*Math.sin(i),t._position._x=this._position._x,t._position._y=this._position._y,t._position._z=this._position._z,t._charge=this._charge}},{key:"setEmissionRate",value:function(t){this._emissionRate=t}},{key:"getEmissionRate",value:function(){return this._emissionRate}},{key:"setVelocity",value:function(t){this._velocity=t}},{key:"getVelocity",value:function(){return this._velocity}},{key:"setSpread",value:function(t){this._spread=t}},{key:"getSpread",value:function(){return this._spread}},{key:"setCharge",value:function(t){this._charge=t}},{key:"getCharge",value:function(){return this._charge}}]),e}(y),d=function(t){function e(t){var i;return r()(this,e),(i=o()(this,c()(e).call(this,t,1)))._force=0,i}return _()(e,t),a()(e,[{key:"applyForce",value:function(t){var e=t._position,i=this._position,n=i._x-e._x,r=i._y-e._y,s=i._z-e._z,a=t._charge*this._force/Math.pow(n*n+r*r+s*s,1.5);if(Math.abs(a)>.001){var u=t._acceleration;u._x+=n*a,u._y+=r*a,u._z+=s*a}}},{key:"setForce",value:function(t){this._force=t}},{key:"getForce",value:function(){return this._force}}]),e}(function(t){function e(t,i){return r()(this,e),o()(this,c()(e).call(this,t,i))}return _()(e,t),a()(e,[{key:"computeAcceleration",value:function(t){return new f}}]),e}(y)),p=function(){function t(){r()(this,t),this._events={}}return a()(t,[{key:"on",value:function(t,e){return this._events[t]=this._events[t]||[],this._events[t].push(e),this}},{key:"off",value:function(t,e){if(null!=t){if(t in this._events!=!1)return e?this._events[t].splice(this._events[t].indexOf(e),1):this._events[t]=[],this}else this._events={}}},{key:"emit",value:function(t){if(void 0!==this._events[t])for(var e=this._events[t].slice(),i=0;i<e.length;++i){var n=e[i].apply(this,Array.prototype.slice.call(arguments,1));if(void 0!==n)return n}}},{key:"guid",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"xxxxxxxxxxxx",e=(new Date).getTime(),i=t.replace(/[xy]/g,function(t){var i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?i:7&i|8).toString(16)});return i}}]),t}(),k=function(){function t(e){r()(this,t),this._velocity=new f,this._position=new f,this._acceleration=new f,this._recycled=!1,this._radius=.03,this._dof=e,this._lifeTime=30,this._charge=1,this.ptr=1}return a()(t,[{key:"reset",value:function(){this._recycled=!1,this._lifeTime=30}},{key:"submitToFields",value:function(t){var e=this;this._acceleration._x=0,this._acceleration._y=0,this._acceleration._z=0,t.forEach(function(t){t.applyForce(e)})}},{key:"step",value:function(t){this._lifeTime-=t,this._velocity._x+=this._acceleration._x*t,this._velocity._y+=this._acceleration._y*t,this._velocity._z+=this._acceleration._z*t,this._position._x+=this._velocity._x*this._dof._x*t,this._position._y+=this._velocity._y*this._dof._y*t,this._position._z+=this._velocity._z*this._dof._z*t}},{key:"getRecycled",value:function(){return this._recycled}},{key:"getLifeTime",value:function(){return this._lifeTime}},{key:"setLifeTime",value:function(t){this._lifeTime=t}},{key:"getAcceleration",value:function(){return this._acceleration}},{key:"getPosition",value:function(){return this._position}},{key:"getCharge",value:function(){return this._charge}},{key:"getRadius",value:function(){return this._radius}}]),t}(),x=function(t){function e(t){var i;return r()(this,e),(i=o()(this,c()(e).call(this)))._maxParticles=t,i._dof=new f(1,1,1),i._emittedParticles=0,i._particleIdx=0,i._recycleBin=[],i._particles=[],i._emitters=[],i._fields=[],i}return _()(e,t),a()(e,[{key:"setMaxParticles",value:function(t){this._maxParticles=t}},{key:"getMaxParticles",value:function(){return this._maxParticles}},{key:"getObjectById",value:function(t){var e=!0,i=!1,n=void 0;try{for(var r,s=this._emitters[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var a=r.value;if(a.getId()===t)return a}}catch(t){i=!0,n=t}finally{try{e||null==s.return||s.return()}finally{if(i)throw n}}var u=!0,o=!1,l=void 0;try{for(var c,h=this._fields[Symbol.iterator]();!(u=(c=h.next()).done);u=!0){var _=c.value;if(_.getId()===t)return _}}catch(t){o=!0,l=t}finally{try{u||null==h.return||h.return()}finally{if(o)throw l}}return null}},{key:"getEmitter",value:function(t){var e=!0,i=!1,n=void 0;try{for(var r,s=this._emitters[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var a=r.value;if(a.getId()===t)return a}}catch(t){i=!0,n=t}finally{try{e||null==s.return||s.return()}finally{if(i)throw n}}return null}},{key:"getMagneticField",value:function(t){var e=!0,i=!1,n=void 0;try{for(var r,s=this._fields[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var a=r.value;if(a.getId()===t)return a}}catch(t){i=!0,n=t}finally{try{e||null==s.return||s.return()}finally{if(i)throw n}}return null}},{key:"setDof",value:function(t,e,i){this._dof=new f(t,e,i)}},{key:"destroy",value:function(){this._recycleBin=[],this._particles=[]}},{key:"addEmitter",value:function(t){var e=new v(t);return this._emitters.push(e),e}},{key:"addMagneticField",value:function(t){var e=new d(t);return this._fields.push(e),e}},{key:"step",value:function(t){this.addNewParticles(t),this.filterParticles(t)}},{key:"addNewParticles",value:function(t){var e=this;this._emitters.forEach(function(i){for(var n=0;n<i.emitNumber(t);++n){var r=e.popRecycle();r&&i.emitParticle(r)}})}},{key:"pushRecycle",value:function(t){--this._emittedParticles,t._recycled=!0,this._recycleBin.push(t)}},{key:"popRecycle",value:function(){if(this._emittedParticles>this._maxParticles-1)return null;++this._emittedParticles;var t=this._recycleBin.pop();return t?(t.reset(),t):(t=new k(this._dof),this._particles.push(t),t)}},{key:"filterParticle",value:function(t){return!!t._recycled||t._lifeTime<0&&(this.pushRecycle(t),!0)}},{key:"filterParticles",value:function(t){var e=this;this._particles.forEach(function(i){e.filterParticle(i)||(i.submitToFields(e._fields),i.step(t))})}},{key:"initParticleLoop",value:function(){this._particleIdx=0}},{key:"nextParticle",value:function(){return this._particleIdx<this._particles.length?this._particles[this._particleIdx++]:{ptr:0}}}]),e}(p);e.default={Instance:x,Vector:f}}}]);
//# sourceMappingURL=112.js.map