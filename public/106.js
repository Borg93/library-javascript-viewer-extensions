(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{864:function(t,e,n){var o=n(865);"string"==typeof o&&(o=[[t.i,o,""]]);n(28)(o,{});o.locals&&(t.exports=o.locals)},865:function(t,e,n){(t.exports=n(27)(!1)).push([t.i,".model-derivatives .job {\n  position: relative;\n  text-align: left;\n  padding: 10px;\n  height: 100%;\n  width: 100%; }\n  .model-derivatives .job .dropdown {\n    width: 100%; }\n    .model-derivatives .job .dropdown .btn {\n      padding: 2px 12px;\n      width: 100%; }\n      .model-derivatives .job .dropdown .btn .caret {\n        margin-left: 6px;\n        color: #888888; }\n  .model-derivatives .job .job-btn {\n    border-radius: 5px;\n    margin-top: 4px;\n    outline: none;\n    width: 100%; }\n    .model-derivatives .job .job-btn span {\n      margin: 0 4px 0 0;\n      color: #888888; }\n    .model-derivatives .job .job-btn:hover:not([disabled]) {\n      border: 1px solid #878787;\n      background-color: #f5f5f5; }\n      .model-derivatives .job .job-btn:hover:not([disabled]) span {\n        color: #f58b00; }\n  .model-derivatives .job .payload {\n    height: calc(100% - 54px);\n    position: relative;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    margin-top: 8px; }\n    .model-derivatives .job .payload .loader-background {\n      background: #fafafa; }\n    .model-derivatives .job .payload .react-json-view .object-content {\n      white-space: nowrap; }\n",""])},887:function(t,e,n){"use strict";n.r(e);var o=n(30),r=n.n(o),a=n(42),i=n.n(a),s=n(2),d=n.n(s),u=n(3),p=n.n(u),c=n(5),l=n.n(c),f=n(4),b=n.n(f),m=n(50),v=n.n(m),w=n(6),g=n.n(w),h=n(1420),x=n(1421),y=n(453),j=(n(36),n(569)),k=n.n(j),E=n(118),S={stl:function(t){return{input:{urn:t.urn},output:{force:!0,formats:[{type:"stl"}],destination:{region:"us"}}}},step:function(t){return{input:{urn:t.urn},output:{force:!0,formats:[{type:"step"}],destination:{region:"us"}}}},dwg:function(t){return{input:{urn:t.urn},output:{force:!0,formats:[{type:"dwg"}],destination:{region:"us"}}}},iges:function(t){return{input:{urn:t.urn},output:{force:!0,formats:[{type:"iges"}],destination:{region:"us"}}}},obj:function(t){var e=t.urn,n=t.modelGuid,o=t.objectIds;return{input:{urn:e},output:{force:!1,formats:[{type:"obj",advanced:{modelGuid:n,objectIds:void 0===o?[-1]:o}}],destination:{region:"us"}}}},svf:function(t){return{input:{urn:t.urn},output:{force:!0,formats:[{type:"svf",views:["2d","3d"]}],destination:{region:"us"}}}},fbx:function(t){return{input:{urn:t.urn},output:{force:!0,formats:[{type:"fbx"}],destination:{region:"us"}}}},ifc:function(t){return{input:{urn:t.urn},output:{force:!0,formats:[{type:"ifc"}],destination:{region:"us"}}}}},J={dwg:["f2d","f3d","rvt"],fbx:["f3d"],ifc:["rvt"],iges:["f3d","fbx","iam","ipt","wire"],obj:["f3d","fbx","iam","ipt","step","stp","stpz","wire","rvt","dwf","dwfx","nwc"],step:["f3d","fbx","iam","ipt","wire"],stl:["f3d","fbx","iam","ipt","wire"],svf:["3dm","3ds","asm","catpart","catproduct","cgr","collaboration","dae","dgn","dlv3","dwf","dwfx","dwg","dwt","dxf","exp","f3d","fbx","g","gbxml","iam","idw","ifc","ige","iges","igs","ipt","jt","max","model","neu","nwc","nwd","obj","pdf","prt","rcp","rvt","sab","sat","session","skp","sldasm","sldprt","smb","smt","ste","step","stl","stla","stlb","stp","stpz","wire","x_b","x_t","xas","xpr","zip","asm\\.\\d+$","neu\\.\\d+$","prt\\.\\d+$"]},I=n(0),L=n.n(I),N=function(t){function e(t){var n;return d()(this,e),(n=l()(this,b()(e).call(this,t))).postJob=n.postJob.bind(v()(n)),n.onEdit=n.onEdit.bind(v()(n)),n.formats=["dwg","fbx","ifc","iges","obj","step","svf","stl"],n.state={selectedFormat:"",showLoader:!1,payload:{}},n}var n,o;return g()(e,t),p()(e,[{key:"getPayload",value:(o=i()(r.a.mark(function t(e,n){var o,a,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.model,a=n.guid,i={urn:o.urn,modelGuid:a},t.abrupt("return",S[e](i));case 3:case"end":return t.stop()}},t)})),function(t,e){return o.apply(this,arguments)})},{key:"onSelect",value:function(){}},{key:"onEdit",value:function(t){var e=t.updated_src;this.assignState({payload:e})}},{key:"postJob",value:(n=i()(r.a.mark(function t(){var e,n,o,a,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.socketSvc.getSocketId();case 3:return e=t.sent,n=this.props,o=n.database,a=n.dbModel,i=this.state.payload,this.assignState({showLoader:!0}),t.next=9,this.props.derivativesAPI.postJob(o,a._id,Object.assign({},i,{socketId:e}));case 9:return t.prev=9,this.assignState({showLoader:!1}),t.finish(9);case 12:case"end":return t.stop()}},t,this,[[0,,9,12]])})),function(){return n.apply(this,arguments)})},{key:"render",value:function(){var t=this,e=this.props.dbModel.model,n=this.props.guid,o=this.state,a=o.selectedFormat,s=o.showLoader,d=o.payload,u=e.objectKey.split(".")[1],p=this.formats.filter(function(t){return J[t].includes(u)}).map(function(o,a){return L.a.createElement(h.a,{eventKey:a,key:a,onClick:i()(r.a.mark(function a(){return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=t,r.next=3,t.getPayload(o,{model:e,guid:n});case 3:r.t1=r.sent,r.t2=o,r.t3={payload:r.t1,selectedFormat:r.t2},r.t0.assignState.call(r.t0,r.t3);case 7:case"end":return r.stop()}},a)}))},o)});return L.a.createElement("div",{className:"job"},L.a.createElement(x.a,{title:"Select export format: ".concat(a),key:"dropdown-job",id:"dropdown-job"},p),L.a.createElement("button",{className:"job-btn",disabled:!a,onClick:this.postJob},L.a.createElement("span",{className:"fa fa-cog"}),"Post Job ..."),L.a.createElement("div",{className:"payload"},L.a.createElement(E.b,{show:s}),L.a.createElement(k.a,{onSelect:this.onSelect,enableClipboard:!1,onDelete:this.onEdit,onEdit:this.onEdit,onAdd:this.onEdit,src:d,name:!1})))}}]),e}(y.a);n(864),e.default=N}}]);
//# sourceMappingURL=106.js.map