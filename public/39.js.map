{"version":3,"sources":["webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.ModelLoader/index.js","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.ModelLoader/Viewing.Extension.ModelLoader.js","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.ModelLoader/Viewing.Extension.ModelLoader.scss?ee8f","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.ModelLoader/Viewing.Extension.ModelLoader.scss","webpack:///./src/client/components/Viewer/Extensions/Viewer.MultiModelExtensionBase/index.js","webpack:///./src/client/components/Viewer/Extensions/Viewer.MultiModelExtensionBase/Viewer.MultiModelExtensionBase.js","webpack:///./node_modules/@babel/runtime/helpers/get.js","webpack:///./src/client/components/WidgetContainer/WidgetContainer.js","webpack:///./src/client/components/WidgetContainer/index.js","webpack:///./src/client/components/WidgetContainer/WidgetContainer.scss?a31d","webpack:///./src/client/components/WidgetContainer/WidgetContainer.scss","webpack:///./src/client/components/Label/Label.js","webpack:///./src/client/components/Label/index.js","webpack:///./node_modules/@babel/runtime/helpers/superPropBase.js","webpack:///./src/client/components/Label/Label.scss?1352","webpack:///./src/client/components/Label/Label.scss","webpack:///./node_modules/lodash/_baseFlatten.js","webpack:///./node_modules/lodash/_baseForOwn.js","webpack:///./node_modules/lodash/_baseEach.js","webpack:///./node_modules/lodash/_isFlattenable.js","webpack:///./node_modules/lodash/sortBy.js","webpack:///./node_modules/lodash/_baseMap.js","webpack:///./node_modules/lodash/_createBaseEach.js","webpack:///./node_modules/react-contenteditable/lib/react-contenteditable.js","webpack:///./node_modules/lodash/_baseOrderBy.js","webpack:///./node_modules/lodash/_baseSortBy.js","webpack:///./node_modules/lodash/_compareMultiple.js","webpack:///./node_modules/lodash/_compareAscending.js","webpack:///./node_modules/fast-deep-equal/index.js","webpack:///./src/client/components/Image/Image.js","webpack:///./src/client/components/Image/index.js","webpack:///./src/client/components/Image/Image.scss?56cf","webpack:///./src/client/components/Image/Image.scss"],"names":["__webpack_require__","r","__webpack_exports__","ModelLoaderExtension","viewer","options","_this","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default","this","_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default","_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default","call","onContextMenu","bind","_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default","renderTitle","react","_this2","model","container","classList","add","loader","show","models","activeModel","length","firstFileType","getFileType","urn","setState","then","noUI","pushRenderExtension","transformerReactOptions","Promise","resolve","popRenderExtension","transformerOptions","Object","assign","fullTransform","hideControls","transformer","loadDynamicExtension","modelTransformer","setModel","ctxMenuExtension","addHandler","console","log","event","_this3","menu","push","title","target","unloadModel","unloadExtension","popViewerPanel","_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_8___default","prototype","scale","fragCount","getFragmentList","fragments","fragId2dbId","fragId","fragProxy","impl","getFragmentProxy","getAnimTransform","THREE","Vector3","updateAnimTransform","sceneUpdated","modelScale","getUnitScale","refScale","scaleModel","_this4","dialogSvc","className","showOK","search","content","react__WEBPACK_IMPORTED_MODULE_22___default","a","createElement","Loader__WEBPACK_IMPORTED_MODULE_15__","open","modelSvc","getModels","database","dbModelsByName","sortBy","name","dbModels","setDlgItems","window","atob","split","pop","dbModel","_this5","_ref","_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","mark","_callee","fileType","loadOptions","lmvProxy","doc","items","_path","path","wrap","_context","prev","next","placementTransform","buildPlacementTransform","t0","env","proxy","Autodesk","Viewing","endpoint","setEndpointAndApi","concat","location","origin","Toolkit","loadDocument","sent","getViewableItems","getViewablePath","loadModel","dbModelId","_id","guid","eventSink","emit","abrupt","stop","_x","apply","arguments","noConfirm","getState","unload","_callee2","vm","filteredModels","nextActiveModel","_context2","filter","setActiveModel","source","onClose","_callee3","result","_context3","_this6","off","msg","DOMPurify","sanitize","on","dangerouslySetInnerHTML","__html","Matrix4","zOriented","indexOf","makeRotationX","Math","PI","instanceTree","getData","rootId","getRootId","fitToView","_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default","remove","selections","params","activeGuid","fitModelToView","modelstructure","e","keyCode","stopPropagation","preventDefault","value","toLowerCase","filteredDbModels","_this7","state","modelDlgItems","map","thumbnailUrl","getThumbnailUrl","key","onClick","Image__WEBPACK_IMPORTED_MODULE_20__","src","Label__WEBPACK_IMPORTED_MODULE_21__","text","react_contenteditable__WEBPACK_IMPORTED_MODULE_11___default","onChange","onSearchChanged","onKeyDown","data-placeholder","html","docked","id","ExtensionId","pushViewerPanel","height","width","_this8","spanClass","setDocking","_this9","_this$react$getState3","modelItems","idx","react_bootstrap__WEBPACK_IMPORTED_MODULE_23__","eventKey","modelName","react_bootstrap__WEBPACK_IMPORTED_MODULE_24__","disabled","showModelDlg","render","showTitle","opts","_this10","WidgetContainer__WEBPACK_IMPORTED_MODULE_13__","renderControls","renderTransformer","MultiModelExtensionBase","theExtensionManager","registerExtension","module","i","locals","exports","_Viewer_MultiModelExtensionBase__WEBPACK_IMPORTED_MODULE_0__","undefined","defaultOptions","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default","_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default","_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default","_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default","serviceContext","onModelCompletedLoad","onObjectTreeCreated","onModelRootLoaded","onExtensionLoaded","onModelActivated","onGeometryLoaded","onToolbarCreated","onModelBeginLoad","onModelUnloaded","onSelection","__onModelRootLoaded","__onModelActivated","__onModelUnloaded","__onModelLoaded","modelQueue","initializeEvents","viewerEvents","forEach","removeEventListener","handler","viewerEvent","OBJECT_TREE_CREATED_EVENT","GEOMETRY_LOADED_EVENT","args","EXTENSION_LOADED_EVENT","MODEL_ROOT_LOADED_EVENT","TOOLBAR_CREATED_EVENT","AGGREGATE_SELECTION_CHANGED_EVENT","eventId","eventTasks","Array","isArray","addEventListener","__handler","all","EventsEmitter","Composer","Extension","superPropBase","_get","property","receiver","Reflect","get","base","desc","getOwnPropertyDescriptor","WidgetContainer","props","react_default","dimensions","React","Children","children","child","newProps","cloneElement","classNames","toConsumableArray_default","join","style","renderChildren","Component","PropTypes","string","bool","Label","classCallCheck_default","possibleConstructorReturn_default","getPrototypeOf_default","textAlign","getPrototypeOf","object","hasOwnProperty","arrayPush","isFlattenable","baseFlatten","array","depth","predicate","isStrict","index","baseFor","keys","iteratee","baseForOwn","baseEach","createBaseEach","Symbol","isArguments","spreadableSymbol","isConcatSpreadable","baseOrderBy","baseRest","isIterateeCall","collection","iteratees","isArrayLike","eachFunc","fromRight","iterable","extendStatics","__extends","d","b","setPrototypeOf","__proto__","p","__","constructor","create","__assign","t","s","n","__rest","getOwnPropertySymbols","propertyIsEnumerable","__importStar","mod","__esModule","k","__importDefault","default","defineProperty","fast_deep_equal_1","normalizeHtml","str","replace","replaceCaret","el","findLastTextNode","node","nodeType","Node","TEXT_NODE","childNodes","textNode","isTargetFocused","document","activeElement","nodeValue","sel","getSelection","range","createRange","setStart","collapse","removeAllRanges","addRange","HTMLElement","focus","ContentEditable","_super","lastHtml","innerRef","current","createRef","getEl","emitChange","originalEvt","innerHTML","evt","_a","tagName","ref","onInput","onBlur","onKeyUp","contentEditable","shouldComponentUpdate","nextProps","componentDidUpdate","propTypes","isRequired","func","oneOfType","arrayMap","baseIteratee","baseMap","baseSortBy","baseUnary","compareMultiple","identity","orders","criteria","other","comparer","sort","compareAscending","objCriteria","othCriteria","ordersLength","isSymbol","valIsDefined","valIsNull","valIsReflexive","valIsSymbol","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","keyList","hasProp","equal","arrA","arrB","dateA","Date","dateB","getTime","regexpA","RegExp","regexpB","toString","Image","onError","assertThisInitialized_default","onLoad"],"mappings":"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","file":"39.js","sourcesContent":["import './Viewing.Extension.ModelLoader'\n\nexport default 'Viewing.Extension.ModelLoader'\n","/////////////////////////////////////////////////////////\n// Viewing.Extension.ModelLoader\n// by Philippe Leefsma, April 2017\n//\n/////////////////////////////////////////////////////////\nimport MultiModelExtensionBase from 'Viewer.MultiModelExtensionBase'\nimport ContentEditable from 'react-contenteditable'\nimport './Viewing.Extension.ModelLoader.scss'\nimport WidgetContainer from 'WidgetContainer'\nimport {ServiceContext} from 'ServiceContext'\nimport { ReactLoader } from 'Loader'\nimport Toolkit from 'Viewer.Toolkit'\nimport sortBy from 'lodash/sortBy'\nimport DOMPurify from 'dompurify'\nimport ReactDOM from 'react-dom'\nimport Image from 'Image'\nimport Label from 'Label'\nimport React from 'react'\nimport {\n  DropdownButton,\n  MenuItem\n} from 'react-bootstrap'\n\nclass ModelLoaderExtension extends MultiModelExtensionBase {\n\n  /////////////////////////////////////////////////////////\n  // Class constructor\n  //\n  /////////////////////////////////////////////////////////\n  constructor (viewer, options) {\n\n    super (viewer, options)\n\n    this.onContextMenu = this.onContextMenu.bind(this)\n    this.renderTitle = this.renderTitle.bind(this)\n\n\n    this.react = options.react\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  get className() {\n\n    return 'model-loader'\n  }\n\n  /////////////////////////////////////////////////////////\n  // Extension Id\n  //\n  /////////////////////////////////////////////////////////\n  static get ExtensionId() {\n\n    return 'Viewing.Extension.ModelLoader'\n  }\n\n  /////////////////////////////////////////////////////////\n  // Load callback\n  //\n  /////////////////////////////////////////////////////////\n  load () {\n\n    if (!this.viewer.model) {\n\n      this.viewer.container.classList.add('empty')\n\n      if (this.options.loader) {\n\n        this.options.loader.show(false)\n      }\n    }\n\n    const models = this.models\n\n    const activeModel = models.length\n      ? models[0]\n      : null\n\n    this.firstFileType = activeModel\n      ? this.getFileType(activeModel.urn)\n      : null\n\n    this.react.setState({\n\n      activeModel,\n      models\n\n    }).then (() => {\n      if(!this.options.noUI)\n      this.react.pushRenderExtension(this)\n    })\n\n    if(!this.options.noUI){\n    const transformerReactOptions = {\n      pushRenderExtension: () => {\n        return Promise.resolve()\n      },\n      popRenderExtension: () => {\n        return Promise.resolve()\n      }\n    }\n\n    const transformerOptions = Object.assign({}, {\n        react: transformerReactOptions,\n        fullTransform : true,\n        hideControls : true\n      }, this.options.transformer)\n\n    this.viewer.loadDynamicExtension(\n      'Viewing.Extension.ModelTransformer',\n      transformerOptions).then((modelTransformer) => {\n\n        this.react.setState({\n          modelTransformer\n        })\n\n        if (activeModel) {\n\n          modelTransformer.setModel(\n            activeModel)\n        }\n      })\n\n    this.viewer.loadDynamicExtension(\n      'Viewing.Extension.ContextMenu').then(\n      (ctxMenuExtension) => {\n        ctxMenuExtension.addHandler(\n          this.onContextMenu)\n      })\n    }\n    console.log('Viewing.Extension.ModelLoader loaded')\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onContextMenu (event) {\n\n    if (event.model) {\n\n      event.menu.push({\n        title: 'Unload model ...',\n        target: () => {\n\n          this.unloadModel ()\n        }\n      })\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  // Unload callback\n  //\n  /////////////////////////////////////////////////////////\n  unload () {\n\n    console.log('Viewing.Extension.ModelLoader unloaded')\n\n    this.viewer.unloadExtension(\n      'Viewing.Extension.ModelTransformer')\n\n    this.react.popViewerPanel(this)\n\n    super.unload ()\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  scaleModel (model, scale) {\n\n    const fragCount = model.getFragmentList().\n      fragments.fragId2dbId.length\n\n    //fragIds range from 0 to fragCount-1\n    for (var fragId = 0; fragId < fragCount; ++fragId) {\n\n      const fragProxy =\n        this.viewer.impl.getFragmentProxy(\n          model, fragId)\n\n      fragProxy.getAnimTransform()\n\n      fragProxy.scale = new THREE.Vector3(\n        scale, scale, scale)\n\n      fragProxy.updateAnimTransform()\n    }\n\n    this.viewer.impl.sceneUpdated(true)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onModelCompletedLoad (event) {\n\n    const model = event.model\n\n    const modelScale = model.getUnitScale()\n\n    this.refScale = this.refScale || modelScale\n\n    if (modelScale !== this.refScale) {\n\n      this.scaleModel(model, modelScale/this.refScale)\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  // Displays model selection popup dialog\n  //\n  /////////////////////////////////////////////////////////\n  showModelDlg () {\n\n    this.dialogSvc.setState({\n      className: 'model-loader-dlg',\n      title: 'Select Model ...',\n      showOK: false,\n      search: '',\n      content:\n        <div>\n          <ReactLoader show={true}/>\n        </div>,\n      open: true\n    })\n\n    this.modelSvc.getModels(this.options.database).then(\n      (models) => {\n\n        const dbModelsByName =\n          sortBy(models, (model) => {\n            return model.name\n          })\n\n        this.dialogSvc.setState({\n          dbModels: dbModelsByName,\n          open: true\n        }, true)\n\n        this.setDlgItems (dbModelsByName)\n      })\n  }\n\n  /////////////////////////////////////////////////////////\n  // Get file type by base64 decoding the model URN\n  //\n  /////////////////////////////////////////////////////////\n  getFileType (urn) {\n\n    return window.atob(urn).split(\".\").pop(-1)\n  }\n\n  /////////////////////////////////////////////////////////\n  // Loads a model based on database info\n  // For testing purpose also supports\n  // loading models offline\n  // See for more details: http://autode.sk/2qsKxx8\n  //\n  /////////////////////////////////////////////////////////\n  loadModel (dbModel) {\n\n    return new Promise(async(resolve) => {\n\n      this.options.loader.show(true)\n\n      const fileType =\n        dbModel.fileType ||\n        this.getFileType(dbModel.model.urn)\n\n      const loadOptions = {\n        placementTransform:\n          this.buildPlacementTransform(fileType)\n      }\n\n      switch (dbModel.env) {\n\n        case 'AutodeskProduction':\n\n          const lmvProxy =\n            dbModel.model.proxy || 'lmv-proxy-2legged'\n\n          Autodesk.Viewing.endpoint.setEndpointAndApi(\n            `${window.location.origin}/${lmvProxy}`,\n            'derivativeV2')\n\n          const doc = await Toolkit.loadDocument(\n            dbModel.model.urn)\n\n          const items = Toolkit.getViewableItems(doc)\n\n          if (items.length) {\n\n            const path = doc.getViewablePath(items[0])\n\n            this.viewer.loadModel(path, loadOptions,\n              (model) => {\n\n                model.database =\n                  dbModel.database || this.options.database\n                model.dbModelId = dbModel._id\n                model.urn = dbModel.model.urn\n                model.name = dbModel.name\n                model.guid = this.guid()\n                model.proxy = lmvProxy\n\n                this.eventSink.emit('model.loaded', {\n                  model\n                })\n\n                resolve (model)\n              })\n          }\n\n          break\n\n        case 'Local':\n\n          const path = dbModel.model.path\n\n          this.viewer.loadModel(path, loadOptions,\n            (model) => {\n\n              model.database = this.options.database\n              model.dbModelId = dbModel._id\n              model.urn = dbModel.model.urn\n              model.name = dbModel.name\n              model.guid = this.guid()\n\n              this.eventSink.emit('model.loaded', {\n                model\n              })\n\n              resolve (model)\n            })\n\n          break\n      }\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  // Unload model upon user request\n  //\n  /////////////////////////////////////////////////////////\n  async unloadModel (noConfirm) {\n\n    const {activeModel, models} = this.react.getState()\n\n    if(activeModel){\n      const unload = async (vm, activeModel, models) => {\n        const filteredModels = models.filter((model) => {\n          return model.guid !== activeModel.guid\n        })\n\n        if (!filteredModels.length) {\n\n          vm.viewer.container.classList.add('empty')\n\n          vm.firstFileType = null\n        }\n\n        await vm.react.setState({\n          models: filteredModels\n        })\n\n        const nextActiveModel = filteredModels.length\n            ? filteredModels[0]\n            : null\n\n        vm.eventSink.emit('model.unloaded', {\n          model: activeModel\n        })\n\n        vm.viewer.impl.unloadModel(activeModel)\n\n        await vm.setActiveModel(nextActiveModel, {\n          source: 'model.unloaded'\n        })\n      }\n      if(noConfirm) await unload(this, activeModel, models)\n      else{\n        const vm =this, onClose = async(result) => {\n\n          if (result === 'OK') await unload(vm, activeModel, models)\n\n          this.dialogSvc.off('dialog.close', onClose)\n        }\n\n\n        const msg = DOMPurify.sanitize(\n          `Are you sure you want to unload`\n          + `<b><br/>${activeModel.name}</b> ?`)\n\n        this.dialogSvc.on('dialog.close', onClose)\n\n        this.dialogSvc.setState({\n          className: 'model-loader-unload-dlg',\n          title: 'Unload Model ...',\n          content:\n            <div dangerouslySetInnerHTML={{__html: msg}}>\n            </div>,\n          open: true\n        })\n      }\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  // .rvt and .nwc files are z-oriented, whereas other\n  // file formats are y-oriented.\n  // Depending what file type was the initial model,\n  // we need to adjust the subsequent loaded models\n  //\n  /////////////////////////////////////////////////////////\n  buildPlacementTransform (fileType) {\n\n    this.firstFileType = this.firstFileType || fileType\n\n    const placementTransform = new THREE.Matrix4()\n\n    // those file type have different orientation\n    // than other, so need to correct it\n    // upon insertion\n    const zOriented = ['rvt', 'nwc']\n\n    if (zOriented.indexOf(this.firstFileType) > -1) {\n\n      if (zOriented.indexOf(fileType) < 0) {\n\n        placementTransform.makeRotationX(\n          90 * Math.PI/180)\n      }\n\n    } else {\n\n      if(zOriented.indexOf(fileType) > -1) {\n\n        placementTransform.makeRotationX(\n          -90 * Math.PI/180)\n      }\n    }\n\n    return placementTransform\n  }\n\n  /////////////////////////////////////////////////////////\n  // Fit whole model to view\n  //\n  /////////////////////////////////////////////////////////\n  fitModelToView (model) {\n\n    const instanceTree = model.getData().instanceTree\n\n    if (instanceTree) {\n\n      const rootId = instanceTree.getRootId()\n\n      this.viewer.fitToView([rootId], model)\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  // ModelBeginLoad event\n  //\n  /////////////////////////////////////////////////////////\n  onModelBeginLoad (event) {\n\n    const {models} = this.react.getState()\n\n    const model = event.model\n\n    this.react.setState({\n      models: [...models, model]\n    })\n\n    this.setActiveModel (model, {\n      source: 'model.loaded',\n      fitToView: true\n    })\n\n    this.firstFileType = this.firstFileType ||\n      this.getFileType(model.urn)\n  }\n\n  /////////////////////////////////////////////////////////\n  // ModelRootLoaded event\n  //\n  /////////////////////////////////////////////////////////\n  onModelRootLoaded (event) {\n\n    this.viewer.container.classList.remove('empty')\n\n    this.options.loader.show(false)\n  }\n\n  /////////////////////////////////////////////////////////\n  // Model Selected event\n  //\n  /////////////////////////////////////////////////////////\n  onSelection (event) {\n\n    if (event.selections && event.selections.length) {\n\n      const selection = event.selections[0]\n\n      const model = selection.model\n\n      this.setActiveModel (model, {\n        source: 'model.selected'\n      })\n\n      this.eventSink.emit('model.selected', {\n        model\n      })\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  // Set model as active\n  //\n  /////////////////////////////////////////////////////////\n  async setActiveModel (model, params = {}) {\n\n    const activeGuid = this.viewer.activeModel\n      ? this.viewer.activeModel.guid\n      : null\n\n    this.viewer.activeModel = model\n\n    if (params.fitToView) {\n\n      this.fitModelToView (model)\n    }\n\n    await this.react.setState({\n      activeModel: model\n    })\n\n    if (model) {\n\n      //this.setStructure(model)\n\n      if (model.guid !== activeGuid) {\n\n        this.eventSink.emit('model.activated', {\n          source: params.source,\n          model\n        })\n      }\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  // Fixing the model structure browser to show active\n  // model structure\n  //\n  /////////////////////////////////////////////////////////\n  setStructure (model) {\n\n    const instanceTree = model.getData().instanceTree\n\n    const modelstructure = this.viewer.modelstructure\n\n    if (instanceTree && modelstructure) {\n\n      if (modelstructure.instanceTree !== instanceTree) {\n\n        modelstructure.setModel(instanceTree)\n      }\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onKeyDown (e) {\n\n    if (e.keyCode === 13) {\n\n      e.stopPropagation()\n      e.preventDefault()\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onSearchChanged (e) {\n\n    const search = e.target.value.toLowerCase()\n\n    this.dialogSvc.setState({\n      search\n    }, true)\n\n    const state = this.dialogSvc.getState()\n\n    const filteredDbModels =\n      state.dbModels.filter((dbModel) => {\n        return search.length\n          ? dbModel.name.toLowerCase().indexOf(search) > -1\n          : true\n      })\n\n    this.setDlgItems (filteredDbModels)\n  }\n\n  /////////////////////////////////////////////////////////\n  // Load model items in popup selection dialog\n  //\n  /////////////////////////////////////////////////////////\n  setDlgItems (dbModels) {\n\n    const state = this.dialogSvc.getState()\n\n    const modelDlgItems = dbModels.map((dbModel) => {\n\n      const thumbnailUrl = this.modelSvc.getThumbnailUrl(\n        this.options.database, dbModel._id, 200)\n\n      return (\n        <div key={dbModel._id} className=\"model-item\"\n          onClick={() => {\n\n            this.loadModel(dbModel)\n\n            this.dialogSvc.setState({\n              open: false\n            })\n        }}>\n          <Image src={thumbnailUrl}/>\n          <Label text= {dbModel.name}/>\n        </div>\n      )\n    })\n\n    this.dialogSvc.setState({\n      content:\n        <div>\n          <ReactLoader show={false}/>\n          <ContentEditable\n            onChange={(e) => this.onSearchChanged(e)}\n            onKeyDown={(e) => this.onKeyDown(e)}\n            data-placeholder=\"Search ...\"\n            html={state.search}\n            className=\"search\"\n          />\n          <div className=\"scroller\">\n            { modelDlgItems }\n          </div>\n        </div>\n    }, true)\n  }\n\n  /////////////////////////////////////////////////////////\n  // Panel docking mode\n  //\n  /////////////////////////////////////////////////////////\n  async setDocking (docked) {\n\n    const id = ModelLoaderExtension.ExtensionId\n\n    if (docked) {\n\n      await this.react.popRenderExtension(id)\n\n      await this.react.pushViewerPanel(this, {\n        height: 250,\n        width: 350\n      })\n\n    } else {\n\n      await this.react.popViewerPanel(id)\n\n      this.react.pushRenderExtension(this)\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  // React method - render panel title\n  //\n  /////////////////////////////////////////////////////////\n  renderTitle (docked) {\n\n    const spanClass = docked\n      ? 'fa fa-chain-broken'\n      : 'fa fa-chain'\n\n    return (\n      <div className=\"title\">\n        <label>\n          Model Loader\n        </label>\n        <div className=\"model-loader-controls\">\n          <button onClick={() => this.setDocking(docked)}\n            title=\"Toggle docking mode\">\n            <span className={spanClass}/>\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  /////////////////////////////////////////////////////////\n  // React method - render panel controls\n  //\n  /////////////////////////////////////////////////////////\n  renderControls () {\n\n    const {activeModel, models} = this.react.getState()\n\n    const modelItems = models.map((model, idx) => {\n      return (\n        <MenuItem eventKey={idx} key={model.guid}\n          onClick={() => {\n\n            this.setActiveModel(model, {\n              source: 'dropdown',\n              fitToView: true\n            })\n          }}>\n          { model.name }\n        </MenuItem>\n      )\n    })\n\n    const modelName = activeModel\n      ? activeModel.name\n      : ''\n\n    return (\n      <div className=\"controls\">\n\n        <div className=\"row\">\n\n          <DropdownButton\n            title={\"Model: \" +  modelName}\n            className=\"sequence-dropdown\"\n            disabled={!activeModel}\n            key=\"sequence-dropdown\"\n            id=\"sequence-dropdown\">\n           { modelItems }\n          </DropdownButton>\n\n          <button onClick={() => this.showModelDlg()}\n            title=\"Load model\">\n            <span className=\"fa fa-plus\"/>\n          </button>\n\n          <button onClick={() => this.unloadModel()}\n            disabled={!activeModel}\n            title=\"Unload model\">\n            <span className=\"fa fa-times\"/>\n          </button>\n\n        </div>\n\n      </div>\n    )\n  }\n\n  /////////////////////////////////////////////////////////\n  // React method - render transformer extension UI\n  //\n  /////////////////////////////////////////////////////////\n  renderTransformer () {\n\n    const {modelTransformer} = this.react.getState()\n\n    return modelTransformer\n      ? modelTransformer.render({showTitle: false})\n      : <div/>\n  }\n\n  /////////////////////////////////////////////////////////\n  // React method - render extension UI\n  //\n  /////////////////////////////////////////////////////////\n  render (opts) {\n\n    return (\n      <WidgetContainer\n        renderTitle={() => this.renderTitle(opts.docked)}\n        showTitle={opts.showTitle}\n        className={this.className}>\n\n        { this.renderControls() }\n        { this.renderTransformer() }\n\n      </WidgetContainer>\n    )\n  }\n}\n\nAutodesk.Viewing.theExtensionManager.registerExtension(\n  ModelLoaderExtension.ExtensionId,\n  ModelLoaderExtension)\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../../node_modules/sass-loader/lib/loader.js!./Viewing.Extension.ModelLoader.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../../node_modules/sass-loader/lib/loader.js!./Viewing.Extension.ModelLoader.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../../node_modules/sass-loader/lib/loader.js!./Viewing.Extension.ModelLoader.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".model-loader .title {\\n  display: -ms-inline-flexbox;\\n  display: inline-flex;\\n  float: left; }\\n\\n.model-loader .title > label {\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  white-space: nowrap;\\n  font-weight: normal;\\n  user-select: none;\\n  margin-left: 27px;\\n  margin-top: 10px;\\n  select: none;\\n  width: 142px;\\n  float: left; }\\n\\n.model-loader .content > .controls {\\n  margin: 10px 10px 0px 10px;\\n  display: inline-block;\\n  white-space: nowrap;\\n  width: 100%; }\\n\\n.model-loader .content > .controls > .row {\\n  width: 100%;\\n  margin: 0; }\\n\\n.model-loader .content > .controls .dropdown {\\n  width: calc(100% - 88px);\\n  margin-bottom: 6px;\\n  float: left; }\\n  .model-loader .content > .controls .dropdown .dropdown-menu {\\n    max-height: 150px;\\n    overflow: scroll;\\n    width: 100%; }\\n\\n.model-loader .content > .controls .dropdown > button {\\n  padding: 0 10px 0 10px;\\n  overflow: hidden;\\n  height: 26px;\\n  width: 100%;\\n  margin: 0; }\\n\\n.model-loader .content > .controls button {\\n  background: whitesmoke;\\n  border-radius: 4px;\\n  margin-left: 4px;\\n  outline: none;\\n  height: 26px;\\n  width: 30px;\\n  float: left; }\\n\\n.model-loader .content > .controls button > span {\\n  position: relative;\\n  font-size: 16px;\\n  color: #9b9b9b;\\n  top: 1px; }\\n  .model-loader .content > .controls button > span.caret {\\n    margin-left: 4px; }\\n\\n.model-loader .content > .controls button:disabled > span {\\n  color: #d0d0d0; }\\n\\n.model-loader .content > .controls button:hover:not(:disabled) > span {\\n  color: #FF9800; }\\n\\n.model-loader .content > .controls button:disabled > span {\\n  color: #d0d0d0; }\\n\\n.model-loader .content > .controls label {\\n  margin: 4px 10px 0 10px;\\n  font-weight: normal;\\n  float: left; }\\n\\n.model-loader .content > .controls .state-name-input {\\n  border: 1px solid #aeaeae;\\n  width: calc(100% - 155px);\\n  padding: 3px 0 0 10px;\\n  white-space: nowrap;\\n  border-radius: 4px;\\n  text-align: left;\\n  overflow: hidden;\\n  height: 26px;\\n  float: left; }\\n\\n.model-loader .content > .controls .loop {\\n  margin-left: 6px;\\n  float: left; }\\n\\n.model-loader .content > .controls .loop > label {\\n  margin: 0 0 0 6px; }\\n\\n.model-loader .items {\\n  height: calc(100% - 82px);\\n  overflow: scroll;\\n  margin: 4px; }\\n\\n.model-loader .items > .item, .gu-mirror.item {\\n  transition-timing-function: ease;\\n  transition-duration: 1.5s;\\n  transition-property: all;\\n  transition-delay: 0.0s;\\n  border: 1px solid #aeaeae;\\n  width: calc(100% - 10px);\\n  background: #ededed;\\n  white-space: nowrap;\\n  border-radius: 4px;\\n  overflow: hidden;\\n  cursor: pointer;\\n  height: 26px;\\n  padding: 2px;\\n  margin: 5px; }\\n\\n.model-loader .items > .item:hover {\\n  background: rgba(0, 105, 245, 0.35);\\n  border: 1px solid #1bb1f4; }\\n\\n.model-loader .items > .item.active {\\n  background: rgba(0, 105, 245, 0.35);\\n  border: 1px solid #1bb1f4; }\\n\\n.model-loader .items > .item > div, .gu-mirror.item > div {\\n  width: calc(100% - 50px);\\n  pointer-events: none;\\n  position: relative;\\n  margin: 0 0 0 12px;\\n  float: left; }\\n\\n.model-loader .items > .item > div > .label, .gu-mirror.item > div > .label {\\n  font-weight: normal;\\n  font-size: small;\\n  color: black;\\n  width: 100%; }\\n\\n.model-loader .items > .item > button, .gu-mirror.item > button {\\n  transition-timing-function: ease;\\n  transition-duration: 1.5s;\\n  transition-property: all;\\n  transition-delay: 0.0s;\\n  background: #f58b00;\\n  border-radius: 4px;\\n  position: relative;\\n  outline: none;\\n  float: right;\\n  height: 20px;\\n  right: 1px; }\\n\\n.model-loader .items > .item > button:hover {\\n  background: #ff9000; }\\n\\n.model-loader .items > .item > button > span, .gu-mirror.item > button > span {\\n  transition-timing-function: ease;\\n  transition-duration: 1.5s;\\n  transition-property: all;\\n  transition-delay: 0.0s;\\n  position: relative;\\n  color: #505050;\\n  top: -4px; }\\n\\n.model-loader .items > .item > button:hover > span {\\n  color: #000000; }\\n\\n.model-loader-dlg {\\n  left: calc(50% - 200px) !important;\\n  top: calc(30% - 100px) !important;\\n  width: 400px !important; }\\n\\n.model-loader-dlg > .content {\\n  max-height: 300px;\\n  overflow: hidden;\\n  height: auto; }\\n\\n.model-loader-dlg > .content > div {\\n  max-height: 300px;\\n  height: auto; }\\n\\n.model-loader-dlg .search {\\n  border: 1px solid #8c8b8b;\\n  width: calc(100% - 10px);\\n  padding: 4px 0 0 4px;\\n  background: #eaeaea;\\n  border-radius: 4px;\\n  margin: 0 0 6px 5px;\\n  text-align: left;\\n  color: #000000;\\n  height: 32px; }\\n\\n.model-loader-dlg .scroller {\\n  overflow-y: scroll;\\n  max-height: 248px;\\n  height: auto; }\\n\\n.model-loader-dlg .model-item {\\n  transition-timing-function: ease;\\n  transition-duration: 1.5s;\\n  transition-property: all;\\n  transition-delay: 0.0s;\\n  border: 1px solid #aeaeae;\\n  width: calc(100% - 10px);\\n  background: #ededed;\\n  white-space: nowrap;\\n  border-radius: 4px;\\n  overflow: hidden;\\n  cursor: pointer;\\n  height: 76px;\\n  padding: 2px;\\n  margin: 5px; }\\n\\n.model-loader-dlg .model-item:hover {\\n  background: rgba(0, 105, 245, 0.35);\\n  border: 1px solid #1bb1f4; }\\n\\n.model-loader-dlg .model-item img {\\n  height: 70px;\\n  width: 70px;\\n  float: left; }\\n\\n.model-loader-dlg .model-item .label-container {\\n  font-weight: bold;\\n  text-align: left;\\n  left: 20px;\\n  top: 20px; }\\n\\n.model-loader-controls {\\n  margin: auto 0 auto calc(100% - 142px);\\n  position: relative;\\n  float: left; }\\n\\n.model-loader-controls > button {\\n  border: 1px solid #c6c6c6;\\n  background-color: #e1e1e1;\\n  border-radius: 6px;\\n  position: relative;\\n  overflow: hidden;\\n  outline: none;\\n  height: 24px;\\n  width: 26px; }\\n\\n.model-loader-controls > button:hover {\\n  border: 1px solid #878787;\\n  background-color: #f5f5f5; }\\n\\n.model-loader-controls > button > label {\\n  position: relative;\\n  font-size: 20px;\\n  color: #f0fcff;\\n  top: -8px; }\\n\\n.model-loader-controls > button > span {\\n  pointer-events: none;\\n  color: #9b9b9b; }\\n\", \"\"]);\n","import MultiModelExtensionBase from './Viewer.MultiModelExtensionBase'\n\nexport default MultiModelExtensionBase\n","import EventsEmitter from 'EventsEmitter'\n\nexport default class MultiModelExtensionBase extends\n  EventsEmitter.Composer (Autodesk.Viewing.Extension) {\n\n  /////////////////////////////////////////////////////////\n  // Class constructor\n  //\n  /////////////////////////////////////////////////////////\n  constructor (viewer, options = {}, defaultOptions = {}) {\n\n    super (viewer)\n    // bindings\n    Object.assign(this, options.serviceContext)\n\n    this.onModelCompletedLoad = this.onModelCompletedLoad.bind(this)\n    this.onObjectTreeCreated  = this.onObjectTreeCreated.bind(this)\n    this.onModelRootLoaded    = this.onModelRootLoaded.bind(this)\n    this.onExtensionLoaded    = this.onExtensionLoaded.bind(this)\n    this.onModelActivated     = this.onModelActivated.bind(this)\n    this.onGeometryLoaded     = this.onGeometryLoaded.bind(this)\n    this.onToolbarCreated     = this.onToolbarCreated.bind(this)\n    this.onModelBeginLoad     = this.onModelBeginLoad.bind(this)\n    this.onModelUnloaded      = this.onModelUnloaded.bind(this)\n    this.onSelection          = this.onSelection.bind(this)\n\n    this.__onModelRootLoaded  = this.__onModelRootLoaded.bind(this)\n    this.__onModelActivated   = this.__onModelActivated.bind(this)\n    this.__onModelUnloaded    = this.__onModelUnloaded.bind(this)\n    this.__onModelLoaded      = this.__onModelLoaded.bind(this)\n\n    this.defaultOptions = defaultOptions\n\n    this.options = Object.assign({},\n      defaultOptions,\n      options)\n\n    this.viewer = viewer\n\n    // read the modelQueue to detect currently loaded models\n    // when the extension gets loaded\n    const models = viewer.impl.modelQueue().getModels()\n\n    this.models = models.map((model) => {\n\n      model.guid = model.guid || this.guid()\n\n      return model\n    })\n\n    this.initializeEvents ()\n  }\n\n  /////////////////////////////////////////////////////////\n  // Extension Id\n  //\n  /////////////////////////////////////////////////////////\n  static get ExtensionId() {\n\n    return 'Viewing.Extension.MultiModelExtensionBase'\n  }\n\n  /////////////////////////////////////////////////////////\n  // Load callback\n  //\n  /////////////////////////////////////////////////////////\n  load () {\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Unload callback\n  //\n  /////////////////////////////////////////////////////////\n  unload () {\n\n    this.viewerEvents.forEach((event) => {\n\n      this.viewer.removeEventListener(\n        event.id, this[event.handler])\n    })\n\n    if (this.eventSink) {\n\n      this.eventSink.off('model.activated',\n        this.__onModelActivated)\n\n      this.eventSink.off('model.unloaded',\n        this.__onModelUnloaded)\n\n      this.eventSink.off('model.loaded',\n        this.__onModelLoaded)\n    }\n\n    this.off()\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Reload callback, in case the extension is re-loaded\n  // more than once\n  //\n  /////////////////////////////////////////////////////////\n  reload (options = {}) {\n\n    this.options = Object.assign({},\n      this.defaultOptions,\n      this.options,\n      options)\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when extension gets loaded\n  //\n  /////////////////////////////////////////////////////////\n  onExtensionLoaded (event) {\n\n    //console.log('MultiModelExtensionBase.onExtensionLoaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when the model starts to load\n  // The geometry and instanceTree may not be available\n  // at this time\n  //\n  /////////////////////////////////////////////////////////\n  onModelBeginLoad (event) {\n\n    //console.log('MultiModelExtensionBase.onModelBeginLoad')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Triggered by ModelLoader extension when a model is\n  // selected in a multi-model environment\n  //\n  /////////////////////////////////////////////////////////\n  onModelActivated (event) {\n\n    //console.log('MultiModelExtensionBase.onModelActivated')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when model root node has been loaded\n  // Extensions that do require access to full\n  // model geometry or component tree may use that\n  // event to know a new model has been loaded\n  //\n  /////////////////////////////////////////////////////////\n  __onModelRootLoaded (event) {\n\n    this.viewerEvent([\n\n      Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,\n      Autodesk.Viewing.GEOMETRY_LOADED_EVENT\n\n    ]).then((args) => {\n\n      this.onModelCompletedLoad (args[0])\n    })\n  }\n\n  onModelRootLoaded (event) {\n\n    //console.log('MultiModelExtensionBase.onModelRootLoaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when object tree is fully loaded.\n  // Extensions that are interested in using the\n  // instanceTree need to use that event to make sure\n  // it is available\n  //\n  ////////////////////////////////////////////////////////\n  onObjectTreeCreated (event) {\n\n    //console.log('MultiModelExtensionBase.onObjectTreeCreated')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when geometry is fully loaded\n  //\n  /////////////////////////////////////////////////////////\n  onGeometryLoaded (event) {\n\n    //console.log('MultiModelExtensionBase.onGeometryLoaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked after onObjectTreeCreated and onGeometryLoaded\n  // have both been fired\n  //\n  /////////////////////////////////////////////////////////\n  onModelCompletedLoad (event) {\n\n    //console.log('MultiModelExtensionBase.onModelCompletedLoad')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked once the viewer toolbar has been created\n  //\n  /////////////////////////////////////////////////////////\n  onToolbarCreated (event) {\n\n    //console.log('MultiModelExtensionBase.onToolbarCreated')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Triggered by ModelLoader extension when a model has\n  // been unloaded as per user request\n  //\n  /////////////////////////////////////////////////////////\n  onModelUnloaded (event) {\n\n    //console.log('MultiModelExtensionBase.onModelUnloaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when a model is being selected\n  //\n  /////////////////////////////////////////////////////////\n  onSelection (event) {\n\n    //console.log('MultiModelExtensionBase.onSelection')\n  }\n\n  /////////////////////////////////////////////////////////\n  //Sink Events\n  //\n  /////////////////////////////////////////////////////////\n  __onModelLoaded (event) {\n\n    this.models = [...this.models, event.model]\n\n    this.onModelBeginLoad (event)\n  }\n\n  __onModelActivated (event) {\n\n    this.onModelActivated (event)\n  }\n\n  __onModelUnloaded (event) {\n\n    this.models = this.models.filter((model) => {\n\n      return model.guid !== event.model.guid\n    })\n\n    this.onModelUnloaded(event)\n  }\n\n  /////////////////////////////////////////////////////////\n  // Initialize all events for the extension\n  // Each event will invoke a predefined handler\n  // implemented or not by the derived extension\n  //\n  /////////////////////////////////////////////////////////\n  initializeEvents () {\n\n    if (this.options.eventSink) {\n\n      // event object passed in options\n      this.eventSink = this.options.eventSink\n\n      this.eventSink.on('model.loaded',\n        this.__onModelLoaded)\n\n      this.eventSink.on('model.activated',\n        this.__onModelActivated)\n\n      this.eventSink.on('model.unloaded',\n        this.__onModelUnloaded)\n    }\n\n    this.viewerEvents = [\n      {\n        id: Autodesk.Viewing.EXTENSION_LOADED_EVENT,\n        handler: 'onExtensionLoaded'\n      },\n      {\n        id: Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,\n        handler: 'onObjectTreeCreated'\n      },\n      {\n        id: Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,\n        handler: '__onModelRootLoaded'\n      },\n      {\n        id: Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,\n        handler: 'onModelRootLoaded'\n      },\n      {\n        id: Autodesk.Viewing.GEOMETRY_LOADED_EVENT,\n        handler: 'onGeometryLoaded'\n      },\n      {\n        id: Autodesk.Viewing.TOOLBAR_CREATED_EVENT,\n        handler: 'onToolbarCreated'\n      },\n      {\n        id: Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT,\n        handler: 'onSelection'\n      }\n    ]\n\n    this.viewerEvents.forEach((event) => {\n\n      this.viewerEvent(event.id, this[event.handler])\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  // Async viewer event\n  //\n  /////////////////////////////////////////////////////////\n  viewerEvent (eventId, handler) {\n\n    if (handler) {\n\n      this.viewer.addEventListener (eventId, handler)\n      return\n    }\n\n    const eventIdArray = Array.isArray(eventId)\n      ? eventId : [eventId]\n\n    const eventTasks = eventIdArray.map((id) => {\n      return new Promise ((resolve) => {\n        const __handler = (args) => {\n          this.viewer.removeEventListener (id, __handler)\n          resolve (args)\n        }\n        this.viewer.addEventListener (id, __handler)\n      })\n    })\n\n    return Promise.all (eventTasks)\n  }\n}\n","var superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","import PropTypes from 'prop-types'\nimport ReactDOM from 'react-dom'\nimport './WidgetContainer.scss'\nimport React from 'react'\n\nclass WidgetContainer extends React.Component {\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static propTypes = {\n    className: PropTypes.string,\n    showTitle: PropTypes.bool\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static defaultProps = {\n    showTitle: true,\n    className: ''\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  renderTitle () {\n\n    if (!this.props.showTitle) {\n\n      return <div/>\n    }\n\n    if (this.props.renderTitle) {\n\n      return this.props.renderTitle()\n    }\n\n    return (\n      <div className=\"title\">\n        <label>\n          { this.props.title }\n        </label>\n      </div>\n    )\n  }\n\n  ///////////////////////////////////////////////////////////////////\n  //\n  //\n  ///////////////////////////////////////////////////////////////////\n  renderChildren() {\n\n    if (this.props.dimensions) {\n\n      return React.Children.map(this.props.children, (child) => {\n\n        const newProps = Object.assign({},\n          child.props, {\n            dimensions: this.props.dimensions\n          })\n\n        return React.cloneElement(child, newProps)\n      })\n    }\n\n    return this.props.children\n  }\n\n  ///////////////////////////////////////////////////////////////////\n  //\n  //\n  ///////////////////////////////////////////////////////////////////\n  render() {\n\n    const classNames = [\n      'widget-container',\n      ...this.props.className.split(' ')\n    ]\n\n    const height = this.props.showTitle\n      ? 'calc(100% - 40px)'\n      : '100%'\n\n    return (\n      <div className={classNames.join(' ')} style={this.props.style}>\n         { this.renderTitle() }\n        <div className=\"content\" style={{height}}>\n          {this.renderChildren()}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default WidgetContainer\n","import WidgetContainer from './WidgetContainer'\n\nexport default WidgetContainer\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./WidgetContainer.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./WidgetContainer.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./WidgetContainer.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".widget-container {\\n  position: relative;\\n  height: 100%;\\n  width: 100%; }\\n\\n.widget-container > .title {\\n  border-bottom: 1px solid #cdcdcd;\\n  background-color: #f5f5f5;\\n  padding-right: 10px;\\n  color: black;\\n  position: relative;\\n  overflow: hidden;\\n  text-align: left;\\n  height: 40px;\\n  width: 100%; }\\n\\n.widget-container > .title > label {\\n  white-space: nowrap;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  margin-left: 27px;\\n  margin-top: 10px; }\\n\\n.widget-container > .content {\\n  position: relative;\\n  overflow: hidden;\\n  height: 100%;\\n  width: 100%; }\\n\", \"\"]);\n","import PropTypes from 'prop-types'\nimport DOMPurify from 'dompurify'\nimport ReactDOM from 'react-dom'\nimport React from 'react'\nimport './Label.scss'\n\nexport default class Label extends React.Component {\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static propTypes = {\n    textAlign: PropTypes.string,\n    className: PropTypes.string,\n    text: PropTypes.string\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static defaultProps = {\n    textAlign: 'left',\n    className: '',\n    text: ''\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  constructor (props) {\n\n    super (props)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  render () {\n\n    const classNames = [\n      'label-container',\n      ...this.props.className.split(' ')\n    ]\n\n    const style = {\n      width: this.props.textAlign === 'center'\n        ? '100%' : '',\n      textAlign: this.props.textAlign\n    }\n\n    return(\n      <div className={classNames.join(' ')}\n        style={style}>\n        <p>\n          { DOMPurify.sanitize(this.props.text) }\n        </p>\n      </div>\n    )\n  }\n}\n","import Label from './Label'\n\nexport default Label\n","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./Label.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./Label.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./Label.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".label-container {\\n  position: relative;\\n  overflow: hidden;\\n  font-size: 100%;\\n  color: #343434;\\n  height: 100%;\\n  float: left; }\\n\", \"\"]);\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","var baseFlatten = require('./_baseFlatten'),\n    baseOrderBy = require('./_baseOrderBy'),\n    baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates an array of elements, sorted in ascending order by the results of\n * running each element in a collection thru each iteratee. This method\n * performs a stable sort, that is, it preserves the original sort order of\n * equal elements. The iteratees are invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {...(Function|Function[])} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 36 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 34 }\n * ];\n *\n * _.sortBy(users, [function(o) { return o.user; }]);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n *\n * _.sortBy(users, ['user', 'age']);\n * // => objects for [['barney', 34], ['barney', 36], ['fred', 40], ['fred', 48]]\n */\nvar sortBy = baseRest(function(collection, iteratees) {\n  if (collection == null) {\n    return [];\n  }\n  var length = iteratees.length;\n  if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n    iteratees = [];\n  } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n    iteratees = [iteratees[0]];\n  }\n  return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n});\n\nmodule.exports = sortBy;\n","var baseEach = require('./_baseEach'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nmodule.exports = baseMap;\n","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __importStar(require(\"react\"));\nvar fast_deep_equal_1 = __importDefault(require(\"fast-deep-equal\"));\nvar PropTypes = __importStar(require(\"prop-types\"));\nfunction normalizeHtml(str) {\n    return str && str.replace(/&nbsp;|\\u202F|\\u00A0/g, ' ');\n}\nfunction findLastTextNode(node) {\n    if (node.nodeType === Node.TEXT_NODE)\n        return node;\n    var children = node.childNodes;\n    for (var i = children.length - 1; i >= 0; i--) {\n        var textNode = findLastTextNode(children[i]);\n        if (textNode !== null)\n            return textNode;\n    }\n    return null;\n}\nfunction replaceCaret(el) {\n    // Place the caret at the end of the element\n    var target = findLastTextNode(el);\n    // do not move caret if element was not focused\n    var isTargetFocused = document.activeElement === el;\n    if (target !== null && target.nodeValue !== null && isTargetFocused) {\n        var sel = window.getSelection();\n        if (sel !== null) {\n            var range = document.createRange();\n            range.setStart(target, target.nodeValue.length);\n            range.collapse(true);\n            sel.removeAllRanges();\n            sel.addRange(range);\n        }\n        if (el instanceof HTMLElement)\n            el.focus();\n    }\n}\n/**\n * A simple component for an html element with editable contents.\n */\nvar ContentEditable = /** @class */ (function (_super) {\n    __extends(ContentEditable, _super);\n    function ContentEditable() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.lastHtml = _this.props.html;\n        _this.el = typeof _this.props.innerRef === 'function' ? { current: null } : React.createRef();\n        _this.getEl = function () { return (_this.props.innerRef && typeof _this.props.innerRef !== 'function' ? _this.props.innerRef : _this.el).current; };\n        _this.emitChange = function (originalEvt) {\n            var el = _this.getEl();\n            if (!el)\n                return;\n            var html = el.innerHTML;\n            if (_this.props.onChange && html !== _this.lastHtml) {\n                // Clone event with Object.assign to avoid\n                // \"Cannot assign to read only property 'target' of object\"\n                var evt = Object.assign({}, originalEvt, {\n                    target: {\n                        value: html\n                    }\n                });\n                _this.props.onChange(evt);\n            }\n            _this.lastHtml = html;\n        };\n        return _this;\n    }\n    ContentEditable.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, tagName = _a.tagName, html = _a.html, innerRef = _a.innerRef, props = __rest(_a, [\"tagName\", \"html\", \"innerRef\"]);\n        return React.createElement(tagName || 'div', __assign({}, props, { ref: typeof innerRef === 'function' ? function (current) {\n                innerRef(current);\n                _this.el.current = current;\n            } : innerRef || this.el, onInput: this.emitChange, onBlur: this.props.onBlur || this.emitChange, onKeyUp: this.props.onKeyUp || this.emitChange, onKeyDown: this.props.onKeyDown || this.emitChange, contentEditable: !this.props.disabled, dangerouslySetInnerHTML: { __html: html } }), this.props.children);\n    };\n    ContentEditable.prototype.shouldComponentUpdate = function (nextProps) {\n        var props = this.props;\n        var el = this.getEl();\n        // We need not rerender if the change of props simply reflects the user's edits.\n        // Rerendering in this case would make the cursor/caret jump\n        // Rerender if there is no element yet... (somehow?)\n        if (!el)\n            return true;\n        // ...or if html really changed... (programmatically, not by user edit)\n        if (normalizeHtml(nextProps.html) !== normalizeHtml(el.innerHTML)) {\n            return true;\n        }\n        // Handle additional properties\n        return props.disabled !== nextProps.disabled ||\n            props.tagName !== nextProps.tagName ||\n            props.className !== nextProps.className ||\n            props.innerRef !== nextProps.innerRef ||\n            !fast_deep_equal_1.default(props.style, nextProps.style);\n    };\n    ContentEditable.prototype.componentDidUpdate = function () {\n        var el = this.getEl();\n        if (!el)\n            return;\n        // Perhaps React (whose VDOM gets outdated because we often prevent\n        // rerendering) did not update the DOM. So we update it manually now.\n        if (this.props.html !== el.innerHTML) {\n            el.innerHTML = this.lastHtml = this.props.html;\n        }\n        replaceCaret(el);\n    };\n    ContentEditable.propTypes = {\n        html: PropTypes.string.isRequired,\n        onChange: PropTypes.func,\n        disabled: PropTypes.bool,\n        tagName: PropTypes.string,\n        className: PropTypes.string,\n        style: PropTypes.object,\n        innerRef: PropTypes.oneOfType([\n            PropTypes.object,\n            PropTypes.func,\n        ])\n    };\n    return ContentEditable;\n}(React.Component));\nexports.default = ContentEditable;\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    baseSortBy = require('./_baseSortBy'),\n    baseUnary = require('./_baseUnary'),\n    compareMultiple = require('./_compareMultiple'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `_.orderBy` without param guards.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n * @param {string[]} orders The sort orders of `iteratees`.\n * @returns {Array} Returns the new sorted array.\n */\nfunction baseOrderBy(collection, iteratees, orders) {\n  var index = -1;\n  iteratees = arrayMap(iteratees.length ? iteratees : [identity], baseUnary(baseIteratee));\n\n  var result = baseMap(collection, function(value, key, collection) {\n    var criteria = arrayMap(iteratees, function(iteratee) {\n      return iteratee(value);\n    });\n    return { 'criteria': criteria, 'index': ++index, 'value': value };\n  });\n\n  return baseSortBy(result, function(object, other) {\n    return compareMultiple(object, other, orders);\n  });\n}\n\nmodule.exports = baseOrderBy;\n","/**\n * The base implementation of `_.sortBy` which uses `comparer` to define the\n * sort order of `array` and replaces criteria objects with their corresponding\n * values.\n *\n * @private\n * @param {Array} array The array to sort.\n * @param {Function} comparer The function to define sort order.\n * @returns {Array} Returns `array`.\n */\nfunction baseSortBy(array, comparer) {\n  var length = array.length;\n\n  array.sort(comparer);\n  while (length--) {\n    array[length] = array[length].value;\n  }\n  return array;\n}\n\nmodule.exports = baseSortBy;\n","var compareAscending = require('./_compareAscending');\n\n/**\n * Used by `_.orderBy` to compare multiple properties of a value to another\n * and stable sort them.\n *\n * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n * of corresponding values.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {boolean[]|string[]} orders The order to sort by for each property.\n * @returns {number} Returns the sort order indicator for `object`.\n */\nfunction compareMultiple(object, other, orders) {\n  var index = -1,\n      objCriteria = object.criteria,\n      othCriteria = other.criteria,\n      length = objCriteria.length,\n      ordersLength = orders.length;\n\n  while (++index < length) {\n    var result = compareAscending(objCriteria[index], othCriteria[index]);\n    if (result) {\n      if (index >= ordersLength) {\n        return result;\n      }\n      var order = orders[index];\n      return result * (order == 'desc' ? -1 : 1);\n    }\n  }\n  // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n  // that causes it, under certain circumstances, to provide the same value for\n  // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n  // for more details.\n  //\n  // This also ensures a stable sort in V8 and other engines.\n  // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n  return object.index - other.index;\n}\n\nmodule.exports = compareMultiple;\n","var isSymbol = require('./isSymbol');\n\n/**\n * Compares values to sort them in ascending order.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {number} Returns the sort order indicator for `value`.\n */\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined,\n        valIsNull = value === null,\n        valIsReflexive = value === value,\n        valIsSymbol = isSymbol(value);\n\n    var othIsDefined = other !== undefined,\n        othIsNull = other === null,\n        othIsReflexive = other === other,\n        othIsSymbol = isSymbol(other);\n\n    if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n        (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n        (valIsNull && othIsDefined && othIsReflexive) ||\n        (!valIsDefined && othIsReflexive) ||\n        !valIsReflexive) {\n      return 1;\n    }\n    if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n        (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n        (othIsNull && valIsDefined && valIsReflexive) ||\n        (!othIsDefined && valIsReflexive) ||\n        !othIsReflexive) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\nmodule.exports = compareAscending;\n","'use strict';\n\nvar isArray = Array.isArray;\nvar keyList = Object.keys;\nvar hasProp = Object.prototype.hasOwnProperty;\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  var arrA = isArray(a)\n    , arrB = isArray(b)\n    , i\n    , length\n    , key;\n\n  if (arrA && arrB) {\n    length = a.length;\n    if (length != b.length) return false;\n    for (i = 0; i < length; i++)\n      if (!equal(a[i], b[i])) return false;\n    return true;\n  }\n\n  if (arrA != arrB) return false;\n\n  var dateA = a instanceof Date\n    , dateB = b instanceof Date;\n  if (dateA != dateB) return false;\n  if (dateA && dateB) return a.getTime() == b.getTime();\n\n  var regexpA = a instanceof RegExp\n    , regexpB = b instanceof RegExp;\n  if (regexpA != regexpB) return false;\n  if (regexpA && regexpB) return a.toString() == b.toString();\n\n  if (a instanceof Object && b instanceof Object) {\n    var keys = keyList(a);\n    length = keys.length;\n\n    if (length !== keyList(b).length)\n      return false;\n\n    for (i = 0; i < length; i++)\n      if (!hasProp.call(b, keys[i])) return false;\n\n    for (i = 0; i < length; i++) {\n      key = keys[i];\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  return false;\n};\n","import PropTypes from 'prop-types'\nimport React from 'react'\nimport './Image.scss'\n\nexport default class Image extends React.Component {\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static propTypes = {\n    className: PropTypes.string\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static defaultProps = {\n    className: ''\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  constructor (props) {\n\n    super (props)\n\n    this.onError = this.onError.bind(this)\n    this.onLoad = this.onLoad.bind(this)\n\n    this.state = {\n      classNames: ['default-adsk'],\n      src: this.props.src\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onLoad () {\n\n    this.setState({\n      classNames: []\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onError () {\n\n    this.setState({\n      classNames: ['default-adsk']\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  render () {\n\n    const classNames = [\n      ...this.state.classNames,\n      ...this.props.className.split(' ')\n    ]\n\n    return(\n      <img className={classNames.join(' ')}\n        onError={this.onError}\n        onLoad={this.onLoad}\n        src={this.state.src}\n      />\n    )\n  }\n}\n","import Image from './Image'\n\nexport default Image\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./Image.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./Image.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./Image.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".label-container {\\n  position: relative;\\n  overflow: hidden;\\n  font-size: 100%;\\n  color: #343434;\\n  height: 100%;\\n  float: left; }\\n\", \"\"]);\n"],"sourceRoot":""}