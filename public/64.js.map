{"version":3,"sources":["webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.ForceGraph/index.js","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.ForceGraph/Viewing.Extension.ForceGraph.js","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.ForceGraph/Viewing.Extension.ForceGraph.scss?c2de","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.ForceGraph/Viewing.Extension.ForceGraph.scss","webpack:///./src/client/components/ForceGraph/index.js","webpack:///./src/client/components/ForceGraph/ForceGraph.js","webpack:///./src/client/components/ForceGraph/ForceGraph.scss?4af9","webpack:///./src/client/components/ForceGraph/ForceGraph.scss","webpack:///./src/client/components/Viewer/Extensions/Viewer.MultiModelExtensionBase/index.js","webpack:///./src/client/components/Viewer/Extensions/Viewer.MultiModelExtensionBase/Viewer.MultiModelExtensionBase.js","webpack:///./src/client/components/WidgetContainer/WidgetContainer.js","webpack:///./src/client/components/WidgetContainer/index.js","webpack:///./src/client/components/WidgetContainer/WidgetContainer.scss?a31d","webpack:///./src/client/components/WidgetContainer/WidgetContainer.scss","webpack:///./src/client/components/Viewer/Extensions/Viewer.ExtensionBase/index.js","webpack:///./src/client/components/Viewer/Extensions/Viewer.ExtensionBase/Viewer.ExtensionBase.js"],"names":["__webpack_require__","r","__webpack_exports__","ForceGraphExtension","viewer","options","_this","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default","this","_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default","_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default","call","onStopResize","bind","_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default","renderTitle","render","react","_this2","window","addEventListener","setState","activeProperty","showLoader","disabled","root","items","then","pushRenderExtension","model","activeModel","loadGraph","loadDynamicExtension","buildMenu","menu","map","item","title","toLowerCase","target","Toolkit","isolateFull","fitToView","console","log","removeEventListener","_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_7___default","prototype","getLeafNodes","componentIds","graphProperties","getPropertyList","$","parent","find","css","height","Math","min","length","setActiveProperty","defaultIndex","event","source","propName","disable","buildDataTree","guid","buildModelTree","taskFunc","node","Promise","_ref","_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee3","resolve","reject","prop","wrap","_context3","prev","next","getProperty","dbId","sent","isNaN","displayValue","size","abrupt","t0","stop","_x5","_x6","apply","arguments","runTaskOnDataTree","normalize","Number","MAX_VALUE","max","computeMinMaxRec","children","forEach","child","count","sum","normalizeRec","average","state","getState","_this3","menuItems","idx","react__WEBPACK_IMPORTED_MODULE_18___default","createElement","react_bootstrap__WEBPACK_IMPORTED_MODULE_10__","eventKey","key","onClick","className","react_bootstrap__WEBPACK_IMPORTED_MODULE_11__","id","_this4","opts","undefined","showTitle","WidgetContainer__WEBPACK_IMPORTED_MODULE_13__","Loader__WEBPACK_IMPORTED_MODULE_14__","show","ForceGraph__WEBPACK_IMPORTED_MODULE_17__","onNodeClicked","MultiModelExtensionBase","Autodesk","Viewing","theExtensionManager","registerExtension","ExtensionId","content","module","i","locals","exports","push","_ForceGraph__WEBPACK_IMPORTED_MODULE_0__","ForceGraph","props","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default","_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default","_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default","draw","nextProps","container","empty","offsetHeight","width","offsetWidth","force","d3","layout","on","tick","svg","select","append","attr","link","selectAll","update","nodes","flatten","links","tree","start","data","d","exit","remove","enter","insert","x","y","style","color","onDoubleClick","n","drag","_children","defaultPrevented","recurse","react__WEBPACK_IMPORTED_MODULE_6___default","ref","div","React","Component","_Viewer_MultiModelExtensionBase__WEBPACK_IMPORTED_MODULE_0__","defaultOptions","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default","_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default","_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default","Object","assign","serviceContext","onModelCompletedLoad","onObjectTreeCreated","onModelRootLoaded","onExtensionLoaded","onModelActivated","onGeometryLoaded","onToolbarCreated","onModelBeginLoad","onModelUnloaded","onSelection","__onModelRootLoaded","__onModelActivated","__onModelUnloaded","__onModelLoaded","models","impl","modelQueue","getModels","initializeEvents","viewerEvents","handler","eventSink","off","viewerEvent","OBJECT_TREE_CREATED_EVENT","GEOMETRY_LOADED_EVENT","args","concat","_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default","filter","EXTENSION_LOADED_EVENT","MODEL_ROOT_LOADED_EVENT","TOOLBAR_CREATED_EVENT","AGGREGATE_SELECTION_CHANGED_EVENT","eventId","_this5","eventTasks","Array","isArray","__handler","all","EventsEmitter","Composer","Extension","WidgetContainer","react_default","dimensions","Children","newProps","cloneElement","classNames","toConsumableArray_default","split","join","renderChildren","PropTypes","string","bool","_Viewer_ExtensionBase__WEBPACK_IMPORTED_MODULE_0__","ViewerExtensionBase","ExtensionBase","_viewer","_options","_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default","format","Date","getTime","replace","c","random","floor","toString"],"mappings":"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","file":"64.js","sourcesContent":["import './Viewing.Extension.ForceGraph'\n\nexport default 'Viewing.Extension.ForceGraph'\n","/////////////////////////////////////////////////////////\n// Viewing.Extension.ForceGraph\n// by Philippe Leefsma, May 2017\n//\n/////////////////////////////////////////////////////////\nimport MultiModelExtensionBase from 'Viewer.MultiModelExtensionBase'\nimport { DropdownButton, MenuItem } from 'react-bootstrap'\nimport ExtensionBase from 'Viewer.ExtensionBase'\nimport WidgetContainer from 'WidgetContainer'\nimport {ReactLoader as Loader} from 'Loader'\nimport './Viewing.Extension.ForceGraph.scss'\nimport Toolkit from 'Viewer.Toolkit'\nimport ForceGraph from 'ForceGraph'\nimport React from 'react'\nimport d3 from 'd3'\n\nclass ForceGraphExtension extends MultiModelExtensionBase {\n\n  /////////////////////////////////////////////////////////\n  // Class constructor\n  //\n  /////////////////////////////////////////////////////////\n  constructor (viewer, options) {\n\n    super (viewer, options)\n\n    this.onStopResize = this.onStopResize.bind(this)\n\n    this.renderTitle = this.renderTitle.bind(this)\n\n    this.render = this.render.bind(this)\n\n    this.react = options.react\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  get className() {\n\n    return 'force-graph'\n  }\n\n  /////////////////////////////////////////////////////////\n  // Extension Id\n  //\n  /////////////////////////////////////////////////////////\n  static get ExtensionId() {\n\n    return 'Viewing.Extension.ForceGraph'\n  }\n\n  /////////////////////////////////////////////////////////\n  // Load callback\n  //\n  /////////////////////////////////////////////////////////\n  load () {\n\n    window.addEventListener(\n      'resize', this.onStopResize)\n\n    this.react.setState({\n\n      activeProperty: '',\n      showLoader: true,\n      disabled: false,\n      root: null,\n      items: []\n\n    }).then (() => {\n\n      this.react.pushRenderExtension(this)\n\n      const model = this.viewer.activeModel\n\n      if (model) {\n\n        this.loadGraph (model)\n      }\n    })\n\n    this.viewer.loadDynamicExtension(\n      'Viewing.Extension.ContextMenu', {\n        buildMenu: (menu) => {\n          return menu.map((item) => {\n            const title = item.title.toLowerCase()\n            if (title === 'show all objects') {\n              return {\n                title: 'Show All objects',\n                target: () => {\n                  Toolkit.isolateFull(this.viewer)\n                  this.viewer.fitToView()\n                }\n              }\n            }\n            return item\n          })\n        }\n      })\n\n    console.log('Viewing.Extension.ForceGraph loaded')\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Unload callback\n  //\n  /////////////////////////////////////////////////////////\n  unload () {\n\n    console.log('Viewing.Extension.ForceGraph unloaded')\n\n    window.removeEventListener(\n      'resize', this.onStopResize)\n\n    super.unload ()\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  async loadGraph (model) {\n\n    await this.react.setState({\n      showLoader: true\n    })\n\n    this.componentIds = await Toolkit.getLeafNodes(model)\n\n    const graphProperties =\n      this.options.graphProperties ||\n      await Toolkit.getPropertyList(\n        this.viewer, this.componentIds, model)\n\n    $('#force-graph-dropdown').parent().find('ul').css({\n      height: Math.min(\n        $('.force-graph').height() - 42,\n        graphProperties.length * 26 + 16)\n    })\n\n    await this.react.setState({\n      items: graphProperties\n    })\n\n    this.setActiveProperty (\n      graphProperties[this.options.defaultIndex || 0])\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onModelActivated (event) {\n\n    if (event.source !== 'model.loaded') {\n\n      this.loadGraph(event.model)\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onGeometryLoaded (event) {\n\n    this.loadGraph(event.model)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  async setActiveProperty (propName, disable) {\n\n    await this.react.setState({\n      activeProperty: disable ? propName : '',\n      disabled: disable,\n      showLoader: true\n    })\n\n    const root = await this.buildDataTree (propName)\n\n    await this.react.setState({\n      activeProperty: propName,\n      showLoader: false,\n      guid: this.guid(),\n      disabled: false,\n      root\n    })\n  }\n\n  /////////////////////////////////////////////////////////////\n  // Builds a custom data tree formatted for the force graph\n  // based on viewer input property\n  //\n  /////////////////////////////////////////////////////////////\n  async buildDataTree (propName) {\n\n    const model = this.viewer.activeModel\n\n    const root = await Toolkit.buildModelTree(model)\n\n    const taskFunc = (node, parent) => {\n\n      return new Promise(async(resolve, reject) => {\n\n        try {\n\n          node.parent = parent\n\n          const prop = await Toolkit.getProperty(\n            model, node.dbId, propName)\n\n          if (isNaN(prop.displayValue)) {\n\n            node.size = 0\n\n          } else {\n\n            node.size = prop.displayValue\n          }\n\n          return resolve()\n\n        } catch (ex) {\n\n          node.size = 0\n\n          return resolve()\n        }\n      })\n    }\n\n    await Toolkit.runTaskOnDataTree(\n      root, taskFunc)\n\n    this.normalize(root)\n\n    return root\n  }\n\n  /////////////////////////////////////////////////////////////\n  // Normalize data tree: sets size between [0, 1]\n  // based on computed max over all nodes\n  //\n  /////////////////////////////////////////////////////////////\n  normalize (root) {\n\n    var min =  Number.MAX_VALUE\n    var max = -Number.MAX_VALUE\n\n    const computeMinMaxRec = (node) => {\n\n      min = Math.min(min, node.size)\n      max = Math.max(max, node.size)\n\n      if(node.children){\n\n        node.children.forEach((child)=>{\n\n          computeMinMaxRec(child)\n        })\n      }\n    }\n\n    computeMinMaxRec (root)\n\n    if (max === 0) {\n      return\n    }\n\n    var count = 0\n    var sum = 0\n\n    const normalizeRec = (node) => {\n\n      node.size /= max\n\n      sum += node.size\n      ++count\n\n      if (node.children) {\n\n        node.children.forEach((child)=>{\n\n          normalizeRec(child)\n        })\n      }\n    }\n\n    normalizeRec(root)\n\n    root.average = sum/count\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onStopResize () {\n\n    const state = this.react.getState()\n\n    $('#force-graph-dropdown').parent().find('ul').css({\n      height: Math.min(\n        $('.force-graph').height() - 42,\n        state.items.length * 26 + 16)\n    })\n\n    this.react.setState({\n      guid: this.guid()\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  renderTitle () {\n\n    const state = this.react.getState()\n\n    const menuItems = state.items.map((item, idx) => {\n      return (\n        <MenuItem eventKey={idx} key={idx} onClick={() => {\n\n          this.setActiveProperty (item, true)\n        }}>\n          { item }\n        </MenuItem>\n      )\n    })\n\n    return (\n      <div className=\"title controls\">\n        <label>\n          Force Graph\n        </label>\n\n        <DropdownButton\n          title={\"Property: \" + state.activeProperty }\n          disabled={state.disabled}\n          key=\"force-graph-dropdown\"\n          id=\"force-graph-dropdown\">\n         { menuItems }\n        </DropdownButton>\n      </div>\n    )\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  render (opts = {showTitle: true}) {\n\n    const state = this.react.getState()\n\n    return (\n      <WidgetContainer renderTitle={this.renderTitle}\n        showTitle={opts.showTitle}\n        className={this.className}>\n\n        <Loader show={state.showLoader}/>\n\n        <ForceGraph onNodeClicked={(node) => {\n\n            Toolkit.isolateFull(\n              this.viewer, node.dbId,\n              this.viewer.activeModel)\n\n            this.viewer.fitToView()\n          }}\n          guid={state.guid}\n          root={state.root}\n        />\n\n      </WidgetContainer>\n    )\n  }\n}\n\nAutodesk.Viewing.theExtensionManager.registerExtension(\n  ForceGraphExtension.ExtensionId,\n  ForceGraphExtension)\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../../node_modules/sass-loader/lib/loader.js!./Viewing.Extension.ForceGraph.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../../node_modules/sass-loader/lib/loader.js!./Viewing.Extension.ForceGraph.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../../node_modules/sass-loader/lib/loader.js!./Viewing.Extension.ForceGraph.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".force-graph .title {\\n  position: relative !important;\\n  overflow: visible;\\n  float: left; }\\n\\n.force-graph .title > label {\\n  white-space: nowrap;\\n  font-weight: normal;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  margin-left: 27px;\\n  select: none;\\n  width: 85px; }\\n\\n.force-graph .title > .dropdown {\\n  position: relative;\\n  top: -1px; }\\n\\n.force-graph .title > button {\\n  margin-left: 4px;\\n  height: 26px; }\\n\\n.force-graph .title > .dropdown > button {\\n  padding: 2px 12px;\\n  height: 26px; }\\n\\n.force-graph .title .dropdown-menu {\\n  overflow: scroll; }\\n\\n.force-graph .loader-background {\\n  background: #fdfdfd; }\\n\\n.force-graph .loader, .force-graph .loader:before, .force-graph .loader:after {\\n  top: 35%; }\\n\\n.force-graph .loader:before, .force-graph .loader:after {\\n  margin: -9px auto; }\\n\", \"\"]);\n","import ForceGraph from './ForceGraph'\n\nexport default ForceGraph\n","/////////////////////////////////////////////////////////\n// ForceGraph\n// by Philippe Leefsma, May 2017\n//\n/////////////////////////////////////////////////////////\nimport './ForceGraph.scss'\nimport React from 'react'\nimport d3 from 'd3'\n\nclass ForceGraph extends React.Component {\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  constructor (props) {\n\n    super (props)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  componentDidMount () {\n\n    const {root} = this.props\n\n    this.draw (root)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  shouldComponentUpdate (nextProps) {\n\n    if (nextProps.guid !== this.props.guid) {\n\n      return true\n    }\n\n    return false\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  componentDidUpdate () {\n\n    const {root} = this.props\n\n    $(this.container).empty()\n\n    this.draw(root)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  draw (root) {\n\n    if (!root) {\n\n      return\n    }\n\n    const container = this.container\n\n    const height = container.offsetHeight\n    const width = container.offsetWidth\n\n    var force = d3.layout.force()\n      .size([width, height])\n      .on(\"tick\", () => tick())\n\n    var svg = d3.select(container)\n      .append(\"svg\")\n      .attr(\"width\", width)\n      .attr(\"height\", height)\n\n    var link = svg.selectAll(\".link\")\n    var node = svg.selectAll(\".node\")\n\n    const update = () => {\n\n      var nodes = this.flatten(root)\n      var links = d3.layout.tree().links(nodes)\n\n      // Restart the force layout.\n      force.nodes(nodes)\n        .links(links)\n        .start()\n\n      // Update the links…\n      link = link.data(links, (d) => {\n        return d.target.id\n      })\n\n      // Exit any old links.\n      link.exit().remove()\n\n      // Enter any new links.\n      link.enter().insert(\"line\", \".node\")\n        .attr(\"class\", \"link\")\n        .attr(\"x1\", function(d) { return d.source.x; })\n        .attr(\"y1\", function(d) { return d.source.y; })\n        .attr(\"x2\", function(d) { return d.target.x; })\n        .attr(\"y2\", function(d) { return d.target.y; })\n\n      // Update the nodes…\n      node = node.data(nodes, (d)=> {\n        return d.id\n      }).style(\"fill\", color)\n\n      // Exit any old nodes.\n      node.exit().remove()\n\n      // Enter any new nodes.\n      node.enter().append(\"circle\")\n        .attr(\"class\", \"node\")\n        .attr(\"cx\", function(d) { return d.x })\n        .attr(\"cy\", function(d) { return d.y })\n        .attr(\"r\", function(d) {\n          var size = d.size * 10.0 / root.average\n          size = Math.max(size, 3.0)\n          size = Math.min(size, 15.0)\n          return size\n        })\n        .style(\"fill\", color)\n        .on(\"dblclick\", onDoubleClick)\n        .on(\"click\", (n) => {\n          if (this.props.onNodeClicked) {\n            this.props.onNodeClicked (n)\n          }\n        })\n        .call(force.drag)\n    }\n\n    const tick = () => {\n\n      link.attr(\"x1\", (d) => { return d.source.x })\n          .attr(\"y1\", (d) => { return d.source.y })\n          .attr(\"x2\", (d) => { return d.target.x })\n          .attr(\"y2\", (d) => { return d.target.y })\n\n      node.attr(\"cx\", (d) => { return d.x })\n          .attr(\"cy\", (d) => { return d.y })\n    }\n\n    // Color leaf nodes orange, and packages white or blue.\n    const color = (d) => {\n      return d._children\n        ? \"#3182bd\"\n        : d.children ? \"#c6dbef\" : \"#fd8d3c\"\n    }\n\n    // Toggle children on double-click.\n    const onDoubleClick = (d) => {\n\n      if (!d3.event.defaultPrevented) {\n\n        if (d.children) {\n\n          d._children = d.children\n          d.children = null\n\n        } else {\n\n          d.children = d._children\n          d._children = null\n        }\n\n        update()\n      }\n    }\n\n    update()\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  flatten (parent) {\n\n    const nodes = []\n    var i =0\n\n    const recurse = (node) => {\n\n      if (node.children) {\n\n        node.children.forEach(recurse)\n      }\n\n      if (!node.id) {\n        node.id = ++i\n      }\n      nodes.push(node)\n    }\n\n    recurse(parent)\n\n    return nodes\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  render () {\n\n    return (\n      <div className=\"force-graph\"\n        ref={ (div) => this.container = div }>\n      </div>\n    )\n  }\n}\n\nexport default ForceGraph\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./ForceGraph.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./ForceGraph.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./ForceGraph.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".force-graph {\\n  background-color: #fdfdfd;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  overflow: visible;\\n  height: 100%;\\n  width: 100%; }\\n  .force-graph .node {\\n    cursor: pointer;\\n    stroke: #3182bd;\\n    stroke-width: 1.5px; }\\n  .force-graph .link {\\n    fill: none;\\n    stroke: #9ecae1;\\n    stroke-width: 1.5px; }\\n\", \"\"]);\n","import MultiModelExtensionBase from './Viewer.MultiModelExtensionBase'\n\nexport default MultiModelExtensionBase\n","import EventsEmitter from 'EventsEmitter'\n\nexport default class MultiModelExtensionBase extends\n  EventsEmitter.Composer (Autodesk.Viewing.Extension) {\n\n  /////////////////////////////////////////////////////////\n  // Class constructor\n  //\n  /////////////////////////////////////////////////////////\n  constructor (viewer, options = {}, defaultOptions = {}) {\n\n    super (viewer)\n    // bindings\n    Object.assign(this, options.serviceContext)\n\n    this.onModelCompletedLoad = this.onModelCompletedLoad.bind(this)\n    this.onObjectTreeCreated  = this.onObjectTreeCreated.bind(this)\n    this.onModelRootLoaded    = this.onModelRootLoaded.bind(this)\n    this.onExtensionLoaded    = this.onExtensionLoaded.bind(this)\n    this.onModelActivated     = this.onModelActivated.bind(this)\n    this.onGeometryLoaded     = this.onGeometryLoaded.bind(this)\n    this.onToolbarCreated     = this.onToolbarCreated.bind(this)\n    this.onModelBeginLoad     = this.onModelBeginLoad.bind(this)\n    this.onModelUnloaded      = this.onModelUnloaded.bind(this)\n    this.onSelection          = this.onSelection.bind(this)\n\n    this.__onModelRootLoaded  = this.__onModelRootLoaded.bind(this)\n    this.__onModelActivated   = this.__onModelActivated.bind(this)\n    this.__onModelUnloaded    = this.__onModelUnloaded.bind(this)\n    this.__onModelLoaded      = this.__onModelLoaded.bind(this)\n\n    this.defaultOptions = defaultOptions\n\n    this.options = Object.assign({},\n      defaultOptions,\n      options)\n\n    this.viewer = viewer\n\n    // read the modelQueue to detect currently loaded models\n    // when the extension gets loaded\n    const models = viewer.impl.modelQueue().getModels()\n\n    this.models = models.map((model) => {\n\n      model.guid = model.guid || this.guid()\n\n      return model\n    })\n\n    this.initializeEvents ()\n  }\n\n  /////////////////////////////////////////////////////////\n  // Extension Id\n  //\n  /////////////////////////////////////////////////////////\n  static get ExtensionId() {\n\n    return 'Viewing.Extension.MultiModelExtensionBase'\n  }\n\n  /////////////////////////////////////////////////////////\n  // Load callback\n  //\n  /////////////////////////////////////////////////////////\n  load () {\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Unload callback\n  //\n  /////////////////////////////////////////////////////////\n  unload () {\n\n    this.viewerEvents.forEach((event) => {\n\n      this.viewer.removeEventListener(\n        event.id, this[event.handler])\n    })\n\n    if (this.eventSink) {\n\n      this.eventSink.off('model.activated',\n        this.__onModelActivated)\n\n      this.eventSink.off('model.unloaded',\n        this.__onModelUnloaded)\n\n      this.eventSink.off('model.loaded',\n        this.__onModelLoaded)\n    }\n\n    this.off()\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Reload callback, in case the extension is re-loaded\n  // more than once\n  //\n  /////////////////////////////////////////////////////////\n  reload (options = {}) {\n\n    this.options = Object.assign({},\n      this.defaultOptions,\n      this.options,\n      options)\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when extension gets loaded\n  //\n  /////////////////////////////////////////////////////////\n  onExtensionLoaded (event) {\n\n    //console.log('MultiModelExtensionBase.onExtensionLoaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when the model starts to load\n  // The geometry and instanceTree may not be available\n  // at this time\n  //\n  /////////////////////////////////////////////////////////\n  onModelBeginLoad (event) {\n\n    //console.log('MultiModelExtensionBase.onModelBeginLoad')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Triggered by ModelLoader extension when a model is\n  // selected in a multi-model environment\n  //\n  /////////////////////////////////////////////////////////\n  onModelActivated (event) {\n\n    //console.log('MultiModelExtensionBase.onModelActivated')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when model root node has been loaded\n  // Extensions that do require access to full\n  // model geometry or component tree may use that\n  // event to know a new model has been loaded\n  //\n  /////////////////////////////////////////////////////////\n  __onModelRootLoaded (event) {\n\n    this.viewerEvent([\n\n      Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,\n      Autodesk.Viewing.GEOMETRY_LOADED_EVENT\n\n    ]).then((args) => {\n\n      this.onModelCompletedLoad (args[0])\n    })\n  }\n\n  onModelRootLoaded (event) {\n\n    //console.log('MultiModelExtensionBase.onModelRootLoaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when object tree is fully loaded.\n  // Extensions that are interested in using the\n  // instanceTree need to use that event to make sure\n  // it is available\n  //\n  ////////////////////////////////////////////////////////\n  onObjectTreeCreated (event) {\n\n    //console.log('MultiModelExtensionBase.onObjectTreeCreated')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when geometry is fully loaded\n  //\n  /////////////////////////////////////////////////////////\n  onGeometryLoaded (event) {\n\n    //console.log('MultiModelExtensionBase.onGeometryLoaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked after onObjectTreeCreated and onGeometryLoaded\n  // have both been fired\n  //\n  /////////////////////////////////////////////////////////\n  onModelCompletedLoad (event) {\n\n    //console.log('MultiModelExtensionBase.onModelCompletedLoad')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked once the viewer toolbar has been created\n  //\n  /////////////////////////////////////////////////////////\n  onToolbarCreated (event) {\n\n    //console.log('MultiModelExtensionBase.onToolbarCreated')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Triggered by ModelLoader extension when a model has\n  // been unloaded as per user request\n  //\n  /////////////////////////////////////////////////////////\n  onModelUnloaded (event) {\n\n    //console.log('MultiModelExtensionBase.onModelUnloaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when a model is being selected\n  //\n  /////////////////////////////////////////////////////////\n  onSelection (event) {\n\n    //console.log('MultiModelExtensionBase.onSelection')\n  }\n\n  /////////////////////////////////////////////////////////\n  //Sink Events\n  //\n  /////////////////////////////////////////////////////////\n  __onModelLoaded (event) {\n\n    this.models = [...this.models, event.model]\n\n    this.onModelBeginLoad (event)\n  }\n\n  __onModelActivated (event) {\n\n    this.onModelActivated (event)\n  }\n\n  __onModelUnloaded (event) {\n\n    this.models = this.models.filter((model) => {\n\n      return model.guid !== event.model.guid\n    })\n\n    this.onModelUnloaded(event)\n  }\n\n  /////////////////////////////////////////////////////////\n  // Initialize all events for the extension\n  // Each event will invoke a predefined handler\n  // implemented or not by the derived extension\n  //\n  /////////////////////////////////////////////////////////\n  initializeEvents () {\n\n    if (this.options.eventSink) {\n\n      // event object passed in options\n      this.eventSink = this.options.eventSink\n\n      this.eventSink.on('model.loaded',\n        this.__onModelLoaded)\n\n      this.eventSink.on('model.activated',\n        this.__onModelActivated)\n\n      this.eventSink.on('model.unloaded',\n        this.__onModelUnloaded)\n    }\n\n    this.viewerEvents = [\n      {\n        id: Autodesk.Viewing.EXTENSION_LOADED_EVENT,\n        handler: 'onExtensionLoaded'\n      },\n      {\n        id: Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,\n        handler: 'onObjectTreeCreated'\n      },\n      {\n        id: Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,\n        handler: '__onModelRootLoaded'\n      },\n      {\n        id: Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,\n        handler: 'onModelRootLoaded'\n      },\n      {\n        id: Autodesk.Viewing.GEOMETRY_LOADED_EVENT,\n        handler: 'onGeometryLoaded'\n      },\n      {\n        id: Autodesk.Viewing.TOOLBAR_CREATED_EVENT,\n        handler: 'onToolbarCreated'\n      },\n      {\n        id: Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT,\n        handler: 'onSelection'\n      }\n    ]\n\n    this.viewerEvents.forEach((event) => {\n\n      this.viewerEvent(event.id, this[event.handler])\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  // Async viewer event\n  //\n  /////////////////////////////////////////////////////////\n  viewerEvent (eventId, handler) {\n\n    if (handler) {\n\n      this.viewer.addEventListener (eventId, handler)\n      return\n    }\n\n    const eventIdArray = Array.isArray(eventId)\n      ? eventId : [eventId]\n\n    const eventTasks = eventIdArray.map((id) => {\n      return new Promise ((resolve) => {\n        const __handler = (args) => {\n          this.viewer.removeEventListener (id, __handler)\n          resolve (args)\n        }\n        this.viewer.addEventListener (id, __handler)\n      })\n    })\n\n    return Promise.all (eventTasks)\n  }\n}\n","import PropTypes from 'prop-types'\nimport ReactDOM from 'react-dom'\nimport './WidgetContainer.scss'\nimport React from 'react'\n\nclass WidgetContainer extends React.Component {\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static propTypes = {\n    className: PropTypes.string,\n    showTitle: PropTypes.bool\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static defaultProps = {\n    showTitle: true,\n    className: ''\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  renderTitle () {\n\n    if (!this.props.showTitle) {\n\n      return <div/>\n    }\n\n    if (this.props.renderTitle) {\n\n      return this.props.renderTitle()\n    }\n\n    return (\n      <div className=\"title\">\n        <label>\n          { this.props.title }\n        </label>\n      </div>\n    )\n  }\n\n  ///////////////////////////////////////////////////////////////////\n  //\n  //\n  ///////////////////////////////////////////////////////////////////\n  renderChildren() {\n\n    if (this.props.dimensions) {\n\n      return React.Children.map(this.props.children, (child) => {\n\n        const newProps = Object.assign({},\n          child.props, {\n            dimensions: this.props.dimensions\n          })\n\n        return React.cloneElement(child, newProps)\n      })\n    }\n\n    return this.props.children\n  }\n\n  ///////////////////////////////////////////////////////////////////\n  //\n  //\n  ///////////////////////////////////////////////////////////////////\n  render() {\n\n    const classNames = [\n      'widget-container',\n      ...this.props.className.split(' ')\n    ]\n\n    const height = this.props.showTitle\n      ? 'calc(100% - 40px)'\n      : '100%'\n\n    return (\n      <div className={classNames.join(' ')} style={this.props.style}>\n         { this.renderTitle() }\n        <div className=\"content\" style={{height}}>\n          {this.renderChildren()}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default WidgetContainer\n","import WidgetContainer from './WidgetContainer'\n\nexport default WidgetContainer\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./WidgetContainer.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./WidgetContainer.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./WidgetContainer.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".widget-container {\\n  position: relative;\\n  height: 100%;\\n  width: 100%; }\\n\\n.widget-container > .title {\\n  border-bottom: 1px solid #cdcdcd;\\n  background-color: #f5f5f5;\\n  padding-right: 10px;\\n  color: black;\\n  position: relative;\\n  overflow: hidden;\\n  text-align: left;\\n  height: 40px;\\n  width: 100%; }\\n\\n.widget-container > .title > label {\\n  white-space: nowrap;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  margin-left: 27px;\\n  margin-top: 10px; }\\n\\n.widget-container > .content {\\n  position: relative;\\n  overflow: hidden;\\n  height: 100%;\\n  width: 100%; }\\n\", \"\"]);\n","import ViewerExtensionBase from './Viewer.ExtensionBase'\n\nexport default ViewerExtensionBase\n","import EventsEmitter from 'EventsEmitter'\n\nexport default class ExtensionBase extends\n  EventsEmitter.Composer (Autodesk.Viewing.Extension) {\n\n  /////////////////////////////////////////////////////////\n  // Class constructor\n  //\n  /////////////////////////////////////////////////////////\n  constructor (viewer, options = {}) {\n\n    super(viewer, options)\n\n    this._viewer = viewer\n    this.viewer = viewer\n\n    this._options = options\n    this.options = options\n    Object.assign(this, options.serviceContext)\n  }\n\n  /////////////////////////////////////////////////////////\n  // Extension Id\n  //\n  /////////////////////////////////////////////////////////\n  static get ExtensionId() {\n\n    return 'Viewing.Extension.Base'\n  }\n\n  ///////////////////////////////////////////////////////////\n  //\n  //\n  ///////////////////////////////////////////////////////////\n  static guid(format = 'xxxxxxxxxx') {\n\n    var d = new Date().getTime()\n\n    var guid = format.replace(\n      /[xy]/g,\n      function (c) {\n        var r = (d + Math.random() * 16) % 16 | 0\n        d = Math.floor(d / 16)\n        return (c == 'x' ? r : (r & 0x7 | 0x8)).toString(16)\n      })\n\n    return guid\n  }\n\n  /////////////////////////////////////////////////////////\n  // Load callback\n  //\n  /////////////////////////////////////////////////////////\n  load() {\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Unload callback\n  //\n  /////////////////////////////////////////////////////////\n  unload() {\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Reload callback\n  //\n  /////////////////////////////////////////////////////////\n  reload (options) {\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Async viewer event\n  //\n  /////////////////////////////////////////////////////////\n  viewerEvent (eventId) {\n\n    const eventIdArray = Array.isArray(eventId)\n      ? eventId : [eventId]\n\n    const eventTasks = eventIdArray.map((id) => {\n      return new Promise ((resolve) => {\n        const handler = (args) => {\n          this.viewer.removeEventListener (\n            id, handler)\n          resolve (args)\n        }\n        this.viewer.addEventListener (\n          id, handler)\n      })\n    })\n\n    return Promise.all(eventTasks)\n  }\n}\n"],"sourceRoot":""}