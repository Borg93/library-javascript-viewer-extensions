(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{1098:function(e,t,n){"use strict";n.r(t);n(1099),n(1100),n(1101),n(1102),n(1104)},1099:function(e,t){!function(){function e(){this._events={}}AutodeskNamespace("Viewing.Extension.ConstrainedPlacement"),e.prototype.on=function(e,t){var n=this;return e.split(" ").forEach(function(e){n._events[e]=n._events[e]||[],n._events[e].push(t)}),this},e.prototype.off=function(e,t){var n=this;if(null!=e)return e.split(" ").forEach(function(e){e in n._events!=!1&&(t?n._events[e].splice(n._events[e].indexOf(t),1):n._events[e]=[])}),this;n._events={}},e.prototype.emit=function(e){if(void 0===this._events[e])return null;for(var t=this._events[e].slice(),n=0;n<t.length;++n){var i=t[n].apply(this,Array.prototype.slice.call(arguments,1));if(void 0!==i)return i}},e.prototype.guid=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"xxxxxxxxxxxx",t=(new Date).getTime(),n=e.replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:7&n|8).toString(16)});return n},Viewing.Extension.ConstrainedPlacement.EventsEmitter=e}()},1100:function(e,t){AutodeskNamespace("Viewing.Extension.ConstrainedPlacement"),Viewing.Extension.ConstrainedPlacement.SnapperTool=function(e){var t=this.events=new Viewing.Extension.ConstrainedPlacement.EventsEmitter,n=null,i=null,s=null,r=.1,a=null,o=this,c=e,l=["snapper-tool"],h=!1,p="MeasureTool-snapper-vertex",u="MeasureTool-snapper-face",d="MeasureTool-snapper-edge",v=.05,E=null,g=null,f=null,m=null,x=null,y=null,w=null,T=null,S=null,V=!1,b=!1,P=[];function A(e){return(!P.length||P.indexOf("vertex")>-1)&&(i=e,s="vertex",!t.emit("vertex.snapped",e)&&(o.drawPoint(e),!0))}function R(e){return(!P.length||P.indexOf("edge")>-1)&&(i=e,s="edge",!t.emit("edge.snapped",e)&&(o.drawLine(e),!0))}function C(e){return(!P.length||P.indexOf("face")>-1)&&(i=e,s="face",!t.emit("face.snapped",e)&&(o.drawFace(e),!0))}function H(e,t){this.viewer=e,this.snapper=t,this.lineGeom=new THREE.Geometry,this.circularArc=null,this.circularArcCenter,this.ellipticalArc=null,this.minDist=Number.MAX_VALUE}this.getNames=function(){return l},this.getName=function(){return l[0]},this.activate=function(){h||(V=!1,h=!0,e.toolController.activateTool("snapper-tool"),t.emit("activate"))},this.deactivate=function(){h&&(h=!1,this.destroy(),e.toolController.deactivateTool("snapper-tool"),t.emit("deactivate"))},this.getFace=function(){return f},this.getEdge=function(){return m},this.getVertex=function(){return x},this.getSnapNode=function(){return y},this.getHighlightGeometry=function(){return w},this.getIntersectPoint=function(){return T},this.getFaceNormal=function(){return S},this.getEndPointsInEdge=function(e){for(var t=e.vertices,n=[],i=0;i<t.length;++i){for(var s=!1,r=0;r<t.length;++r)if(r!==i&&t[r].equals(t[i])){s=!0;break}s||n.push(t[i])}return n},this.isSnapped=function(){return b},this.isEqualWithPrecision=function(e,t){return e<=t+.001&&e>=t-.001},this.isEqualVectorsWithPrecision=function(e,t){return e.x<=t.x+.001&&e.x>=t.x-.001&&e.y<=t.y+.001&&e.y>=t.y-.001&&e.z<=t.z+.001&&e.z>=t.z-.001},this.isInverseVectorsWithPrecision=function(e,t){return e.x<=.001-t.x&&e.x>=-t.x-.001&&e.y<=.001-t.y&&e.y>=-t.y-.001&&e.z<=.001-t.z&&e.z>=-t.z-.001},this.snapping3D=function(e){y=e.dbId;var t,n=e.face,i=e.intersectPoint;t=void 0===e.fragId.length?[e.fragId]:e.fragId;for(var s=0;s<t.length;++s){var a=t[s],o=c.impl.getRenderProxy(c.model,a),l=o.geometry;if(f=this.faceSnapping(n,l)){m=this.edgeSnapping(f,i,o),x=this.vertexSnapping(m,i),f.applyMatrix(o.matrixWorld),m.applyMatrix(o.matrixWorld),x.applyMatrix4(o.matrixWorld),T=i.applyMatrix4(o.matrixWorld);var h=(new THREE.Matrix3).getNormalMatrix(o.matrixWorld);if(S=n.normal.applyMatrix3(h).normalize(),b=!0,g<r&&A(x))return;if(E<r&&R(m))return;C(f);break}}},this.setDetectRadius=function(e){r=e},this.addSelectionFilter=function(e){Array.isArray(e)?P=e:P.push(e)},this.removeSelectionFilter=function(e){P=Array.isArray(e)?_.filter(P,function(t){return e.indexOf(t)<0}):_.filter(P,function(t){return t!=e})},this.clearSelectionFilter=function(){P=[]},this.onVertexSnapped=function(e){_onVertexSnapped=e},this.onEdgeSnapped=function(e){_onEdgeSnapped=e},this.onFaceSnapped=function(e){_onFaceSnapped=e},this.onGeometrySelected=function(e){_onGeometrySelected=e},this.onSelectionCancelled=function(e){a=e},this.showTooltip=function(e,t){n.style.visibility=e?"visible":"hidden",n.innerHTML=t},this.faceSnapping=function(e,t){var n=new THREE.Vector3,i=new THREE.Vector3,s=new THREE.Vector3,r=new THREE.Geometry,a=t.attributes;if(void 0!==a.index){var o=a.index.array||t.ib,c=t.vb?t.vb:a.position.array,l=t.vb?t.vbstride:3,h=t.offsets;h&&0!==h.length||(h=[{start:0,count:o.length,index:0}]);for(var p=0;p<h.length;++p)for(var u=h[p].start,d=h[p].count,v=h[p].index,E=u;E<u+d;E+=3){var g=v+o[E],f=v+o[E+1],m=v+o[E+2];n.set(c[g*l],c[g*l+1],c[g*l+2]),i.set(c[f*l],c[f*l+1],c[f*l+2]),s.set(c[m*l],c[m*l+1],c[m*l+2]);var x=THREE.Triangle.normal(n,i,s),y=new THREE.Vector3;if(y.set(c[e.a*l],c[e.a*l+1],c[e.a*l+2]),this.isEqualVectorsWithPrecision(x,e.normal)&&this.isEqualWithPrecision(x.dot(n),e.normal.dot(y))){var w=r.vertices.length;r.vertices.push(n.clone()),r.vertices.push(i.clone()),r.vertices.push(s.clone()),r.faces.push(new THREE.Face3(w,w+1,w+2))}}}return r.vertices.length>0?this.getTrianglesOnSameFace(r,e,c,l):null},this.getTrianglesOnSameFace=function(e,t,n,i){var s=!1,r=e.vertices.slice(),a=new THREE.Vector3;a.set(n[t.a*i],n[t.a*i+1],n[t.a*i+2]);var o=new THREE.Vector3;o.set(n[t.b*i],n[t.b*i+1],n[t.b*i+2]);var c=new THREE.Vector3;c.set(n[t.c*i],n[t.c*i+1],n[t.c*i+2]);var l=new THREE.Geometry;l.vertices.push(a),l.vertices.push(o),l.vertices.push(c),l.faces.push(new THREE.Face3(0,1,2));var h=[];do{h=[];for(var p=0;p<r.length;p+=3)if(r[p].equals(a)&&r[p+1].equals(o)&&r[p+2].equals(c))s=!0,h.push(p);else for(var u=0;u<l.vertices.length;u+=3)if(this.trianglesSharedEdge(r[p],r[p+1],r[p+2],l.vertices[u],l.vertices[u+1],l.vertices[u+2])){var d=l.vertices.length;l.vertices.push(r[p].clone()),l.vertices.push(r[p+1].clone()),l.vertices.push(r[p+2].clone()),l.faces.push(new THREE.Face3(d,d+1,d+2)),h.push(p);break}for(var v=h.length-1;v>=0;--v)r.splice(h[v],3)}while(h.length>0);return s?l:null},this.trianglesSharedEdge=function(e,t,n,i,s,r){var a=!1,o=!1,c=!1;return(e.equals(i)||e.equals(s)||e.equals(r))&&(a=!0),(t.equals(i)||t.equals(s)||t.equals(r))&&(o=!0),(n.equals(i)||n.equals(s)||n.equals(r))&&(c=!0),!!(a&o||a&c||o&c)},this.edgeSnapping=function(e,t,n){for(var i=new THREE.Geometry,s=!0,r=!0,a=!0,o=0;o<e.vertices.length;o+=3){for(var c=0;c<e.vertices.length;c+=3)o!==c&&((e.vertices[o].equals(e.vertices[c])||e.vertices[o].equals(e.vertices[c+1])||e.vertices[o].equals(e.vertices[c+2]))&&(e.vertices[o+1].equals(e.vertices[c])||e.vertices[o+1].equals(e.vertices[c+1])||e.vertices[o+1].equals(e.vertices[c+2]))&&(s=!1),(e.vertices[o].equals(e.vertices[c])||e.vertices[o].equals(e.vertices[c+1])||e.vertices[o].equals(e.vertices[c+2]))&&(e.vertices[o+2].equals(e.vertices[c])||e.vertices[o+2].equals(e.vertices[c+1])||e.vertices[o+2].equals(e.vertices[c+2]))&&(r=!1),(e.vertices[o+1].equals(e.vertices[c])||e.vertices[o+1].equals(e.vertices[c+1])||e.vertices[o+1].equals(e.vertices[c+2]))&&(e.vertices[o+2].equals(e.vertices[c])||e.vertices[o+2].equals(e.vertices[c+1])||e.vertices[o+2].equals(e.vertices[c+2]))&&(a=!1));s&&(i.vertices.push(e.vertices[o].clone()),i.vertices.push(e.vertices[o+1].clone())),r&&(i.vertices.push(e.vertices[o].clone()),i.vertices.push(e.vertices[o+2].clone())),a&&(i.vertices.push(e.vertices[o+1].clone()),i.vertices.push(e.vertices[o+2].clone())),s=!0,r=!0,a=!0}var l,h=new THREE.Geometry,p=Number.MAX_VALUE,u=new THREE.Matrix4;u.getInverse(n.matrixWorld),t.applyMatrix4(u);for(var d=0;d<i.vertices.length;d+=2){var v=this.distancePointToLine(t,i.vertices[d],i.vertices[d+1]);v<p&&(p=v,l=d)}return h.vertices.push(i.vertices[l].clone()),h.vertices.push(i.vertices[l+1].clone()),h.vertices=this.getConnectedLineSegmentsOnSameLine(i,h.vertices),E=p,h},this.distancePointToLine=function(e,t,n){var i,s,r=new THREE.Vector3,a=new THREE.Vector3;return r.subVectors(t,e),a.subVectors(n,t),s=r.dot(a),r.subVectors(n,t),(s=-s/r.dot(r))<0?i=e.distanceTo(t):s>1?i=e.distanceTo(n):(r.subVectors(e,t),a.subVectors(e,n),r.cross(a),a.subVectors(n,t),i=Math.sqrt(r.dot(r))/Math.sqrt(a.dot(a))),i},this.getConnectedLineSegmentsOnSameLine=function(e,t){var n=e.vertices.slice(),i=t[0],s=t[1],r=[];do{r=[];for(var a=0;a<n.length;a+=2)if(!n[a].equals(i)||!n[a+1].equals(s))for(var o=0;o<t.length;o+=2)if(n[a].equals(t[o])||n[a+1].equals(t[o])||n[a].equals(t[o+1])||n[a+1].equals(t[o+1])){var c=new THREE.Vector3,l=new THREE.Vector3;if(c.subVectors(t[o],t[o+1]),c.normalize(),l.subVectors(n[a],n[a+1]),l.normalize(),this.isEqualVectorsWithPrecision(c,l)||this.isInverseVectorsWithPrecision(c,l)){r.push(a);break}}for(var h=r.length-1;h>=0;--h)t.push(n[r[h]]),t.push(n[r[h]+1]),n.splice(r[h],2)}while(r.length>0);return t},this.vertexSnapping=function(e,t){for(var n,i=Number.MAX_VALUE,s=0;s<e.vertices.length;++s){var r=t.distanceTo(e.vertices[s]);r<i-.001&&(i=r,n=e.vertices[s].clone())}return g=i,n},this.angleVector2=function(e){return e.x>0&&e.y>=0?Math.atan(e.y/e.x):e.x>=0&&e.y<0?Math.atan(e.y/e.x)+2*Math.PI:e.x<0&&e.y<=0?Math.atan(e.y/e.x)+Math.PI:e.x<=0&&e.y>0?Math.atan(e.y/e.x)+Math.PI:null},H.prototype.onLineSegment=function(e,t,n,i){var s=this.lineGeom.vertices,r=new THREE.Vector3(e,t,0),a=new THREE.Vector3(n,i,0),o=this.snapper.getIntersectPoint(),c=this.snapper.distancePointToLine(o,r,a);c<this.minDist&&(s.splice(0,2,r,a),this.minDist=c)},H.prototype.onCircularArc=function(e,t,n,i,s){var r=this.snapper.getIntersectPoint(),a=new THREE.Vector2(r.x,r.y),o=new THREE.Vector2(e,t),c=a.distanceTo(o);a.sub(o);var l=this.snapper.angleVector2(a);if(c<=s+.1&&c>=s-.1){if(i>n&&l>=n&&l<=i)var h=new THREE.CircleGeometry(s,100,n,i-n);else{if(!(i<n&&(l>=n||l<=i)))return;h=new THREE.CircleGeometry(s,100,n,2*Math.PI-n+i)}h.vertices.splice(0,1),this.circularArc=h,this.circularArcCenter=new THREE.Vector3(e,t,0)}},H.prototype.onEllipticalArc=function(e,t,n,i,s,r,a){var o=this.snapper.getIntersectPoint(),c=new THREE.Vector2(o.x,o.y),l=(c.x-e)*(c.x-e)/(s*s)+(c.y-t)*(c.y-t)/(r*r),h=new THREE.Vector2(e,t);c.sub(h),c.x*=r,c.y*=s;var p=this.snapper.angleVector2(c);if(i>2*Math.PI&&(i=2*Math.PI),l<=1.1&&l>=.9&&(i>n&&p>=n&&p<=i||i<n&&(p>=n||p<=i))){var u=new THREE.EllipseCurve(e,t,s,r,n,i,!1),d=new THREE.Path(u.getPoints(50)).createPointsGeometry(50);this.isEqualWithPrecision(i-n,2*Math.PI)||d.vertices.pop(),this.ellipticalArc=d}},this.snapping2D=function(e){if(e){var t=e.intersectPoint,n=e.fragId;if(void 0!==n){Array.isArray(n)||(n=[n]),T=t;for(var i=new H(c,this),s=0;s<n.length;++s){var r=c.impl.getRenderProxy(c.model,n[s]);new Autodesk.Viewing.Private.VertexBufferReader(r.geometry).enumGeomsForObject(e.dbId,i)}i.circularArc?(this.drawArc(i.circularArc,i.circularArcCenter),i.circularArc=null,x=i.circularArcCenter,w=SNAP_VERTEX,b=!0):i.ellipticalArc?(this.drawArc(i.ellipticalArc),i.ellipticalArc=null):i.lineGeom.vertices.length&&(v=this.getDetectRadius(t),t.distanceTo(i.lineGeom.vertices[0])<v?(x=i.lineGeom.vertices[0],this.drawPoint(x),w=SNAP_VERTEX):t.distanceTo(i.lineGeom.vertices[1])<v?(x=i.lineGeom.vertices[1],this.drawPoint(x),w=SNAP_VERTEX):(m=i.lineGeom,this.drawLine(m),w=SNAP_EDGE),b=!0)}}},this.createOverlay=function(e){c.impl.createOverlayScene(e)},this.addOverlay=function(e,t){c.impl.addOverlay(e,t)},this.clearOverlay=function(){c.impl.overlayScenes[u]&&c.impl.clearOverlay(u),c.impl.overlayScenes[p]&&c.impl.clearOverlay(p),c.impl.overlayScenes[d]&&c.impl.clearOverlay(d)},this.drawFace=function(e){this.createOverlay(u);var t=new THREE.MeshPhongMaterial({color:52224,ambient:52224,opacity:.5,transparent:!0,depthTest:!1,depthWrite:!1,side:THREE.DoubleSide}),n=new THREE.Mesh(e,t,!0);this.addOverlay(u,n)},this.drawLine=function(e){this.createOverlay(d);var t=new THREE.LineBasicMaterial({color:52224,opacity:.5,linewidth:10,depthTest:!1,depthWrite:!1}),n=new THREE.Line(e,t,THREE.LinePieces);this.addOverlay(d,n)},this.drawArc=function(e,t){this.createOverlay(d);var n=new THREE.LineBasicMaterial({color:52224,opacity:.5,linewidth:10,depthTest:!1,depthWrite:!1}),i=new THREE.Line(e,n);t&&i.position.set(t.x,t.y,t.z),this.addOverlay(d,i)},this.drawPoint=function(e){this.createOverlay(p);var t=new THREE.MeshPhongMaterial({color:52224,ambient:52224,opacity:.5,transparent:!0,depthTest:!1,depthWrite:!1}),n=new THREE.Mesh(new THREE.SphereGeometry(2),t);n.position.set(e.x,e.y,e.z),this.setPointScale(n),this.addOverlay(p,n)},this.setPointScale=function(e){var t=c.navigation,n=t.getCamera(),i=t.getEyeVector(),s=t.getPosition(),r=e.position.clone(),a=n.isPerspective?r.sub(s).dot(i.normalize()):t.getEyeVector().length(),o=t.getVerticalFov(),l=2*a*Math.tan(THREE.Math.degToRad(.5*o)),h=t.getScreenViewport(),p=window.devicePixelRatio||1,u=5*l/(h.height*p);e.scale.x=u,e.scale.y=u,e.scale.z=u},this.updatePointScale=function(){var e=c.impl.overlayScenes[p];if(e)for(var t=e.scene,n=0;n<t.children.length;n++){var i=t.children[n];i&&this.setPointScale(i)}},this.getDetectRadius=function(e){var t=c.navigation,n=t.getCamera(),i=t.getEyeVector(),s=t.getPosition(),r=e.clone(),a=n.isPerspective?r.sub(s).dot(i.normalize()):t.getEyeVector().length(),o=t.getVerticalFov(),l=2*a*Math.tan(THREE.Math.degToRad(.5*o)),h=t.getScreenViewport(),p=window.devicePixelRatio||1,u=1.5*l/(h.height*p);return c.impl.is2d&&(u*=10),u},this.drawIntersectFace=function(e,t,n,i){this.createOverlay();var s=new THREE.Vector3;s.set(t[e.a*n],t[e.a*n+1],t[e.a*n+2]);var r=new THREE.Vector3;r.set(t[e.b*n],t[e.b*n+1],t[e.b*n+2]);var a=new THREE.Vector3;a.set(t[e.c*n],t[e.c*n+1],t[e.c*n+2]);var o=new THREE.Geometry;o.vertices.push(s),o.vertices.push(r),o.vertices.push(a),o.faces.push(new THREE.Face3(0,1,2));var c=new THREE.Mesh(o,i.material,!0);c.matrixWorld=i.matrixWorld,this.addOverlay(c)},this.handleWheelInput=function(e){return this.updatePointScale(),!1},this.handleButtonDown=function(e,n){return V=!0,t.emit("geometry.selected",{geometry:i,type:s}),!1},this.handleButtonUp=function(e,t){return V=!1,!1},this.handleMouseMove=function(e){if(n.style.top=e.canvasY-30+"px",n.style.left=e.canvasX+"px",!V){i=null,this.clearOverlay(),f=null,m=null,x=null,b=!1;var t=c.impl.hitTest(e.canvasX,e.canvasY,!1);t&&t.intersectPoint&&(t.face?this.snapping3D(t):this.snapping2D(t))}return!1},this.handleKeyDown=function(e,t){return 27==t&&(a&&(a(),a=null),!0)},this.destroy=function(){this.clearOverlay(),c.impl.removeOverlayScene(u),c.impl.removeOverlayScene(p),c.impl.removeOverlayScene(d),n.style.visibility="hidden"},e.toolController.registerTool(this),(n=document.createElement("div")).className="snapper-tooltip",e.container.appendChild(n)}},1101:function(e,t){!function(){"use strict";function e(e,t){this.events=new Viewing.Extension.ConstrainedPlacement.EventsEmitter,Autodesk.Viewing.UI.DockingPanel.call(this,e.container,"constrained-placement-panel","Constrained Placement"),this.container.classList.add("constrained-placement"),this.snapper=t.snapper,this.snapper.events.on("activate",this.onSnapperActivated.bind(this)),this.snapper.events.on("deactivate",this.onSnapperDeactivated.bind(this)),this.snapper.events.on("edge.snapped",this.onEdgeSnapped.bind(this)),this.snapper.events.on("geometry.selected",this.onGeometrySelected.bind(this)),this.viewer=e;var n=document.createElement("div");n.className="content",this.selectXBtn=document.createElement("button"),this.selectYBtn=document.createElement("button"),this.selectPtBtn=document.createElement("button"),this.OKBtn=document.createElement("button"),this.selectXBtn.innerHTML="Select X Axis",this.selectYBtn.innerHTML="Select Y Axis",this.selectPtBtn.innerHTML="Select Origin",this.OKBtn.innerHTML="OK",this.selectXBtn.onclick=this.onSelectXAxis.bind(this),this.selectYBtn.onclick=this.onSelectYAxis.bind(this),this.selectPtBtn.onclick=this.onSelectOrigin.bind(this),this.OKBtn.onclick=this.onOK.bind(this),this.OKBtn.className="ok",this.xInput=document.createElement("input"),this.yInput=document.createElement("input"),this.xInput.setAttribute("type","text"),this.yInput.setAttribute("type","text"),n.appendChild(this.selectXBtn),n.appendChild(this.xInput),n.appendChild(document.createElement("hr")),n.appendChild(this.selectYBtn),n.appendChild(this.yInput),n.appendChild(document.createElement("hr")),n.appendChild(this.selectPtBtn),n.appendChild(this.OKBtn),this.container.appendChild(n),this.xInput.oninput=this.onDistXChanged.bind(this),this.yInput.oninput=this.onDistYChanged.bind(this)}AutodeskNamespace("Viewing.Extension.ConstrainedPlacement"),e.prototype=Object.create(Autodesk.Viewing.UI.DockingPanel.prototype),e.prototype.constructor=e;var t=e.prototype;function n(e){var t=new THREE.Vector3;return t.subVectors(e.vertices[1],e.vertices[0]),t.normalize(),t}t.onSelectXAxis=function(){this.snapper.clearSelectionFilter(),this.snapper.addSelectionFilter("edge"),this.snapper.activate(),this.snapper.showTooltip(!0,"Select X Axis"),this.mode="SELECT_X_AXIS"},t.onSelectYAxis=function(){this.snapper.clearSelectionFilter(),this.snapper.addSelectionFilter("edge"),this.snapper.activate(),this.snapper.showTooltip(!0,"Select Y Axis"),this.mode="SELECT_Y_AXIS"},t.onSelectOrigin=function(){this.snapper.clearSelectionFilter(),this.snapper.addSelectionFilter("vertex"),this.snapper.activate(),this.snapper.showTooltip(!0,"Select Origin"),this.mode="SELECT_ORIGIN"},t.onSnapperActivated=function(){},t.onSnapperDeactivated=function(){},t.onEdgeSnapped=function(e){switch(this.mode){case"SELECT_X_AXIS":n(e);break;case"SELECT_Y_AXIS":var t=n(e);if(this.xAxis){var i=Math.abs(t.angleTo(this.xAxis));return!(Math.abs(i-Math.PI/2)<.01)}}},t.onGeometrySelected=function(e){if(e.geometry){switch(this.mode){case"SELECT_X_AXIS":this.xAxis=n(e.geometry);break;case"SELECT_Y_AXIS":this.yAxis=n(e.geometry);break;case"SELECT_ORIGIN":this.origin=e.geometry}this.snapper.deactivate()}},t.onSelection=function(e){e.selections.length&&this.viewer.clearSelection()},t.onDistXChanged=function(e){this.xDist=e.target.value},t.onDistYChanged=function(e){this.yDist=e.target.value},t.onOK=function(){this.events.emit("complete",{origin:this.origin,xAxis:this.xAxis,yAxis:this.yAxis,xDist:this.xDist,yDist:this.yDist}),this.setVisible(!1)},t.setVisible=function(e){Autodesk.Viewing.UI.DockingPanel.prototype.setVisible.call(this,e),!e&&this.snapper&&(this.viewer.removeEventListener(Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT,this.onSelection.bind(this)),this.viewer.disableHighlight(!1),this.snapper.deactivate()),e&&(this.viewer.addEventListener(Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT,this.onSelection.bind(this)),this.viewer.disableHighlight(!0))},Viewing.Extension.ConstrainedPlacement.Panel=e}()},1102:function(e,t,n){var i=n(1103);"string"==typeof i&&(i=[[e.i,i,""]]);n(28)(i,{});i.locals&&(e.exports=i.locals)},1103:function(e,t,n){(e.exports=n(27)(!1)).push([e.i,".constrained-placement {\n  height: 208px;\n  width: 238px;\n  resize: auto;\n  left: 10px;\n  top: 10px;\n}\n\n.constrained-placement > .content {\n  padding: 4px;\n}\n\n.constrained-placement > .content button {\n  margin: 4px;\n  float: left;\n  width: 90px;\n}\n\n.constrained-placement > .content button.ok {\n  position: absolute;\n  bottom: 10px;\n  right: 10px;\n  width: 34px;\n}\n\n.constrained-placement > .content input {\n  width: calc(100% - 130px);\n  margin: 4px;\n  float: left;\n}\n\n.constrained-placement > .content hr {\n  border: none;\n  width: 100%;\n  margin: 0;\n}\n\ndiv.snapper-tooltip {\n  pointer-events:none;\n  position:absolute;\n  font-family:arial;\n  visibility:hidden;\n  font-size:16px;\n  color: #1df02a;\n}\n",""])},1104:function(e,t){!function(){"use strict";function e(e,t){this.events=new Viewing.Extension.ConstrainedPlacement.EventsEmitter,Autodesk.Viewing.Extension.call(this,e,t),this.options=t,this.viewer=e,this.createUI(),this.snapper=new Viewing.Extension.ConstrainedPlacement.SnapperTool(e),this.snapper.setDetectRadius(.15)}AutodeskNamespace("Viewing.Extension.ConstrainedPlacement"),e.prototype=Object.create(Autodesk.Viewing.Extension.prototype),e.prototype.constructor=e;var t=e.prototype;t.load=function(){return console.log("Viewing.Extension.ConstrainedPlacement loaded"),!0},t.unload=function(){return console.log("Viewing.Extension.ConstrainedPlacement unloaded"),this.parentControl.removeControl(this.control),this.panel&&this.panel.setVisible(!1),!0},t.onToolbarCreated=function(){var e=new Autodesk.Viewing.UI.Button("toolbar-constrained-placement");e.icon.style.fontSize="24px",e.icon.className="fa fa-crosshairs",e.setToolTip("Constrained Placement"),e.onClick=this.onButtonClicked.bind(this);var t=this.viewer.getToolbar(!0);this.parentControl=t.getControl(this.options.parentControl),this.parentControl.addControl(e),this.control=e},t.createPanel=function(){var e=new Viewing.Extension.ConstrainedPlacement.Panel(this.viewer,{snapper:this.snapper}),t=this.events;return e.events.on("complete",function(e){t.emit("complete",e),console.log(e)}),e},t.onButtonClicked=function(){this.panel=this.panel||this.createPanel(),this.panel.setVisible(!0)},Autodesk.Viewing.theExtensionManager.registerExtension("Viewing.Extension.ConstrainedPlacement",e)}()}}]);
//# sourceMappingURL=86.js.map