(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{705:function(n,e,o){"use strict";o.r(e);var t=o(706);e.default=t.a},706:function(n,e,o){"use strict";(function(n){o.d(e,"a",function(){return S});var t=o(30),a=o.n(t),r=o(43),i=o.n(r),l=o(2),s=o.n(l),p=o(3),d=o.n(p),c=o(5),u=o.n(c),f=o(4),m=o.n(f),h=o(50),g=o.n(h),x=o(6),v=o.n(x),b=o(491),y=o.n(b),k=o(468),w=(o(37),o(579)),I=(o(1),o(707),o(0)),D=o.n(I),S=function(e){function o(n){var e;return s()(this,o),(e=u()(this,m()(o).call(this,n))).onDrop=e.onDrop.bind(g()(e)),e.dmAPI=e.props.api,e.state={rootFilename:null},e}var t;return v()(o,e),d()(o,[{key:"guid",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"xxxxxxxxxx",e=(new Date).getTime(),o=n.replace(/[xy]/g,function(n){var o=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==n?o:7&o|8).toString(16)});return o}},{key:"onKeyDown",value:function(n){13===n.keyCode&&(n.stopPropagation(),n.preventDefault())}},{key:"onRootFilenameChanged",value:function(n){this.assignState({rootFilename:n.target.value})}},{key:"isComposite",value:function(e){var o=this;return new n(function(n){var t=e.name,a=t.substring(0,t.length-4);if(t.endsWith(".zip")){o.dialogSvc.on("dialog.close",function e(t){return o.dialogSvc.off("dialog.close",e),n("OK"===t&&(o.state.rootFilename||a))}),o.assignState({rootFilename:null}),o.dialogSvc.setState({className:"composite-dlg",title:"Composite Model",onRequestClose:function(){},captionCancel:"NO",captionOK:"Yes",content:D.a.createElement("div",null,D.a.createElement("p",null,"Are you uploading a composite model?"),D.a.createElement(y.a,{"data-placeholder":"Specify root filename: ".concat(a),onChange:function(n){return o.onRootFilenameChanged(n)},onKeyDown:function(n){return o.onKeyDown(n)},html:o.state.rootFilename,className:"root-filename"})),open:!0})}else n(!1)})}},{key:"onDrop",value:(t=i()(a.a.mark(function n(e){var o,t,r,i,l,s,p,d,c,u,f,m=this;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.isComposite(e[0]);case 2:return o=n.sent,t=this.guid(),r=e[0],this.props.onInitUpload&&this.props.onInitUpload({uploadId:t,file:r}),n.next=8,this.socketSvc.getSocketId();case 8:i=n.sent,l=this.props,s=l.hubId,p=l.projectId,d=l.folderId,c=l.nodeId,u=Object.assign({socketId:i,uploadId:t,nodeId:c,hubId:s},o?{rootFilename:o}:null),f={progress:function(n){m.props.onProgress&&m.props.onProgress({uploadId:t,percent:n,file:r})},data:u},this.dmAPI.upload(p,d,r,f);case 13:case"end":return n.stop()}},n,this)})),function(n){return t.apply(this,arguments)})},{key:"render",value:function(){return D.a.createElement("div",{className:"dm-uploader"},D.a.createElement(w.a,{className:"content",onDrop:this.onDrop,multiple:!1},D.a.createElement("p",null,D.a.createElement("span",{className:"fa fa-cloud-upload"}),"Drop a file here or click to browse ...")))}}]),o}(k.a)}).call(this,o(31))},707:function(n,e,o){var t=o(708);"string"==typeof t&&(t=[[n.i,t,""]]);o(27)(t,{});t.locals&&(n.exports=t.locals)},708:function(n,e,o){(n.exports=o(26)(!1)).push([n.i,".dm-uploader {\n  overflow: hidden;\n  height: 100%; }\n  .dm-uploader .title > span {\n    position: relative;\n    margin-right: 6px;\n    font-size: 24px;\n    color: #8e8e8e;\n    top: 2px; }\n  .dm-uploader .content {\n    transition-property: all;\n    transition-timing-function: ease;\n    transition-duration: 0.5s;\n    transition-delay: 0.0s;\n    border: 2px solid #d2d2d2;\n    padding: 8px 10px 0 0;\n    background: white;\n    cursor: pointer;\n    height: 90px; }\n    .dm-uploader .content p {\n      padding: 10px; }\n      .dm-uploader .content p span {\n        left: calc(50% - 40px);\n        position: absolute;\n        font-size: 81px;\n        color: #9b9b9b;\n        opacity: 0.2;\n        z-index: 0;\n        top: 8px; }\n  .dm-uploader .content:hover {\n    border-color: #1bb1f4; }\n\n.composite-dlg .root-filename {\n  border: 1px solid #d2d2d2;\n  background: #fdfdfd;\n  border-radius: 3px;\n  padding-left: 6px;\n  text-align: left; }\n",""])}}]);
//# sourceMappingURL=98.js.map