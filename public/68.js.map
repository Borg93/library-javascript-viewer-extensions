{"version":3,"sources":["webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.IoT/IoT.HotSpot.PropertyPanel.js","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.IoT/Data.scss?f765","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.IoT/Data.scss","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.IoT/IoT.scss?60bb","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.IoT/IoT.scss","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.IoT/Viewing.Extension.IoT.js","webpack:///./src/client/components/Viewer/Extensions/Dynamic/Viewing.Extension.IoT/index.js","webpack:///./node_modules/@babel/runtime/helpers/get.js","webpack:///./src/client/components/WidgetContainer/WidgetContainer.js","webpack:///./src/client/components/WidgetContainer/index.js","webpack:///./src/client/components/WidgetContainer/WidgetContainer.scss?a31d","webpack:///./src/client/components/WidgetContainer/WidgetContainer.scss","webpack:///./node_modules/@babel/runtime/helpers/superPropBase.js","webpack:///./src/client/components/Viewer/Extensions/Viewer.ExtensionBase/index.js","webpack:///./src/client/components/Viewer/Extensions/Viewer.ExtensionBase/Viewer.ExtensionBase.js","webpack:///./src/client/components/Viewer/Viewer.Commands/Viewer.Command/Viewer.Command.Tool.js","webpack:///./src/client/components/Viewer/Viewer.Commands/Viewer.Command/Viewer.Command.js","webpack:///./src/client/components/Viewer/Viewer.Commands/Viewer.Command/index.js"],"names":["PropertyPanel","container","id","title","_this","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default","this","_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default","_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default","call","$","addClass","dockRight","properties","_this2","titleBar","document","createElement","className","titleTextId","guid","titleImgId","html","concat","append","addEventListener","event","movedSinceLastClick","onTitleClick","onTitleDoubleClick","text","options","localizeTitle","attr","Autodesk","Viewing","i18n","translate","removeAttr","nodeId","_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_6___default","prototype","metaProperty","tree","getElementForNode","name","value","category","parent","createElement_","type","myRootContainer","localizeCategory","localize","localizeProperty","_this3","removeAllProperties","forEach","prop","addMetaProperty","show","length","property","nameId","setAttribute","textContent","separator","appendChild","dataType","createTextProperty","href","createLinkProperty","join","createImageProperty","createFileProperty","window","open","downloadURI","filename","UI","format","arguments","undefined","d","Date","getTime","replace","c","r","Math","random","floor","toString","uri","link","download","click","content","__webpack_require__","module","i","locals","exports","push","IoTExtension","viewer","classCallCheck_default","possibleConstructorReturn_default","getPrototypeOf_default","onSensorEvent","bind","assertThisInitialized_default","onSelection","react","hotSpotCommand","HotSpotCommand","parentControl","hotspots","animate","panel","HotSpotPropertyPanel","controlledHotspot","on","hotspot","data","controlled","hide","state","getState","setProperties","setVisible","restoreState","viewerState","Toolkit","isolateFull","isolateIds","stateHotSpots","map","Object","assign","active","setState","activeItem","socketSvc","connect","timeout","graphData","_i","_Object$keys","keys","key","threshold","passThreshold","clearTimeout","setData","strokeColor","fillColor","stateHostSpots","filter","toConsumableArray_default","setTimeout","loadDynamicExtension","toolbar","removedControls","retargetedControls","buildMenu","menu","item","toLowerCase","target","fitToView","eventTool","EventTool","activate","pointer","AGGREGATE_SELECTION_CHANGED_EVENT","MODEL_ROOT_LOADED_EVENT","e","loader","pushRenderExtension","deactivate","selections","clientToWorld","canvasX","canvasY","hex","alpha","test","substring","split","Error","react_default","a","_this4","items","style","backgroundColor","hexToRgbA","border","onClick","onItemClicked","WidgetContainer","renderTitle","showTitle","es","orientation","flex","propagateDimensions","renderOnResize","minSize","Viewing_Extension_IoT_IoTGraphContainer","tags","ExtensionBase","IoTGraphContainer","_this$props","props","dimensions","threshold1","temperature","threshold2","acceleration","threshold3","lux","value1","value2","value3","IoT_Graph","randomRange","randomBase","tagId","max","min","React","Component","theExtensionManager","registerExtension","ExtensionId","__webpack_exports__","superPropBase","_get","receiver","Reflect","get","base","desc","getOwnPropertyDescriptor","Children","children","child","newProps","cloneElement","classNames","height","renderChildren","PropTypes","string","bool","getPrototypeOf","object","hasOwnProperty","_Viewer_ExtensionBase__WEBPACK_IMPORTED_MODULE_0__","ViewerExtensionBase","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default","_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default","_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default","_viewer","_options","_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default","serviceContext","eventId","eventTasks","Array","isArray","Promise","resolve","handler","args","removeEventListener","all","EventsEmitter","Composer","Extension","CommandTool","toolName","commandId","toolController","registerTool","activateTool","emit","deactivateTool","button","keyCode","ViewerCommand","commandTool","tool","off","control","ViewerToolkit","createButton","icon","caption","viewerToolbar","getToolbar","ControlGroup","addControl"],"mappings":"iRAMqBA,cAMnB,SAAAA,EAAaC,EAAWC,EAAIC,GAAO,IAAAC,EAAA,OAAAC,IAAAC,KAAAN,GACjCI,EAAAG,IAAAD,KAAAE,IAAAR,GAAAS,KAAAH,KAAML,EAAWC,EAAIC,IAErBO,EAAEN,EAAKH,WAAWU,SAAS,iBAC3BD,EAAEN,EAAKH,WAAWU,SAAS,OAE3BP,EAAKH,UAAUW,WAAY,EAE3BR,EAAKS,WAAa,GAReT,oEAenBD,GAAO,IAAAW,EAAAR,KACjBS,EAAWC,SAASC,cAAc,OAEtCF,EAASG,UAAY,oBAErBZ,KAAKa,YAAcC,IAEnBd,KAAKe,WAAaD,IAElB,IAAIE,EAAI,qBAAAC,OACMjB,KAAKe,WADX,8BAAAE,OAEKjB,KAAKa,YAFV,8CAAAI,OAGFpB,EAHE,wBAqBR,OAdAO,EAAEK,GAAUS,OAAOF,GAEnBhB,KAAKmB,iBAAiBV,EAAU,QAAS,SAACW,GACnCZ,EAAKa,qBACRb,EAAKc,aAAaF,GAGpBZ,EAAKa,qBAAsB,IAG7BrB,KAAKmB,iBAAiBV,EAAU,WAAY,SAACW,GAC3CZ,EAAKe,mBAAmBH,KAGnBX,mCAOCe,EAAMC,GACVA,GAAWA,EAAQC,eACrBtB,EAAC,IAAAa,OAAKjB,KAAKa,cAAec,KAAK,YAAaH,GAE5CA,EAAOI,SAASC,QAAQC,KAAKC,UAAUP,IAEvCpB,EAAC,IAAAa,OAAKjB,KAAKa,cAAemB,WAAW,aAGvC5B,EAAC,IAAAa,OAAKjB,KAAKa,cAAeW,KAAKA,6CAOdS,GACjBC,IAAAhC,IAAAR,EAAAyC,WAAA,oBAAAnC,MAAAG,KAAAH,KAAwBiC,GAExBjC,KAAKiC,OAASA,0CAOCG,EAAcX,GAO7B,GANczB,KAAKqC,KAAKC,kBAAkB,CACxCC,KAAMH,EAAaG,KACnBC,MAAOJ,EAAaI,MACpBC,SAAUL,EAAaK,WAIvB,OAAO,EAGT,IAAIC,EAAS,KAwBb,OAtBIN,EAAaK,UACfC,EAAS1C,KAAKqC,KAAKC,kBAAkB,CACnCC,KAAMH,EAAaK,cAInBC,EAAS1C,KAAKqC,KAAKM,eAAe,CAChCJ,KAAMH,EAAaK,SACnBG,KAAM,YAER5C,KAAKqC,KAAKQ,gBACVpB,GAAWA,EAAQqB,iBAAmB,CAAEC,UAAU,GAAS,OAG7DL,EAAS1C,KAAKqC,KAAKQ,gBAGrB7C,KAAKqC,KAAKM,eACRP,EACAM,EACAjB,GAAWA,EAAQuB,iBAAmB,CAAED,UAAU,GAAS,OAEtD,wCAOMxC,GAAY,IAAA0C,EAAAjD,KAGzBA,KAAKkD,sBAEL3C,EAAW4C,QAAQ,SAACC,GAClBH,EAAKI,gBAAgBD,KAGvBpD,KAAKO,WAAaA,qCAOR+C,GACV,IAAKtD,KAAKO,aAAeP,KAAKO,WAAWgD,OACvC,OAAArB,IAAAhC,IAAAR,EAAAyC,WAAA,aAAAnC,MAAAG,KAAAH,MAAwB,GAG1BkC,IAAAhC,IAAAR,EAAAyC,WAAA,aAAAnC,MAAAG,KAAAH,KAAiBsD,2CAOFE,EAAUd,EAAQjB,GACjC,IAAIc,EAAO7B,SAASC,cAAc,OAE9B6C,EAASC,SACXlB,EAAK3C,GAAK4D,EAASC,QAGrB,IAAIjC,EAAOgC,EAASjB,KAEhBd,GAAWA,EAAQsB,WACrBR,EAAKmB,aAAa,YAAalC,GAC/BA,EAAOI,SAASC,QAAQC,KAAKC,UAAUP,IAGzCe,EAAKoB,YAAcnC,EACnBe,EAAK1C,MAAQ2B,EACbe,EAAK3B,UAAY,eAEjB,IAAIgD,EAAYlD,SAASC,cAAc,OACvCiD,EAAUhD,UAAY,YAEtB8B,EAAOmB,YAAYtB,GACnBG,EAAOmB,YAAYD,GAEnB,IAAIpB,EAAQ,KAIZ,IAAKgB,EAASM,SAEZ,MAAO,CAACvB,EADRC,EAAQuB,EAAmBP,EAAUd,IAIvC,OAAQc,EAASM,UACf,IAAK,OACHtB,EAAQuB,EAAmBP,EAAUd,GACrC,MAEF,IAAK,OACHF,EAmER,SAA6BgB,EAAUd,GACrC,IAAI9C,EAAKkB,IAELE,EAAI,kBAAAC,OACKrB,EADL,yDAAAqB,OAEQuC,EAASQ,KAFjB,gCAAA/C,OAGAuC,EAAShB,MAHT,kCAUR,OAFApC,EAAEsC,GAAQxB,OAAOF,GAEVZ,EAAE,IAAMR,GAAI,GAhFLqE,CAAmBT,EAAUd,GACrC,MAEF,IAAK,MACHF,EAmFR,SAA8BgB,EAAUd,GACtC,IAAI9C,EAAKkB,IAELE,EAAO,CAET,YAAcpB,EAAK,+CACL4D,EAASQ,KAAO,KAC9B,aAAeR,EAASQ,KAAO,yCAE/B,UAEAE,KAAK,MAIP,OAFA9D,EAAEsC,GAAQxB,OAAOF,GAEVZ,EAAE,IAAMR,GAAI,GAlGLuE,CAAoBX,EAAUd,GACtC,MAEF,IAAK,OACHF,EAqGR,SAA6BgB,EAAUd,GACrC,IAAI9C,EAAKkB,IAELE,EAAO,CAET,YAAcpB,EAAK,+CACL4D,EAASQ,KAAO,KAC9BR,EAAShB,MACT,OACA,UAEA0B,KAAK,MAIP,OAFA9D,EAAEsC,GAAQxB,OAAOF,GAEVZ,EAAE,IAAMR,GAAI,GApHLwE,CAAmBZ,EAAUd,GAQzC,MAAO,CAACH,EAAMC,6DAOOgB,EAAUpC,sEAC1BoC,EAASM,+DAENN,EAASM,gBACV,gBAKA,gBAKA,eACA,0EALHO,OAAOC,KAAKd,EAASQ,KAAM,6CAM3BO,EAAYf,EAASQ,KAAMR,EAASgB,kKAvO1C5C,SAASC,QAAQ4C,GAAG/E,eAoPtB,SAASqE,EAAoBP,EAAUd,GACrC,IAAIF,EAAQ9B,SAASC,cAAc,OAOnC,OANA6B,EAAMmB,YAAcH,EAAShB,MAC7BA,EAAM3C,MAAQ2D,EAAShB,MACvBA,EAAM5B,UAAY,gBAElB8B,EAAOmB,YAAYrB,GAEZA,EAuET,SAAS1B,IAA6B,IAAvB4D,EAAuBC,UAAApB,OAAA,QAAAqB,IAAAD,UAAA,GAAAA,UAAA,GAAd,aAClBE,GAAI,IAAIC,MAAOC,UAUnB,OARWL,EAAOM,QAChB,QACA,SAAUC,GACR,IAAIC,GAAKL,EAAoB,GAAhBM,KAAKC,UAAiB,GAAK,EAExC,OADAP,EAAIM,KAAKE,MAAMR,EAAI,KACN,KAALI,EAAWC,EAAS,EAAJA,EAAU,GAAMI,SAAS,MAUvD,SAASf,EAAagB,EAAKhD,GACzB,IAAIiD,EAAO9E,SAASC,cAAc,KAClC6E,EAAKC,SAAWlD,EAChBiD,EAAKxB,KAAOuB,EACZC,EAAKE,kDC7VP,IAAAC,EAAcC,EAAQ,MACtB,iBAAAD,MAAA,EAA4CE,EAAAC,EAASH,EAAA,MAExCC,EAAQ,GAARA,CAAsED,EAAA,IACnFA,EAAAI,SAAAF,EAAAG,QAAAL,EAAAI,+BCPAF,EAAAG,QAA2BJ,EAAQ,GAARA,EAA0E,IAErGK,KAAA,CAAcJ,EAAAC,EAAS,4/CAA0/C,2BCCjhD,IAAAH,EAAcC,EAAQ,MACtB,iBAAAD,MAAA,EAA4CE,EAAAC,EAASH,EAAA,MAExCC,EAAQ,GAARA,CAAsED,EAAA,IACnFA,EAAAI,SAAAF,EAAAG,QAAAL,EAAAI,+BCPAF,EAAAG,QAA2BJ,EAAQ,GAARA,EAA0E,IAErGK,KAAA,CAAcJ,EAAAC,EAAS,6oBAA2oB,iRCiB5pBI,cAKJ,SAAAA,EAAaC,EAAQ1E,GAAS,IAAA3B,EAAAsG,IAAApG,KAAAkG,IAC5BpG,EAAAuG,IAAArG,KAAAsG,IAAAJ,GAAA/F,KAAAH,KAAMmG,EAAQ1E,KAET8E,cAAgBzG,EAAKyG,cAAcC,KAAnBC,IAAA3G,IACrBA,EAAK4G,YAAc5G,EAAK4G,YAAYF,KAAjBC,IAAA3G,IAEnBA,EAAK6G,MAAQ7G,EAAK2B,QAAQkF,MAE1B7G,EAAK8G,eAAiB,IAAIC,IAAeV,EAAQ,CAC/CW,cAAerF,EAAQqF,cACvBC,SAAUtF,EAAQsF,SAClBC,SAAS,IAGXlH,EAAKmH,MAAQ,IAAIC,IACfpH,EAAKqG,OAAOxG,UACZG,EAAKgB,OACL,gBAEFhB,EAAKqH,kBAAoB,KAEzBrH,EAAK8G,eAAeQ,GAAG,kBAAmB,SAACC,GACrCA,EAAQC,KAAKC,aACfzH,EAAKqH,kBAAoBE,EAEzBA,EAAQG,UAIZ1H,EAAK8G,eAAeQ,GAAG,kBAAmB,SAACC,GAGzC,IAAMI,EAAQ3H,EAAK6G,MAAMe,WAEzB5H,EAAKmH,MAAMU,cAAcN,EAAQC,KAAK/G,YAItCT,EAAKmH,MAAMW,YAAW,GAEtB9H,EAAKqG,OAAO0B,aACVR,EAAQC,KAAKQ,aAEfC,IAAQC,YACNlI,EAAKqG,OACLkB,EAAQC,KAAKW,YAEf,IAAMrI,EAAKyH,EAAQC,KAAK1H,GAElBsI,EAAgBT,EAAMV,SAASoB,IAAI,SAACd,GACxC,OAAOe,OAAOC,OAAO,GAAIhB,EAAS,CAChCiB,OAAQjB,EAAQzH,KAAOA,MAI3BE,EAAK6G,MAAM4B,SAAS,CAClBC,WAAYnB,EAAQC,KACpBP,SAAUmB,MAIdpI,EAAK2I,UAAUC,UA7Da,OAqE5B5I,EAAK2I,UAAUrB,GANM,CACnB,sBACA,qBACA,cAG6BlD,KAAK,KAClCpE,EAAKyG,eAEPzG,EAAK6I,QAAU,KAxEa7I,6DA+EfwH,GAAM,IAAA9G,EAAAR,KAWnB,GAAKA,KAAKmH,kBAAV,CAIA,IAAMM,EAAQzH,KAAK2G,MAAMe,WAEnBc,EAAaf,EAAMe,WAQzB,GANIA,GAAeA,EAAW5I,KAAOI,KAAKmH,kBAAkBvH,IAC1DI,KAAK2G,MAAM4B,SAAS,CAClBK,UAAWtB,IApBO,SAACA,GACrB,QAAAuB,EAAA,EAAAC,EAAkBV,OAAOW,KAAKzB,GAA9BuB,EAAAC,EAAAvF,OAAAsF,IAAqC,CAAhC,IAAMG,EAAGF,EAAAD,GACZ,GAAIvB,EAAK0B,GAAKxG,OAAS8E,EAAK0B,GAAKC,UAC/B,OAAO,EAIX,OAAO,EAiBLC,CAAc5B,GAAO,CACvB6B,aAAanJ,KAAK2I,SAElB3I,KAAK2I,QAAU,KAEf3I,KAAKmH,kBAAkBiC,QAAQ,CAC7BC,YAAa,UACbC,UAAW,YAGTtJ,KAAKmH,mBACPnH,KAAKmH,kBAAkB7D,OAGzB,IAAMiG,EAAiB9B,EAAMV,SAASyC,OAAO,SAACnC,GAC5C,OAAQA,EAAQE,aAGlBvH,KAAK2G,MAAM4B,SAAS,CAClBxB,SAAQ,GAAA9F,OAAAwI,IACHF,GADG,CAENvJ,KAAKmH,kBAAkBG,cAI3BtH,KAAKmH,kBAAkBiC,QAAQ,CAC7BC,YAAa,UACbC,UAAW,YAGbtJ,KAAK2G,MAAM4B,SAAS,CAClBxB,SAAUU,EAAMV,SAASoB,IAAI,SAACd,GAM5B,OALIA,EAAQzH,KAAOY,EAAK2G,kBAAkBvH,KACxCyH,EAAQgC,YAAc,UACtBhC,EAAQiC,UAAY,WAGfjC,MAINrH,KAAK2I,UACR3I,KAAK2I,QAAUe,WAAW,WACxBlJ,EAAKmI,QAAU,KAEfnI,EAAK2G,kBAAkBK,OAEvBhH,EAAKmG,MAAM4B,SAAS,CAClBxB,SAAUU,EAAMV,SAASyC,OAAO,SAACnC,GAC/B,OAAQA,EAAQE,eAIhBiB,GAAeA,EAAW5I,KAAOY,EAAK2G,kBAAkBvH,IAC1DY,EAAKmG,MAAM4B,SAAS,CAClBC,WAAY,KACZI,UAAW,QAGd,sCASD,IAAA3F,EAAAjD,KA0DN,OAzDAA,KAAKmG,OAAOwD,qBACV,+BAAgC,CAC9BC,QAAS,CACPC,gBAAiB,CACf,aAEFC,mBAAoB,MAM1B9J,KAAKmG,OAAOwD,qBACV,gCAAiC,CAC/BI,UAAW,SAACC,GACV,OAAOA,EAAK7B,IAAI,SAAC8B,GAEf,MAAc,qBADAA,EAAKpK,MAAMqK,cAEhB,CACLrK,MAAO,mBACPsK,OAAQ,WACNpC,IAAQC,YAAY/E,EAAKkD,QACzBlD,EAAKkD,OAAOiE,cAIXH,OAKfjK,KAAKqK,UAAY,IAAIC,IAAUtK,KAAKmG,QAEpCnG,KAAKqK,UAAUE,WAEfvK,KAAKqK,UAAUjD,GAAG,cAAe,SAAChG,GAChC6B,EAAKuH,QAAUpJ,IAGjBpB,KAAKmG,OAAOhF,iBACVS,SAASC,QAAQ4I,kCACjBzK,KAAK0G,aAEP1G,KAAKmG,OAAOhF,iBACVS,SAASC,QAAQ6I,wBAAyB,SAACC,GACzC1H,EAAKxB,QAAQmJ,OAAOtH,MAAK,GACzBL,EAAK2D,eAAe2D,aAGxBvK,KAAK2G,MAAMkE,oBAAoB7K,MAE/BA,KAAK2G,MAAM4B,SAAS,CAClBxB,SAAU/G,KAAKyB,QAAQsF,SAASyC,OAAO,SAACnC,GACtC,OAAQA,EAAQE,gBAIb,mCA0BP,OAFAvH,KAAK4G,eAAekE,cAEb,sCAOI1J,GACX,GAAIA,EAAM2J,YAAc3J,EAAM2J,WAAWxH,OACrBnC,EAAM2J,WAAW,GAEtB/K,KAAKmG,OAAO6E,cACvBhL,KAAKwK,QAAQS,QACbjL,KAAKwK,QAAQU,SACb,yCAUSjB,GACb,IAAMxC,EAAQzH,KAAK2G,MAAMe,WAEnBc,EAAaf,EAAMe,WAEzB,GAAIA,GAAeA,EAAW5I,KAAOqK,EAAKrK,GAAK,CAC7C,IAAMsI,EAAgBT,EAAMV,SAASoB,IAAI,SAACd,GACxC,OAAOe,OAAOC,OAAO,GAAIhB,EAAS,CAChCiB,QAAQ,MAIZtI,KAAK2G,MAAM4B,SAAS,CAClBxB,SAAUmB,EACVM,WAAY,KACZI,UAAW,OAGbb,IAAQC,YAAYhI,KAAKmG,QAIzBnG,KAAKiH,MAAMW,YAAW,GAEtB5H,KAAKmG,OAAOiE,gBACP,CACLpK,KAAKiH,MAAMU,cAAcsC,EAAK1J,YAI9BP,KAAKiH,MAAMW,YAAW,GAEtB5H,KAAKmG,OAAO0B,aACVoC,EAAKnC,aAEPC,IAAQC,YACNhI,KAAKmG,OACL8D,EAAKhC,YAEP,IAAMC,EAAgBT,EAAMV,SAASoB,IAAI,SAACd,GACxC,OAAOe,OAAOC,OAAO,GAAIhB,EAAS,CAChCiB,OAAQjB,EAAQzH,KAAOqK,EAAKrK,OAIhCI,KAAK2G,MAAM4B,SAAS,CAClBxB,SAAUmB,EACVM,WAAYyB,EACZrB,UAAW,0CASNuC,EAAKC,GACd,GAAI,2BAA2BC,KAAKF,GAAM,CACxC,IAAIlG,EAAIkG,EAAIG,UAAU,GAAGC,MAAM,IAQ/B,OANgB,GAAZtG,EAAE1B,SACJ0B,EAAI,CAACA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,KAGvCA,EAAI,KAAOA,EAAEf,KAAK,IAElB,QAAAjD,OAAgBgE,GAAK,GAAM,IAA3B,KAAAhE,OAAmCgE,GAAK,EAAK,IAA7C,KAAAhE,OAAwD,IAAJgE,EAApD,KAAAhE,OAA+DmK,EAA/D,KAGF,MAAM,IAAII,MAAM,mBAAqBL,yCAQrC,OACEM,EAAAC,EAAA/K,cAAA,OAAKC,UAAU,SACb6K,EAAAC,EAAA/K,cAAA,4DAWI,IAAAgL,EAAA3L,KACFyH,EAAQzH,KAAK2G,MAAMe,WAEnBkE,EAAQnE,EAAMV,SAASoB,IAAI,SAACd,GAChC,IAAMiB,EAASjB,EAAQiB,OAAS,UAAY,GAEtCuD,EAAQ,CACZC,gBAAiBH,EAAKI,UAAU1E,EAAQiC,UAAW,IACnD0C,OAAM,aAAA/K,OAAeoG,EAAQgC,cAG/B,OACEoC,EAAAC,EAAA/K,cAAA,OACEqI,IAAG,QAAA/H,OAAUoG,EAAQzH,IACrBgB,UAAW,aAAe0H,EAC1B2D,QAAS,WACPN,EAAKO,cAAc7E,KAGrBoE,EAAAC,EAAA/K,cAAA,OAAKC,UAAU,gBAAgBiL,MAAOA,IACtCJ,EAAAC,EAAA/K,cAAA,aACG0G,EAAQ9E,MAAQ8E,EAAQzH,OAMjC,OACE6L,EAAAC,EAAA/K,cAACwL,EAAA,EAAD,CACEC,YAAa,kBAAMT,EAAKS,eACxBxL,UAAWZ,KAAKY,UAChByL,WAAS,GAGTZ,EAAAC,EAAA/K,cAAC2L,EAAA,EAAD,CAAiBtD,IAAI,YAAYuD,YAAY,cAC3Cd,EAAAC,EAAA/K,cAAC2L,EAAA,EAAD,CAAeE,KAAM,KACnBf,EAAAC,EAAA/K,cAAA,OAAKC,UAAU,uBACZgL,IAGLH,EAAAC,EAAA/K,cAAC2L,EAAA,EAAD,MACAb,EAAAC,EAAA/K,cAAC2L,EAAA,EAAD,CACE1L,UAAU,uBACV6L,qBAAmB,EACnBC,gBAAc,EACdC,QAAS,IAGPlF,EAAMe,YACJiD,EAAAC,EAAA/K,cAACiM,EAAD,CACEC,KAAMpF,EAAMe,WAAWqE,KACvBjE,UAAWnB,EAAMmB,UACjB9H,KAAM2G,EAAMe,WAAW5I,0CAzLrC,MAAO,4CAQP,MAAO,+BA3PgBkN,KAsbrBC,2IACM,IAAAC,EACsChN,KAAKiN,MAA3CnM,EADAkM,EACAlM,KAAM8H,EADNoE,EACMpE,UAAWsE,EADjBF,EACiBE,WAAYL,EAD7BG,EAC6BH,KAG/BM,EAAavE,EACfA,EAAUwE,YAAYnE,UACtB,GAA6B,GAAvB,GAAM9D,KAAKC,UAGfiI,EAAazE,EACfA,EAAU0E,aAAarE,UACvB,GAA8B,IAAvB,GAAM9D,KAAKC,UAGhBmI,EAAa3E,EACfA,EAAU4E,IAAIvE,UACd,IAA8B,IAAvB,GAAM9D,KAAKC,UAEhBqI,EAAS7E,EACXA,EAAUwE,YAAY5K,MACtB,KAEEkL,EAAS9E,EACXA,EAAU0E,aAAa9K,MACvB,KAEEmL,EAAS/E,EACXA,EAAU4E,IAAIhL,MACd,KAEJ,OACEiJ,EAAAC,EAAA/K,cAAA,WACE8K,EAAAC,EAAA/K,cAACiN,EAAA,QAAD,CACEV,WAAYA,EACZjE,UAAWkE,EACX5K,KAAK,cACLsL,YAAa,GACbC,WAAY,GACZC,MAAOlB,EAAK,GACZrK,MAAOiL,EACP3M,KAAMA,EACNkN,IAAK,GACLC,IAAK,IAEPxC,EAAAC,EAAA/K,cAACiN,EAAA,QAAD,CACEV,WAAYA,EACZjE,UAAWoE,EACX9K,KAAK,eACLsL,YAAa,GACbC,WAAY,GACZC,MAAOlB,EAAK,GACZrK,MAAOkL,EACP5M,KAAMA,EACNkN,IAAK,EACLC,IAAK,IAEPxC,EAAAC,EAAA/K,cAACiN,EAAA,QAAD,CACEV,WAAYA,EACZjE,UAAWsE,EACXM,YAAa,GACbC,WAAY,IACZC,MAAOlB,EAAK,GACZrK,MAAOmL,EACPpL,KAAK,MACLzB,KAAMA,EACNkN,IAAK,IACLC,IAAK,YAnEiBC,IAAMC,WA0EtCvM,SAASC,QAAQuM,oBAAoBC,kBACnCnI,EAAaoI,YACbpI,WClhBaqI,EAAA,qDCHf,IAAAC,EAAoB5I,EAAQ,KAE5B,SAAA6I,EAAAtE,EAAA3G,EAAAkL,GAiBA,MAhBA,oBAAAC,iBAAAC,IACA/I,EAAAG,QAAAyI,EAAAE,QAAAC,IAEA/I,EAAAG,QAAAyI,EAAA,SAAAtE,EAAA3G,EAAAkL,GACA,IAAAG,EAAAL,EAAArE,EAAA3G,GACA,GAAAqL,EAAA,CACA,IAAAC,EAAA1G,OAAA2G,yBAAAF,EAAArL,GAEA,OAAAsL,EAAAF,IACAE,EAAAF,IAAAzO,KAAAuO,GAGAI,EAAAtM,QAIAiM,EAAAtE,EAAA3G,EAAAkL,GAAAvE,GAGAtE,EAAAG,QAAAyI,0MCjBMtC,gJA0BF,OAAKnM,KAAKiN,MAAMZ,UAKZrM,KAAKiN,MAAMb,YAENpM,KAAKiN,MAAMb,cAIlBX,EAAAC,EAAA/K,cAAA,OAAKC,UAAU,SACb6K,EAAAC,EAAA/K,cAAA,aACIX,KAAKiN,MAAMpN,QAXV4L,EAAAC,EAAA/K,cAAA,qDAqBM,IAAAb,EAAAE,KAEf,OAAIA,KAAKiN,MAAMC,WAENgB,IAAMc,SAAS7G,IAAInI,KAAKiN,MAAMgC,SAAU,SAACC,GAE9C,IAAMC,EAAW/G,OAAOC,OAAO,GAC7B6G,EAAMjC,MAAO,CACXC,WAAYpN,EAAKmN,MAAMC,aAG3B,OAAOgB,IAAMkB,aAAaF,EAAOC,KAI9BnP,KAAKiN,MAAMgC,0CASlB,IAAMI,EAAU,CACd,oBADcpO,OAAAwI,IAEXzJ,KAAKiN,MAAMrM,UAAU2K,MAAM,OAG1B+D,EAAStP,KAAKiN,MAAMZ,UACtB,oBACA,OAEJ,OACEZ,EAAAC,EAAA/K,cAAA,OAAKC,UAAWyO,EAAWnL,KAAK,KAAM2H,MAAO7L,KAAKiN,MAAMpB,OACnD7L,KAAKoM,cACRX,EAAAC,EAAA/K,cAAA,OAAKC,UAAU,UAAUiL,MAAO,CAACyD,WAC9BtP,KAAKuP,0BAtFcrB,IAAMC,eAA9BhC,cAMe,CACjBvL,UAAW4O,IAAUC,OACrBpD,UAAWmD,IAAUE,WARnBvD,iBAekB,CACpBE,WAAW,EACXzL,UAAW,KA4EAuL,QChGAA,2BCCf,IAAAxG,EAAcC,EAAQ,KACtB,iBAAAD,MAAA,EAA4CE,EAAAC,EAASH,EAAA,MAExCC,EAAQ,GAARA,CAA6DD,EAAA,IAC1EA,EAAAI,SAAAF,EAAAG,QAAAL,EAAAI,8BCPAF,EAAAG,QAA2BJ,EAAQ,GAARA,EAAiE,IAE5FK,KAAA,CAAcJ,EAAAC,EAAS,wpBAAspB,0BCF7qB,IAAA6J,EAAqB/J,EAAQ,GAW7BC,EAAAG,QATA,SAAA4J,EAAApM,GACA,MAAA4E,OAAAjG,UAAA0N,eAAA1P,KAAAyP,EAAApM,IAEA,QADAoM,EAAAD,EAAAC,MAIA,OAAAA,qCCRA,IAAAE,EAAAlK,EAAA,KAEemK,MAAf,sLCAqBjD,cAMnB,SAAAA,EAAa3G,GAAsB,IAAArG,EAAd2B,EAAckD,UAAApB,OAAA,QAAAqB,IAAAD,UAAA,GAAAA,UAAA,GAAJ,GAAI,OAAAqL,IAAAhQ,KAAA8M,IACjChN,EAAAmQ,IAAAjQ,KAAAkQ,IAAApD,GAAA3M,KAAAH,KAAMmG,EAAQ1E,KAET0O,QAAUhK,EACfrG,EAAKqG,OAASA,EAEdrG,EAAKsQ,SAAW3O,EAChB3B,EAAK2B,QAAUA,EACf2G,OAAOC,OAAPgI,IAAAvQ,GAAoB2B,EAAQ6O,gBARKxQ,sDA0CjC,OAAO,mCAQP,OAAO,iCAOD2B,GACN,OAAO,sCAOI8O,GAAS,IAAA/P,EAAAR,KAIdwQ,GAHeC,MAAMC,QAAQH,GAC/BA,EAAU,CAACA,IAEiBpI,IAAI,SAACvI,GACnC,OAAO,IAAI+Q,EAAQ,SAACC,GAMlBpQ,EAAK2F,OAAOhF,iBACVvB,EANc,SAAViR,EAAWC,GACftQ,EAAK2F,OAAO4K,oBACVnR,EAAIiR,GACND,EAAQE,SAOd,OAAOH,EAAQK,IAAIR,oCA1De,IAAvB9L,EAAuBC,UAAApB,OAAA,QAAAqB,IAAAD,UAAA,GAAAA,UAAA,GAAd,aAChBE,GAAI,IAAIC,MAAOC,UAEfjE,EAAO4D,EAAOM,QAChB,QACA,SAAUC,GACR,IAAIC,GAAKL,EAAoB,GAAhBM,KAAKC,UAAiB,GAAK,EAExC,OADAP,EAAIM,KAAKE,MAAMR,EAAI,KACN,KAALI,EAAWC,EAAS,EAAJA,EAAU,GAAMI,SAAS,MAGrD,OAAOxE,sCAlBP,MAAO,uCArBTmQ,EAAcC,SAAStP,SAASC,QAAQsP,+KCDrBC,cACnB,SAAAA,EAAajL,GAAsB,IAAArG,EAAd2B,EAAckD,UAAApB,OAAA,QAAAqB,IAAAD,UAAA,GAAAA,UAAA,GAAJ,GAAI,OAAAyB,IAAApG,KAAAoR,IACjCtR,EAAAuG,IAAArG,KAAAsG,IAAA8K,GAAAjR,KAAAH,QAEKqR,SAAW5P,EAAQ6P,UAExBnL,EAAOoL,eAAeC,aAAtB/K,IAAA3G,IAEAA,EAAK2B,QAAUA,EAEf3B,EAAKqG,OAASA,EATmBrG,0DAiBjC,MAAO,CAACE,KAAKqR,4CAQb,OAAOrR,KAAKqR,4CAQPrR,KAAKsI,SACRtI,KAAKsI,QAAS,EAEdtI,KAAKmG,OAAOoL,eAAeE,aAAazR,KAAKqR,UAE7CrR,KAAK0R,KAAK,WAAY1R,4CASpBA,KAAKsI,SACPtI,KAAKsI,QAAS,EAEdtI,KAAKmG,OAAOoL,eAAeI,eAAe3R,KAAKqR,UAE/CrR,KAAK0R,KAAK,aAAc1R,iDAQToB,EAAOwQ,GACxB,OAAO5R,KAAK0R,KAAK,cAAetQ,EAAOwQ,2CAOxBxQ,GACf,OAAOpB,KAAK0R,KAAK,YAAatQ,yCAOjBA,EAAOyQ,GACpB,OAAO7R,KAAK0R,KAAK,UAAWtQ,EAAOyQ,UA9EEZ,cCEpBa,cACnB,SAAAA,EAAa3L,GAAsB,IAAArG,EAAd2B,EAAckD,UAAApB,OAAA,QAAAqB,IAAAD,UAAA,GAAAA,UAAA,GAAJ,GAAI,OAAAyB,IAAApG,KAAA8R,IACjChS,EAAAuG,IAAArG,KAAAsG,IAAAwL,GAAA3R,KAAAH,QAEK+R,YAAc,IAAIX,EAAYjL,EAAQ1E,GAE3C3B,EAAKwR,UAAY7P,EAAQ6P,UAEzBxR,EAAK2B,QAAUA,EAEf3B,EAAKqG,OAASA,EATmBrG,0DAgBvB,IAAAU,EAAAR,KACLA,KAAK+R,YAAYzJ,SACpBtI,KAAK+R,YAAYxH,WAEjBvK,KAAK+R,YAAY3K,GAAG,WAAY,SAAC4K,GAC/BxR,EAAKkR,KAAK,mBAAoBlR,KAGhCR,KAAK+R,YAAY3K,GAAG,aAAc,SAAC4K,GACjCxR,EAAKkR,KAAK,qBAAsBlR,2CAUhCR,KAAK+R,YAAYzJ,SACnBtI,KAAK+R,YAAYjH,aAEjB9K,KAAK+R,YAAYE,mDAQAxQ,GACnB,IAAMyQ,EAAUC,IAAcC,aAC5B3Q,EAAQ7B,GACR6B,EAAQ4Q,KACR5Q,EAAQ6Q,QACR7Q,EAAQoP,SAEN/J,EAAgBrF,EAAQqF,cAE5B,IAAKA,EAAe,CAClB,IAAMyL,EAAgBvS,KAAKmG,OAAOqM,YAAW,GAE7C1L,EAAgB,IAAIlF,SAASC,QAAQ4C,GAAGgO,aACtChR,EAAQ7B,IAEV2S,EAAcG,WAAW5L,GAK3B,OAFAA,EAAc4L,WAAWR,GAElBA,SAnEgCjB,KCF5Ba","file":"68.js","sourcesContent":["/// //////////////////////////////////////////////////////////////////\n// IoTPropertyPanel\n// by Philippe Leefsma, April 2016\n//\n/// //////////////////////////////////////////////////////////////////\n\nexport default class PropertyPanel extends\n  Autodesk.Viewing.UI.PropertyPanel {\n  /// //////////////////////////////////////////////////////////////\n  // Class constructor\n  //\n  /// //////////////////////////////////////////////////////////////\n  constructor (container, id, title) {\n    super(container, id, title)\n\n    $(this.container).addClass('toolPanelBase')\n    $(this.container).addClass('IoT')\n\n    this.container.dockRight = false\n\n    this.properties = []\n  }\n\n  /// //////////////////////////////////////////////////////////\n  // createTitleBar override\n  //\n  /// //////////////////////////////////////////////////////////\n  createTitleBar (title) {\n    var titleBar = document.createElement('div')\n\n    titleBar.className = 'dockingPanelTitle'\n\n    this.titleTextId = guid()\n\n    this.titleImgId = guid()\n\n    var html = `\n      <span id=\"${this.titleImgId}\"></span>\n      <div id=\"${this.titleTextId}\" class=\"dockingPanelTitleText\">\n        ${title}\n      </div>\n    `\n\n    $(titleBar).append(html)\n\n    this.addEventListener(titleBar, 'click', (event) => {\n      if (!this.movedSinceLastClick) {\n        this.onTitleClick(event)\n      }\n\n      this.movedSinceLastClick = false\n    })\n\n    this.addEventListener(titleBar, 'dblclick', (event) => {\n      this.onTitleDoubleClick(event)\n    })\n\n    return titleBar\n  }\n\n  /// //////////////////////////////////////////////////////////\n  // setTitle override\n  //\n  /// //////////////////////////////////////////////////////////\n  setTitle (text, options) {\n    if (options && options.localizeTitle) {\n      $(`#${this.titleTextId}`).attr('data-i18n', text)\n\n      text = Autodesk.Viewing.i18n.translate(text)\n    } else {\n      $(`#${this.titleTextId}`).removeAttr('data-i18n')\n    }\n\n    $(`#${this.titleTextId}`).text(text)\n  }\n\n  /// //////////////////////////////////////////////////////////////\n  // setNodeProperties override\n  //\n  /// //////////////////////////////////////////////////////////////\n  setNodeProperties (nodeId) {\n    super.setNodeProperties(nodeId)\n\n    this.nodeId = nodeId\n  }\n\n  /// //////////////////////////////////////////////////////////////\n  // Adds new meta property to panel\n  //\n  /// //////////////////////////////////////////////////////////////\n  addMetaProperty (metaProperty, options) {\n    var element = this.tree.getElementForNode({\n      name: metaProperty.name,\n      value: metaProperty.value,\n      category: metaProperty.category\n    })\n\n    if (element) {\n      return false\n    }\n\n    var parent = null\n\n    if (metaProperty.category) {\n      parent = this.tree.getElementForNode({\n        name: metaProperty.category\n      })\n\n      if (!parent) {\n        parent = this.tree.createElement_({\n          name: metaProperty.category,\n          type: 'category'\n        },\n        this.tree.myRootContainer,\n        options && options.localizeCategory ? { localize: true } : null)\n      }\n    } else {\n      parent = this.tree.myRootContainer\n    }\n\n    this.tree.createElement_(\n      metaProperty,\n      parent,\n      options && options.localizeProperty ? { localize: true } : null)\n\n    return true\n  }\n\n  /// //////////////////////////////////////////////////////////////\n  // setProperties override\n  //\n  /// //////////////////////////////////////////////////////////////\n  setProperties (properties) {\n    // super.setProperties(properties)\n\n    this.removeAllProperties()\n\n    properties.forEach((prop) => {\n      this.addMetaProperty(prop)\n    })\n\n    this.properties = properties\n  }\n\n  /// //////////////////////////////////////////////////////////////\n  // setVisible override\n  //\n  /// //////////////////////////////////////////////////////////////\n  setVisible (show) {\n    if (!this.properties || !this.properties.length) {\n      return super.setVisible(false)\n    }\n\n    super.setVisible(show)\n  }\n\n  /// //////////////////////////////////////////////////////////////\n  // displayProperty override\n  //\n  /// //////////////////////////////////////////////////////////////\n  displayProperty (property, parent, options) {\n    var name = document.createElement('div')\n\n    if (property.nameId) {\n      name.id = property.nameId\n    }\n\n    var text = property.name\n\n    if (options && options.localize) {\n      name.setAttribute('data-i18n', text)\n      text = Autodesk.Viewing.i18n.translate(text)\n    }\n\n    name.textContent = text\n    name.title = text\n    name.className = 'propertyName'\n\n    var separator = document.createElement('div')\n    separator.className = 'separator'\n\n    parent.appendChild(name)\n    parent.appendChild(separator)\n\n    var value = null\n\n    // native properties dont have a dataType\n    // display them just as text\n    if (!property.dataType) {\n      value = createTextProperty(property, parent)\n      return [name, value]\n    }\n\n    switch (property.dataType) {\n      case 'text':\n        value = createTextProperty(property, parent)\n        break\n\n      case 'link':\n        value = createLinkProperty(property, parent)\n        break\n\n      case 'img':\n        value = createImageProperty(property, parent)\n        break\n\n      case 'file':\n        value = createFileProperty(property, parent)\n        break\n\n      default :\n        break\n    }\n\n    // Make the property highlightable\n    return [name, value]\n  }\n\n  /// //////////////////////////////////////////////////////////////\n  // onPropertyClick handle\n  //\n  /// //////////////////////////////////////////////////////////////\n  async onPropertyClick (property, event) {\n    if (!property.dataType) { return }\n\n    switch (property.dataType) {\n      case 'text':\n        // nothing to do for text\n        break\n\n      // opens link in new tab\n      case 'link':\n        window.open(property.href, '_blank')\n        break\n\n      // download image or file\n      case 'img':\n      case 'file':\n        downloadURI(property.href, property.filename)\n        break\n\n      default :\n        break\n    }\n  }\n}\n\n/// //////////////////////////////////////////////////////////////\n// Creates a text property\n//\n/// //////////////////////////////////////////////////////////////\nfunction createTextProperty (property, parent) {\n  var value = document.createElement('div')\n  value.textContent = property.value\n  value.title = property.value\n  value.className = 'propertyValue'\n\n  parent.appendChild(value)\n\n  return value\n}\n\n/// //////////////////////////////////////////////////////////////\n// Creates a link property\n//\n/// //////////////////////////////////////////////////////////////\nfunction createLinkProperty (property, parent) {\n  var id = guid()\n\n  var html = `\n    <div id=\"${id}\" class=\"propertyValue derivative\">\n      <a  href=\"${property.href}\" target=\"_blank\">\n        ${property.value}\n      </a>\n    </div>\n    `\n\n  $(parent).append(html)\n\n  return $('#' + id)[0]\n}\n\n/// //////////////////////////////////////////////////////////////\n// Creates an image property\n//\n/// //////////////////////////////////////////////////////////////\nfunction createImageProperty (property, parent) {\n  var id = guid()\n\n  var html = [\n\n    '<div id=\"' + id + '\" class=\"propertyValue derivative\">' +\n    '<a href=\"' + property.href + '\">',\n    '<img src=\"' + property.href + '\" width=\"128\" height=\"128\"> </img>' +\n    '</a>',\n    '</div>'\n\n  ].join('\\n')\n\n  $(parent).append(html)\n\n  return $('#' + id)[0]\n}\n\n/// //////////////////////////////////////////////////////////////\n// Creates a file property\n//\n/// //////////////////////////////////////////////////////////////\nfunction createFileProperty (property, parent) {\n  var id = guid()\n\n  var html = [\n\n    '<div id=\"' + id + '\" class=\"propertyValue derivative\">' +\n    '<a href=\"' + property.href + '\">',\n    property.value,\n    '</a>',\n    '</div>'\n\n  ].join('\\n')\n\n  $(parent).append(html)\n\n  return $('#' + id)[0]\n}\n\n/// //////////////////////////////////////////////////////////////\n// guid util\n//\n/// //////////////////////////////////////////////////////////////\nfunction guid (format = 'xxxxxxxxxx') {\n  var d = new Date().getTime()\n\n  var guid = format.replace(\n    /[xy]/g,\n    function (c) {\n      var r = (d + Math.random() * 16) % 16 | 0\n      d = Math.floor(d / 16)\n      return (c == 'x' ? r : (r & 0x7 | 0x8)).toString(16)\n    })\n\n  return guid\n}\n\n/// //////////////////////////////////////////////////////////////\n//\n//\n/// //////////////////////////////////////////////////////////////\nfunction downloadURI (uri, name) {\n  var link = document.createElement('a')\n  link.download = name\n  link.href = uri\n  link.click()\n}\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../../node_modules/sass-loader/lib/loader.js!./Data.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../../node_modules/sass-loader/lib/loader.js!./Data.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../../node_modules/sass-loader/lib/loader.js!./Data.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".IoT .title {\\n  display: -ms-inline-flexbox;\\n  display: inline-flex;\\n  float: left; }\\n\\n.IoT .title > label {\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  white-space: nowrap;\\n  font-weight: normal;\\n  user-select: none;\\n  margin-left: 27px;\\n  margin-top: 10px;\\n  select: none;\\n  width: 144px;\\n  float: left; }\\n\\n.IoT .item-list-container {\\n  background-color: #ffffff;\\n  overflow: auto;\\n  padding: 8px;\\n  height: 100%; }\\n\\n.IoT .graph-list-container {\\n  background-color: rgba(171, 171, 171, 0.32);\\n  overflow: auto; }\\n\\n.IoT .graph-title {\\n  background-color: whitesmoke;\\n  height: 30px; }\\n\\n.IoT .graph-title label {\\n  position: relative;\\n  float: left;\\n  left: 10px;\\n  top: 4px; }\\n\\n.IoT .list-item {\\n  transition-property: background-color;\\n  transition-timing-function: ease;\\n  transition-duration: 1.0s;\\n  transition-delay: 0.0s;\\n  background-color: #f8f8f8;\\n  border: 1px solid #5f5f5f;\\n  border-radius: 4px;\\n  margin-bottom: 4px;\\n  overflow: hidden;\\n  cursor: pointer;\\n  height: 38px; }\\n\\n.IoT .list-item:hover {\\n  background-color: #ecf2ff;\\n  border: 2px solid rgba(37, 58, 221, 0.51); }\\n\\n.IoT .list-item.active {\\n  background-color: #c1ddff;\\n  border: 1px solid #253add; }\\n\\n.IoT .list-item label {\\n  white-space: nowrap;\\n  position: relative;\\n  float: left;\\n  left: 44px;\\n  top: 8px; }\\n\\n.IoT .item-priority {\\n  position: relative;\\n  border-radius: 50%;\\n  height: 28px;\\n  margin: 4px;\\n  width: 28px;\\n  float: left; }\\n\", \"\"]);\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../../node_modules/sass-loader/lib/loader.js!./IoT.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../../node_modules/sass-loader/lib/loader.js!./IoT.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../../node_modules/sass-loader/lib/loader.js!./IoT.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".IoT.toolPanelBase {\\n  height: 500px;\\n  width: 330px;\\n  left: 10px;\\n  top: 10px; }\\n\\n.IoT.toolPanelBase .dockingPanelTitle span, .IoT.toolPanelBase .dockingPanelTitle span:before {\\n  background-repeat: no-repeat;\\n  background-size: 100%;\\n  margin-right: 10px;\\n  height: 24px;\\n  float: left;\\n  width: 24px; }\\n\\n.IoT .hotspot-item-img {\\n  display: none; }\\n\\n.IoT .hotspot-item label {\\n  font-weight: normal;\\n  padding: 2px;\\n  margin: 0; }\\n\\n.IoT .tooltip {\\n  border-bottom: 0px; }\\n\\n.IoT div.tooltip-inner {\\n  border: 1px solid #b4b4b4;\\n  background-color: #f8f8f8;\\n  padding: 2px 2px;\\n  max-width: 150px;\\n  color: #000000; }\\n\", \"\"]);\n","/// //////////////////////////////////////////////////////////////\n// Configurator Extension\n// By Philippe Leefsma, February 2016\n//\n/// //////////////////////////////////////////////////////////////\nimport { ReflexContainer, ReflexElement, ReflexSplitter } from 'react-reflex'\nimport HotSpotPropertyPanel from './IoT.HotSpot.PropertyPanel'\nimport ExtensionBase from 'Viewer.ExtensionBase'\nimport WidgetContainer from 'WidgetContainer'\nimport EventTool from 'Viewer.EventTool'\nimport { ServiceContext } from 'ServiceContext'\nimport Toolkit from 'Viewer.Toolkit'\nimport IoTGraph from './IoT.Graph'\nimport React from 'react'\nimport './Data.scss'\n\n// Commands\nimport HotSpotCommand from 'HotSpot.Command'\n\nclass IoTExtension extends ExtensionBase {\n  /// //////////////////////////////////////////////////////////////\n  // Class constructor\n  //\n  /// //////////////////////////////////////////////////////////////\n  constructor (viewer, options) {\n    super(viewer, options)\n\n    this.onSensorEvent = this.onSensorEvent.bind(this)\n    this.onSelection = this.onSelection.bind(this)\n\n    this.react = this.options.react\n\n    this.hotSpotCommand = new HotSpotCommand(viewer, {\n      parentControl: options.parentControl,\n      hotspots: options.hotspots,\n      animate: true\n    })\n\n    this.panel = new HotSpotPropertyPanel(\n      this.viewer.container,\n      this.guid(),\n      'Hotspot Data')\n\n    this.controlledHotspot = null\n\n    this.hotSpotCommand.on('hotspot.created', (hotspot) => {\n      if (hotspot.data.controlled) {\n        this.controlledHotspot = hotspot\n\n        hotspot.hide()\n      }\n    })\n\n    this.hotSpotCommand.on('hotspot.clicked', (hotspot) => {\n      // console.log(JSON.stringify(this.viewer.getState({viewport:true})))\n\n      const state = this.react.getState()\n\n      this.panel.setProperties(hotspot.data.properties)\n\n      // this.hotSpotCommand.isolate(hotspot.id)\n\n      this.panel.setVisible(true)\n\n      this.viewer.restoreState(\n        hotspot.data.viewerState)\n\n      Toolkit.isolateFull(\n        this.viewer,\n        hotspot.data.isolateIds)\n\n      const id = hotspot.data.id\n\n      const stateHotSpots = state.hotspots.map((hotspot) => {\n        return Object.assign({}, hotspot, {\n          active: hotspot.id === id\n        })\n      })\n\n      this.react.setState({\n        activeItem: hotspot.data,\n        hotspots: stateHotSpots\n      })\n    })\n\n    this.socketSvc.connect()\n\n    const sensorEvents = [\n      'sensor.acceleration',\n      'sensor.temperature',\n      'sensor.lux'\n    ]\n\n    this.socketSvc.on(sensorEvents.join(' '),\n      this.onSensorEvent)\n\n    this.timeout = null\n  }\n\n  /// //////////////////////////////////////////////////////////////\n  // Sensor event\n  //\n  /// //////////////////////////////////////////////////////////////\n  onSensorEvent (data) {\n    const passThreshold = (data) => {\n      for (const key of Object.keys(data)) {\n        if (data[key].value >= data[key].threshold) {\n          return true\n        }\n      }\n\n      return false\n    }\n\n    if (!this.controlledHotspot) {\n      return\n    }\n\n    const state = this.react.getState()\n\n    const activeItem = state.activeItem\n\n    if (activeItem && (activeItem.id === this.controlledHotspot.id)) {\n      this.react.setState({\n        graphData: data\n      })\n    }\n\n    if (passThreshold(data)) {\n      clearTimeout(this.timeout)\n\n      this.timeout = null\n\n      this.controlledHotspot.setData({\n        strokeColor: '#FF0000',\n        fillColor: '#FF8888'\n      })\n\n      if (this.controlledHotspot) {\n        this.controlledHotspot.show()\n      }\n\n      const stateHostSpots = state.hotspots.filter((hotspot) => {\n        return !hotspot.controlled\n      })\n\n      this.react.setState({\n        hotspots: [\n          ...stateHostSpots,\n          this.controlledHotspot.data\n        ]\n      })\n    } else {\n      this.controlledHotspot.setData({\n        strokeColor: '#4CAF50',\n        fillColor: '#4CAF50'\n      })\n\n      this.react.setState({\n        hotspots: state.hotspots.map((hotspot) => {\n          if (hotspot.id === this.controlledHotspot.id) {\n            hotspot.strokeColor = '#4CAF50'\n            hotspot.fillColor = '#4CAF50'\n          }\n\n          return hotspot\n        })\n      })\n\n      if (!this.timeout) {\n        this.timeout = setTimeout(() => {\n          this.timeout = null\n\n          this.controlledHotspot.hide()\n\n          this.react.setState({\n            hotspots: state.hotspots.filter((hotspot) => {\n              return !hotspot.controlled\n            })\n          })\n\n          if (activeItem && (activeItem.id === this.controlledHotspot.id)) {\n            this.react.setState({\n              activeItem: null,\n              graphData: null\n            })\n          }\n        }, 20 * 1000)\n      }\n    }\n  }\n\n  /// //////////////////////////////////////////////////////////////\n  // Load callback\n  //\n  /// //////////////////////////////////////////////////////////////\n  load () {\n    this.viewer.loadDynamicExtension(\n      'Viewing.Extension.UISettings', {\n        toolbar: {\n          removedControls: [\n            '#navTools'\n          ],\n          retargetedControls: [\n\n          ]\n        }\n      })\n\n    this.viewer.loadDynamicExtension(\n      'Viewing.Extension.ContextMenu', {\n        buildMenu: (menu) => {\n          return menu.map((item) => {\n            const title = item.title.toLowerCase()\n            if (title === 'show all objects') {\n              return {\n                title: 'Show All objects',\n                target: () => {\n                  Toolkit.isolateFull(this.viewer)\n                  this.viewer.fitToView()\n                }\n              }\n            }\n            return item\n          })\n        }\n      })\n\n    this.eventTool = new EventTool(this.viewer)\n\n    this.eventTool.activate()\n\n    this.eventTool.on('singleclick', (event) => {\n      this.pointer = event\n    })\n\n    this.viewer.addEventListener(\n      Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT,\n      this.onSelection)\n\n    this.viewer.addEventListener(\n      Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT, (e) => {\n        this.options.loader.show(false)\n        this.hotSpotCommand.activate()\n      })\n\n    this.react.pushRenderExtension(this)\n\n    this.react.setState({\n      hotspots: this.options.hotspots.filter((hotspot) => {\n        return !hotspot.controlled\n      })\n    })\n\n    return true\n  }\n\n  /// //////////////////////////////////////////////////////\n  //\n  //\n  /// //////////////////////////////////////////////////////\n  get className () {\n    return 'IoT'\n  }\n\n  /// //////////////////////////////////////////////////////////////\n  // Extension Id\n  //\n  /// //////////////////////////////////////////////////////////////\n  static get ExtensionId () {\n    return 'Viewing.Extension.IoT'\n  }\n\n  /// //////////////////////////////////////////////////////////////\n  // Unload callback\n  //\n  /// //////////////////////////////////////////////////////////////\n  unload () {\n    this.hotSpotCommand.deactivate()\n\n    return true\n  }\n\n  /// //////////////////////////////////////////////////////////////\n  //\n  //\n  /// //////////////////////////////////////////////////////////////\n  onSelection (event) {\n    if (event.selections && event.selections.length) {\n      const selection = event.selections[0]\n\n      const data = this.viewer.clientToWorld(\n        this.pointer.canvasX,\n        this.pointer.canvasY,\n        true)\n\n      // console.log(data)\n    }\n  }\n\n  /// //////////////////////////////////////////////////////////////\n  //\n  //\n  /// //////////////////////////////////////////////////////////////\n  onItemClicked (item) {\n    const state = this.react.getState()\n\n    const activeItem = state.activeItem\n\n    if (activeItem && (activeItem.id === item.id)) {\n      const stateHotSpots = state.hotspots.map((hotspot) => {\n        return Object.assign({}, hotspot, {\n          active: false\n        })\n      })\n\n      this.react.setState({\n        hotspots: stateHotSpots,\n        activeItem: null,\n        graphData: null\n      })\n\n      Toolkit.isolateFull(this.viewer)\n\n      // this.hotSpotCommand.isolate()\n\n      this.panel.setVisible(false)\n\n      this.viewer.fitToView()\n    } else {\n      this.panel.setProperties(item.properties)\n\n      // this.hotSpotCommand.isolate(item.id)\n\n      this.panel.setVisible(true)\n\n      this.viewer.restoreState(\n        item.viewerState)\n\n      Toolkit.isolateFull(\n        this.viewer,\n        item.isolateIds)\n\n      const stateHotSpots = state.hotspots.map((hotspot) => {\n        return Object.assign({}, hotspot, {\n          active: hotspot.id === item.id\n        })\n      })\n\n      this.react.setState({\n        hotspots: stateHotSpots,\n        activeItem: item,\n        graphData: null\n      })\n    }\n  }\n\n  /// //////////////////////////////////////////////////////////////\n  //\n  //\n  /// //////////////////////////////////////////////////////////////\n  hexToRgbA (hex, alpha) {\n    if (/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex)) {\n      var c = hex.substring(1).split('')\n\n      if (c.length == 3) {\n        c = [c[0], c[0], c[1], c[1], c[2], c[2]]\n      }\n\n      c = '0x' + c.join('')\n\n      return `rgba(${(c >> 16) & 255},${(c >> 8) & 255},${c & 255},${alpha})`\n    }\n\n    throw new Error('Bad Hex Number: ' + hex)\n  }\n\n  /// //////////////////////////////////////////////////////////////\n  //\n  //\n  /// //////////////////////////////////////////////////////////////\n  renderTitle () {\n    return (\n      <div className='title'>\n        <label>\n          Incidents\n        </label>\n      </div>\n    )\n  }\n\n  /// //////////////////////////////////////////////////////////////\n  //\n  //\n  /// //////////////////////////////////////////////////////////////\n  render () {\n    const state = this.react.getState()\n\n    const items = state.hotspots.map((hotspot) => {\n      const active = hotspot.active ? ' active' : ''\n\n      const style = {\n        backgroundColor: this.hexToRgbA(hotspot.fillColor, 0.3),\n        border: `2px solid ${hotspot.strokeColor}`\n      }\n\n      return (\n        <div\n          key={`item-${hotspot.id}`}\n          className={'list-item ' + active}\n          onClick={() => {\n            this.onItemClicked(hotspot)\n          }}\n        >\n          <div className='item-priority' style={style} />\n          <label>\n            {hotspot.name || hotspot.id}\n          </label>\n        </div>\n      )\n    })\n\n    return (\n      <WidgetContainer\n        renderTitle={() => this.renderTitle()}\n        className={this.className}\n        showTitle\n      >\n\n        <ReflexContainer key='incidents' orientation='horizontal'>\n          <ReflexElement flex={0.35}>\n            <div className='item-list-container'>\n              {items}\n            </div>\n          </ReflexElement>\n          <ReflexSplitter />\n          <ReflexElement\n            className='graph-list-container'\n            propagateDimensions\n            renderOnResize\n            minSize={93}\n          >\n            {\n              state.activeItem &&\n                <IoTGraphContainer\n                  tags={state.activeItem.tags}\n                  graphData={state.graphData}\n                  guid={state.activeItem.id}\n                />\n            }\n          </ReflexElement>\n        </ReflexContainer>\n      </WidgetContainer>\n    )\n  }\n}\n\nclass IoTGraphContainer extends React.Component {\n  render () {\n    const { guid, graphData, dimensions, tags } = this.props\n\n    // TEMP\n    const threshold1 = graphData\n      ? graphData.temperature.threshold\n      : 20 + (0.5 - Math.random()) * 2\n\n    // Accel\n    const threshold2 = graphData\n      ? graphData.acceleration.threshold\n      : 0.5 + (0.5 - Math.random()) * 0.2\n\n    // LUX\n    const threshold3 = graphData\n      ? graphData.lux.threshold\n      : 150 + (0.5 - Math.random()) * 50\n\n    const value1 = graphData\n      ? graphData.temperature.value\n      : null\n\n    const value2 = graphData\n      ? graphData.acceleration.value\n      : null\n\n    const value3 = graphData\n      ? graphData.lux.value\n      : null\n\n    return (\n      <div>\n        <IoTGraph\n          dimensions={dimensions}\n          threshold={threshold1}\n          name='Temperature'\n          randomRange={10.0}\n          randomBase={23.0}\n          tagId={tags[0]}\n          value={value1}\n          guid={guid}\n          max={50.0}\n          min={0.0}\n        />\n        <IoTGraph\n          dimensions={dimensions}\n          threshold={threshold2}\n          name='Acceleration'\n          randomRange={0.3}\n          randomBase={0.7}\n          tagId={tags[1]}\n          value={value2}\n          guid={guid}\n          max={2.0}\n          min={0.0}\n        />\n        <IoTGraph\n          dimensions={dimensions}\n          threshold={threshold3}\n          randomRange={50.0}\n          randomBase={145.0}\n          tagId={tags[2]}\n          value={value3}\n          name='Lux'\n          guid={guid}\n          max={200.0}\n          min={0.0}\n        />\n      </div>\n    )\n  }\n}\n\nAutodesk.Viewing.theExtensionManager.registerExtension(\n  IoTExtension.ExtensionId,\n  IoTExtension)\n","import './Viewing.Extension.IoT'\nimport './IoT.scss'\n\nexport default 'Viewing.Extension.IoT'\n","var superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","import PropTypes from 'prop-types'\nimport ReactDOM from 'react-dom'\nimport './WidgetContainer.scss'\nimport React from 'react'\n\nclass WidgetContainer extends React.Component {\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static propTypes = {\n    className: PropTypes.string,\n    showTitle: PropTypes.bool\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static defaultProps = {\n    showTitle: true,\n    className: ''\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  renderTitle () {\n\n    if (!this.props.showTitle) {\n\n      return <div/>\n    }\n\n    if (this.props.renderTitle) {\n\n      return this.props.renderTitle()\n    }\n\n    return (\n      <div className=\"title\">\n        <label>\n          { this.props.title }\n        </label>\n      </div>\n    )\n  }\n\n  ///////////////////////////////////////////////////////////////////\n  //\n  //\n  ///////////////////////////////////////////////////////////////////\n  renderChildren() {\n\n    if (this.props.dimensions) {\n\n      return React.Children.map(this.props.children, (child) => {\n\n        const newProps = Object.assign({},\n          child.props, {\n            dimensions: this.props.dimensions\n          })\n\n        return React.cloneElement(child, newProps)\n      })\n    }\n\n    return this.props.children\n  }\n\n  ///////////////////////////////////////////////////////////////////\n  //\n  //\n  ///////////////////////////////////////////////////////////////////\n  render() {\n\n    const classNames = [\n      'widget-container',\n      ...this.props.className.split(' ')\n    ]\n\n    const height = this.props.showTitle\n      ? 'calc(100% - 40px)'\n      : '100%'\n\n    return (\n      <div className={classNames.join(' ')} style={this.props.style}>\n         { this.renderTitle() }\n        <div className=\"content\" style={{height}}>\n          {this.renderChildren()}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default WidgetContainer\n","import WidgetContainer from './WidgetContainer'\n\nexport default WidgetContainer\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./WidgetContainer.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./WidgetContainer.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/lib/loader.js!./WidgetContainer.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".widget-container {\\n  position: relative;\\n  height: 100%;\\n  width: 100%; }\\n\\n.widget-container > .title {\\n  border-bottom: 1px solid #cdcdcd;\\n  background-color: #f5f5f5;\\n  padding-right: 10px;\\n  color: black;\\n  position: relative;\\n  overflow: hidden;\\n  text-align: left;\\n  height: 40px;\\n  width: 100%; }\\n\\n.widget-container > .title > label {\\n  white-space: nowrap;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  margin-left: 27px;\\n  margin-top: 10px; }\\n\\n.widget-container > .content {\\n  position: relative;\\n  overflow: hidden;\\n  height: 100%;\\n  width: 100%; }\\n\", \"\"]);\n","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","import ViewerExtensionBase from './Viewer.ExtensionBase'\n\nexport default ViewerExtensionBase\n","import EventsEmitter from 'EventsEmitter'\n\nexport default class ExtensionBase extends\n  EventsEmitter.Composer(Autodesk.Viewing.Extension) {\n  /// //////////////////////////////////////////////////////\n  // Class constructor\n  //\n  /// //////////////////////////////////////////////////////\n  constructor (viewer, options = {}) {\n    super(viewer, options)\n\n    this._viewer = viewer\n    this.viewer = viewer\n\n    this._options = options\n    this.options = options\n    Object.assign(this, options.serviceContext)\n  }\n\n  /// //////////////////////////////////////////////////////\n  // Extension Id\n  //\n  /// //////////////////////////////////////////////////////\n  static get ExtensionId () {\n    return 'Viewing.Extension.Base'\n  }\n\n  /// ////////////////////////////////////////////////////////\n  //\n  //\n  /// ////////////////////////////////////////////////////////\n  static guid (format = 'xxxxxxxxxx') {\n    var d = new Date().getTime()\n\n    var guid = format.replace(\n      /[xy]/g,\n      function (c) {\n        var r = (d + Math.random() * 16) % 16 | 0\n        d = Math.floor(d / 16)\n        return (c == 'x' ? r : (r & 0x7 | 0x8)).toString(16)\n      })\n\n    return guid\n  }\n\n  /// //////////////////////////////////////////////////////\n  // Load callback\n  //\n  /// //////////////////////////////////////////////////////\n  load () {\n    return true\n  }\n\n  /// //////////////////////////////////////////////////////\n  // Unload callback\n  //\n  /// //////////////////////////////////////////////////////\n  unload () {\n    return true\n  }\n\n  /// //////////////////////////////////////////////////////\n  // Reload callback\n  //\n  /// //////////////////////////////////////////////////////\n  reload (options) {\n    return true\n  }\n\n  /// //////////////////////////////////////////////////////\n  // Async viewer event\n  //\n  /// //////////////////////////////////////////////////////\n  viewerEvent (eventId) {\n    const eventIdArray = Array.isArray(eventId)\n      ? eventId : [eventId]\n\n    const eventTasks = eventIdArray.map((id) => {\n      return new Promise((resolve) => {\n        const handler = (args) => {\n          this.viewer.removeEventListener(\n            id, handler)\n          resolve(args)\n        }\n        this.viewer.addEventListener(\n          id, handler)\n      })\n    })\n\n    return Promise.all(eventTasks)\n  }\n}\n","import EventsEmitter from 'EventsEmitter'\n\nexport default class CommandTool extends EventsEmitter {\n  constructor (viewer, options = {}) {\n    super()\n\n    this.toolName = options.commandId\n\n    viewer.toolController.registerTool(this)\n\n    this.options = options\n\n    this.viewer = viewer\n  }\n\n  /// //////////////////////////////////////////////////////////////\n  // Tool names\n  //\n  /// //////////////////////////////////////////////////////////////\n  getNames () {\n    return [this.toolName]\n  }\n\n  /// //////////////////////////////////////////////////////////////\n  // Tool name\n  //\n  /// //////////////////////////////////////////////////////////////\n  getName () {\n    return this.toolName\n  }\n\n  /// //////////////////////////////////////////////////////////////\n  // Activate Tool\n  //\n  /// //////////////////////////////////////////////////////////////\n  activate () {\n    if (!this.active) {\n      this.active = true\n\n      this.viewer.toolController.activateTool(this.toolName)\n\n      this.emit('activate', this)\n    }\n  }\n\n  /// //////////////////////////////////////////////////////////////\n  // Deactivate tool\n  //\n  /// //////////////////////////////////////////////////////////////\n  deactivate () {\n    if (this.active) {\n      this.active = false\n\n      this.viewer.toolController.deactivateTool(this.toolName)\n\n      this.emit('deactivate', this)\n    }\n  }\n\n  /// //////////////////////////////////////////////////////////////\n  //\n  //\n  /// //////////////////////////////////////////////////////////////\n  handleSingleClick (event, button) {\n    return this.emit('singleclick', event, button)\n  }\n\n  /// //////////////////////////////////////////////////////////////\n  //\n  //\n  /// //////////////////////////////////////////////////////////////\n  handleMouseMove (event) {\n    return this.emit('mousemove', event)\n  }\n\n  /// //////////////////////////////////////////////////////////////\n  //\n  //\n  /// //////////////////////////////////////////////////////////////\n  handleKeyDown (event, keyCode) {\n    return this.emit('keydown', event, keyCode)\n  }\n}\n","import CommandTool from './Viewer.Command.Tool'\nimport ViewerToolkit from 'Viewer.Toolkit'\nimport EventsEmitter from 'EventsEmitter'\n\nexport default class ViewerCommand extends EventsEmitter {\n  constructor (viewer, options = {}) {\n    super()\n\n    this.commandTool = new CommandTool(viewer, options)\n\n    this.commandId = options.commandId\n\n    this.options = options\n\n    this.viewer = viewer\n  }\n\n  /// //////////////////////////////////////////////////////////////\n  //\n  //\n  /// //////////////////////////////////////////////////////////////\n  activate () {\n    if (!this.commandTool.active) {\n      this.commandTool.activate()\n\n      this.commandTool.on('activate', (tool) => {\n        this.emit('command.activate', this)\n      })\n\n      this.commandTool.on('deactivate', (tool) => {\n        this.emit('command.deactivate', this)\n      })\n    }\n  }\n\n  /// //////////////////////////////////////////////////////////////\n  //\n  //\n  /// //////////////////////////////////////////////////////////////\n  deactivate () {\n    if (this.commandTool.active) {\n      this.commandTool.deactivate()\n\n      this.commandTool.off()\n    }\n  }\n\n  /// //////////////////////////////////////////////////////////////\n  //\n  //\n  /// //////////////////////////////////////////////////////////////\n  createButtonControl (options) {\n    const control = ViewerToolkit.createButton(\n      options.id,\n      options.icon,\n      options.caption,\n      options.handler)\n\n    var parentControl = options.parentControl\n\n    if (!parentControl) {\n      const viewerToolbar = this.viewer.getToolbar(true)\n\n      parentControl = new Autodesk.Viewing.UI.ControlGroup(\n        options.id)\n\n      viewerToolbar.addControl(parentControl)\n    }\n\n    parentControl.addControl(control)\n\n    return control\n  }\n}\n","import ViewerCommand from './Viewer.Command'\n\nexport default ViewerCommand\n"],"sourceRoot":""}